{"version":3,"file":"index.js","sources":["../../src/lib/SendbirdSdkContext.jsx","../../src/lib/dux/sdk/actionTypes.js","../../src/lib/dux/user/actionTypes.js","../../src/lib/dux/sdk/thunks.js","../../src/lib/dux/sdk/initialState.js","../../src/lib/dux/sdk/reducers.js","../../src/lib/dux/user/initialState.js","../../src/lib/dux/user/reducers.js","../../src/utils/uuid.js","../../src/lib/hooks/useOnlineStatus.js","../../src/lib/Logger/index.js","../../src/lib/pubSub/index.js","../../src/lib/Sendbird.jsx","../../src/smart-components/ChannelList/dux/actionTypes.js","../../src/smart-components/ChannelList/dux/initialState.js","../../src/smart-components/ChannelList/dux/reducers.js","../../src/ui/ImageRenderer/index.jsx","../../src/ui/Avatar/index.jsx","../../src/ui/Label/types.js","../../src/ui/Label/utils.js","../../src/ui/Label/stringSet.js","../../src/ui/Label/index.jsx","../../src/ui/Badge/index.jsx","../../src/ui/FileMessage/utils.js","../../src/ui/ChannelPreview/utils.js","../../src/ui/ChannelPreview/index.jsx","../../src/ui/IconButton/index.jsx","../../src/ui/ChannelHeader/index.jsx","../../src/ui/PlaceHolder/type.js","../../src/ui/Icon/type.js","../../src/ui/Icon/index.jsx","../../src/hooks/useModal/ModalRoot/index.jsx","../../src/ui/Button/type.js","../../src/ui/Button/utils.js","../../src/ui/Button/index.jsx","../../src/ui/Modal/index.jsx","../../src/ui/Checkbox/index.jsx","../../src/smart-components/InviteMembers/index.jsx","../../src/smart-components/ChannelList/components/utils.js","../../src/smart-components/ChannelList/components/AddChannel.jsx","../../src/ui/ContextMenu/items/MenuItems.jsx","../../src/ui/SortByRow/index.jsx","../../src/ui/ContextMenu/items/EmojiListItems.jsx","../../src/ui/ContextMenu/index.jsx","../../src/smart-components/ChannelSettings/components/LeaveChannel.jsx","../../src/smart-components/ChannelList/components/ChannelPreviewAction.jsx","../../src/ui/Loader/index.jsx","../../src/ui/PlaceHolder/index.jsx","../../src/smart-components/ChannelList/components/Placeholder.jsx","../../src/lib/pubSub/topics.js","../../src/smart-components/ChannelList/utils.js","../../src/smart-components/ChannelList/index.jsx","../../src/ui/MessageStatus/type.js","../../src/smart-components/Conversation/dux/actionTypes.js","../../src/smart-components/Conversation/utils.js","../../src/smart-components/Conversation/dux/initialState.js","../../src/utils/compareIds.js","../../src/smart-components/Conversation/dux/reducers.js","../../src/smart-components/Conversation/dux/eventListener.js","../../src/ui/ReactionButton/index.jsx","../../src/utils/utils.js","../../src/ui/MessageStatus/index.jsx","../../src/ui/ReactionBadge/index.jsx","../../src/ui/Tooltip/index.jsx","../../src/ui/TooltipWrapper/index.jsx","../../src/ui/EmojiReactions/index.jsx","../../src/ui/Message/util.js","../../src/ui/Message/index.jsx","../../src/ui/AdminMessage/index.jsx","../../src/ui/ThumbnailMessage/util.js","../../src/ui/FileViewer/types.js","../../src/ui/ThumbnailMessage/index.jsx","../../src/utils/color.js","../../src/ui/TextButton/index.jsx","../../src/ui/FileMessage/index.jsx","../../src/ui/DateSeparator/index.jsx","../../src/ui/MessageInput/index.jsx","../../src/ui/FileViewer/index.jsx","../../src/smart-components/Conversation/components/RemoveMessage.jsx","../../src/ui/UnknownMessage/utils.js","../../src/ui/UnknownMessage/index.jsx","../../src/smart-components/Conversation/components/MessageHOC.jsx","../../src/smart-components/Conversation/components/ConversationScroll.jsx","../../src/smart-components/Conversation/components/Notification.jsx","../../src/smart-components/Conversation/components/TypingIndicator.jsx","../../src/ui/ConnectionStatus/index.jsx","../../src/ui/ChatHeader/utils.js","../../src/ui/AutoRefresh/index.jsx","../../src/ui/ChatHeader/index.jsx","../../src/smart-components/Conversation/index.jsx","../../src/ui/Input/index.jsx","../../src/smart-components/ChannelSettings/components/EditDetails.jsx","../../src/smart-components/ChannelSettings/components/ChannelProfile.jsx","../../src/smart-components/ChannelSettings/components/MemebersAccordion.jsx","../../src/smart-components/ChannelSettings/index.jsx","../../src/smart-components/App/index.jsx","../../src/lib/selectors.js"],"sourcesContent":["import React from 'react';\n\nexport const SendbirdSdkContext = React.createContext();\n\nconst withSendbirdContext = (OriginalComponent, mapStoreToProps) => {\n  const ContextAwareComponent = (props) => (\n    <SendbirdSdkContext.Consumer>\n      {(context) => {\n        if (mapStoreToProps && typeof mapStoreToProps !== 'function') {\n          // eslint-disable-next-line no-console\n          console.warn('Second parameter to withSendbirdContext must be a pure function');\n        }\n        // todo - memoize\n        const mergedProps = (mapStoreToProps && typeof mapStoreToProps === 'function')\n          ? { ...mapStoreToProps(context), ...props }\n          : { ...context, ...props };\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        return <OriginalComponent {...mergedProps} />;\n      }}\n    </SendbirdSdkContext.Consumer>\n  );\n\n  const componentName = OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = `SendbirdAware${componentName}`;\n\n  return ContextAwareComponent;\n};\n\nexport default withSendbirdContext;\n","export const INIT_SDK = 'INIT_SDK';\nexport const SET_SDK_LOADING = 'SET_SDK_LOADING';\nexport const RESET_SDK = 'RESET_SDK';\nexport const SDK_ERROR = 'SDK_ERROR';\n","export const INIT_USER = 'INIT_USER';\nexport const RESET_USER = 'RESET_USER';\nexport const SET_USER_LOADING = 'SET_USER_LOADING';\nexport const UPDATE_USER_INFO = 'UPDATE_USER_INFO';\n","import Sb from 'sendbird';\n\nimport {\n  INIT_SDK,\n  SET_SDK_LOADING,\n  RESET_SDK,\n  SDK_ERROR,\n} from './actionTypes';\nimport { INIT_USER, UPDATE_USER_INFO, RESET_USER } from '../user/actionTypes';\n\nconst APP_VERSION_STRING = '__uikit_app_version__';\nconst IS_ROLLUP = '__is_rollup__';\nconst IS_ROLLUP_REPLACE = '__is_rollup_replace__';\n\nexport const disconnectSdk = ({\n  sdkDispatcher,\n  userDispatcher,\n  sdk,\n  onDisconnect,\n}) => {\n  sdkDispatcher({ type: SET_SDK_LOADING, payload: true });\n  if (sdk && sdk.disconnect) {\n    sdk.disconnect()\n      .then(() => {\n        sdkDispatcher({ type: RESET_SDK });\n        userDispatcher({ type: RESET_USER });\n      })\n      .finally(() => {\n        onDisconnect();\n      });\n  } else {\n    onDisconnect();\n  }\n};\n\nexport const handleConnection = ({\n  userId,\n  appId,\n  nickname,\n  profileUrl,\n  accessToken,\n  sdk,\n  logger,\n}, dispatchers) => {\n  const {\n    sdkDispatcher,\n    userDispatcher,\n  } = dispatchers;\n  disconnectSdk({\n    sdkDispatcher,\n    userDispatcher,\n    sdk,\n    logger,\n    onDisconnect: () => {\n      logger.info('Setup connection');\n      sdkDispatcher({ type: SET_SDK_LOADING, payload: true });\n      if (userId && appId) {\n        const newSdk = new Sb({ appId });\n        // to check if code is released version from rollup and *not from storybook*\n        // see rollup config file\n        if (IS_ROLLUP === IS_ROLLUP_REPLACE) {\n          newSdk.addExtension('sb_uikit', APP_VERSION_STRING);\n        }\n        const connectCbSucess = (user) => {\n          sdkDispatcher({ type: INIT_SDK, payload: newSdk });\n          userDispatcher({ type: INIT_USER, payload: user });\n          // use nickname/profileUrl if provided\n          // or set userID as nickname\n          const newNickName = nickname || user.nickname;\n          const newProfileUrl = profileUrl || user.profileUrl;\n          newSdk.updateCurrentUserInfo(newNickName, newProfileUrl)\n            .then((namedUser) => {\n              userDispatcher({ type: UPDATE_USER_INFO, payload: namedUser });\n            });\n        };\n\n        const connectCbError = (e) => {\n          logger.error('Connection failed', `${e}`);\n          sdkDispatcher({ type: RESET_SDK });\n          sdkDispatcher({ type: RESET_USER });\n          sdkDispatcher({ type: SDK_ERROR });\n        };\n\n        if (accessToken) {\n          newSdk.connect(userId, accessToken)\n            .then((res) => connectCbSucess(res))\n            .catch((err) => connectCbError(err));\n        } else {\n          newSdk.connect(userId)\n            .then((res) => connectCbSucess(res))\n            .catch((err) => connectCbError(err));\n        }\n      } else {\n        sdkDispatcher({ type: SDK_ERROR });\n        logger.warning('Connection failed', 'UserId or appId missing');\n      }\n    },\n  });\n};\n","export default {\n  initialized: false,\n  loading: false,\n  sdk: {},\n  error: false,\n};\n","import * as sdkActions from './actionTypes';\nimport initialState from './initialState';\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case sdkActions.SET_SDK_LOADING:\n      return {\n        ...state,\n        initialized: false,\n        loading: action.payload,\n      };\n    case sdkActions.SDK_ERROR:\n      return {\n        ...state,\n        initialized: false,\n        loading: false,\n        error: true,\n      };\n    case sdkActions.INIT_SDK:\n      return {\n        sdk: action.payload,\n        initialized: true,\n        loading: false,\n        error: false,\n      };\n    case sdkActions.RESET_SDK:\n      return initialState;\n    default:\n      return state;\n  }\n}\n","export default {\n  initialized: false,\n  loading: false,\n  user: {},\n};\n","import * as actions from './actionTypes';\nimport initialState from './initialState';\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case actions.INIT_USER:\n      return {\n        initialized: true,\n        loading: false,\n        user: action.payload,\n      };\n    case actions.RESET_USER:\n      return initialState;\n    case actions.UPDATE_USER_INFO:\n      return {\n        ...state,\n        user: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","/* eslint-disable no-bitwise */\n/* eslint-disable eqeqeq */\n/* eslint-disable no-mixed-operators */\n// https://stackoverflow.com/a/2117523\n// used mainly for dom key generation\nexport const uuidv4 = () => 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n  const r = Math.random() * 16 | 0; const\n    v = c === 'x' ? r : (r & 0x3 | 0x8);\n  return v.toString(16);\n});\n\nexport default uuidv4;\n","import { useState, useEffect } from 'react';\n\nimport { uuidv4 } from '../../utils/uuid';\n\nfunction useConnectionStatus(sdk, logger) {\n  const [isOnline, setIsOnline] = useState(true);\n\n  useEffect(() => {\n    const uniqueHandlerId = uuidv4();\n    logger.warning('sdk changed', uniqueHandlerId);\n    let handler;\n    if (sdk && sdk.ConnectionHandler) {\n      handler = new sdk.ConnectionHandler();\n\n      handler.onReconnectStarted = () => {\n        setIsOnline(false);\n        logger.warning('onReconnectStarted', { isOnline });\n      };\n      handler.onReconnectSucceeded = () => {\n        setIsOnline(true);\n        logger.warning('onReconnectSucceeded', { isOnline });\n      };\n      handler.onReconnectFailed = () => {\n        sdk.reconnect();\n        logger.warning('onReconnectFailed');\n      };\n      logger.info('Added ConnectionHandler', uniqueHandlerId);\n      sdk.addConnectionHandler(uniqueHandlerId, handler);\n    }\n    return () => {\n      try {\n        sdk.removeConnectionHandler(uniqueHandlerId);\n        logger.info('Removed ConnectionHandler', uniqueHandlerId);\n      } catch {\n        //\n      }\n    };\n  }, [sdk]);\n\n  useEffect(() => {\n    const tryReconnect = () => {\n      try {\n        logger.warning('Try reconnecting SDK');\n        if (sdk.getConnectionState() !== 'OPEN') { // connection is not broken yet\n          sdk.reconnect();\n        }\n      } catch {\n        //\n      }\n    };\n    // addEventListener version\n    window.addEventListener('online', tryReconnect);\n    return () => {\n      window.removeEventListener('online', tryReconnect);\n    };\n  }, [sdk]);\n\n  // add offline-class to body\n  useEffect(() => {\n    const body = document.querySelector('body');\n    if (!isOnline) {\n      try {\n        body.classList.add('sendbird__offline');\n        logger.info('Added class sendbird__offline to body');\n      } catch (e) {\n        //\n      }\n    } else {\n      try {\n        body.classList.remove('sendbird__offline');\n        logger.info('Removed class sendbird__offline from body');\n      } catch (e) {\n        //\n      }\n    }\n  }, [isOnline]);\n\n  return isOnline;\n}\n\nexport default useConnectionStatus;\n","export const LOG_LEVELS = {\n  DEBUG: 'debug',\n  WARNING: 'warning',\n  ERROR: 'error',\n  INFO: 'info',\n  ALL: 'all',\n};\n\nconst colorLog = (level) => {\n  switch (level) {\n    case LOG_LEVELS.WARNING:\n      return ('color: Orange');\n    case LOG_LEVELS.ERROR:\n      return ('color: Red');\n    default:\n      return ('color: Gray');\n  }\n};\n\nexport const printLog = ({\n  level,\n  title,\n  description = '',\n}) => {\n  // eslint-disable-next-line no-console\n  console.log(\n    `%c SendbirdUIKit | ${level} | ${new Date().toISOString()} | ${title} ${description && '|'}`, colorLog(level),\n    description,\n  );\n};\n\nexport const getDefaultLogger = () => ({\n  info: () => {},\n  error: () => {},\n  warning: () => {},\n});\n\nexport const LoggerFactory = (lvl, customInterface) => {\n  const logInterface = customInterface || printLog;\n  const lvlArray = Array.isArray(lvl) ? lvl : [lvl];\n\n  const applyLog = (lgLvl) => (title, description) => logInterface({\n    level: lgLvl,\n    title,\n    description,\n  });\n\n  const logger = lvlArray.reduce((accumulator, currentLvl) => {\n    if (currentLvl === LOG_LEVELS.DEBUG || currentLvl === LOG_LEVELS.ALL) {\n      return ({\n        ...accumulator,\n        info: applyLog(LOG_LEVELS.INFO),\n        error: applyLog(LOG_LEVELS.ERROR),\n        warning: applyLog(LOG_LEVELS.WARNING),\n      });\n    }\n\n    if (currentLvl === LOG_LEVELS.INFO) {\n      return ({\n        ...accumulator,\n        info: applyLog(LOG_LEVELS.INFO),\n      });\n    }\n\n    if (currentLvl === LOG_LEVELS.ERROR) {\n      return ({\n        ...accumulator,\n        error: applyLog(LOG_LEVELS.ERROR),\n      });\n    }\n\n    if (currentLvl === LOG_LEVELS.WARNING) {\n      return ({\n        ...accumulator,\n        warning: applyLog(LOG_LEVELS.WARNING),\n      });\n    }\n\n    return { ...accumulator };\n  }, getDefaultLogger());\n  return logger;\n};\n","// https://davidwalsh.name/pubsub-javascript\nexport default () => {\n  const topics = {};\n  const hOP = topics.hasOwnProperty;\n\n  return {\n    __getTopics: () => topics,\n    subscribe: (topic, listener) => {\n      // Create the topic's object if not yet created\n      if (!hOP.call(topics, topic)) { topics[topic] = []; }\n\n      // Add the listener to queue\n      const index = topics[topic].push(listener) - 1;\n\n      // Provide handle back for removal of topic\n      return {\n        remove: () => {\n          delete topics[topic][index];\n        },\n      };\n    },\n    publish: (topic, info) => {\n      // If the topic doesn't exist, or there's no listeners in queue, just leave\n      if (!hOP.call(topics, topic)) { return; }\n\n      // Cycle through topics queue, fire!\n      topics[topic].forEach((item) => {\n        item(info !== undefined ? info : {});\n      });\n    },\n  };\n};\n","import React, { useEffect, useReducer, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { SendbirdSdkContext } from './SendbirdSdkContext';\nimport { handleConnection } from './dux/sdk/thunks';\n\nimport sdkReducers from './dux/sdk/reducers';\nimport userReducers from './dux/user/reducers';\nimport sdkInitialState from './dux/sdk/initialState';\nimport userInitialState from './dux/user/initialState';\n\nimport useOnlineStatus from './hooks/useOnlineStatus';\n\nimport { LoggerFactory } from './Logger';\nimport pubSubFactory from './pubSub/index';\n\nexport default function Sendbird(props) {\n  const {\n    userId,\n    appId,\n    accessToken,\n    children,\n    theme,\n    nickname,\n    profileUrl,\n    userListQuery,\n    config = {},\n  } = props;\n\n  const { logLevel = '' } = config;\n  const [logger, setLogger] = useState(LoggerFactory(logLevel));\n  const [pubSub, setPubSub] = useState();\n  const [sdkStore, sdkDispatcher] = useReducer(sdkReducers, sdkInitialState);\n  const [userStore, userDispatcher] = useReducer(userReducers, userInitialState);\n\n  useEffect(() => {\n    setPubSub(pubSubFactory());\n  }, []);\n\n  useEffect(() => {\n    logger.info('App Init');\n    // dispatch action\n    handleConnection({\n      userId,\n      appId,\n      accessToken,\n      sdkStore,\n      nickname,\n      profileUrl,\n      sdk: sdkStore.sdk,\n      logger,\n    }, {\n      sdkDispatcher,\n      userDispatcher,\n    });\n  }, [userId, appId, accessToken]);\n\n  // to create a pubsub to communicate between parent and child\n  useEffect(() => {\n    setLogger(LoggerFactory(logLevel));\n  }, [logLevel]);\n\n  // to create DOM elements for appending modal & context menu\n  // might fail on server side render\n  useEffect(() => {\n    logger.info('Creating helper divs');\n    const appentElemWithId = (id) => {\n      const elem = document.createElement('div');\n      elem.setAttribute('id', id);\n      const body = document.querySelector('body');\n      body.appendChild(elem);\n    };\n    const modalRoot = 'sendbird-modal-root';\n    const menuRoot = 'sendbird-dropdown-portal';\n    appentElemWithId(modalRoot);\n    appentElemWithId(menuRoot);\n    logger.info('Finshed creating helper divs');\n  }, []);\n\n  // add-remove theme from body\n  useEffect(() => {\n    logger.info('Setup theme', `Theme: ${theme}`);\n    try {\n      const body = document.querySelector('body');\n      body.classList.add(`sendbird-theme--${theme || 'light'}`);\n      logger.info('Finish setup theme');\n      // eslint-disable-next-line no-empty\n    } catch (e) {\n      logger.warning('Setup theme failed', `${e}`);\n    }\n    return () => {\n      try {\n        const body = document.querySelector('body');\n        body.classList.remove('sendbird-theme--light');\n        body.classList.remove('sendbird-theme--dark');\n        // eslint-disable-next-line no-empty\n      } catch { }\n    };\n  }, [theme]);\n\n  const isOnline = useOnlineStatus(sdkStore.sdk, logger);\n\n  return (\n    <SendbirdSdkContext.Provider\n      value={{\n        stores: {\n          sdkStore,\n          userStore,\n        },\n        dispatchers: {\n          sdkDispatcher,\n          userDispatcher,\n          reconnect: () => {\n            handleConnection({\n              userId,\n              appId,\n              accessToken,\n              sdkStore,\n              nickname,\n              profileUrl,\n              logger,\n              sdk: sdkStore.sdk,\n            }, {\n              sdkDispatcher,\n              userDispatcher,\n            });\n          },\n        },\n        config: {\n          isOnline,\n          userId,\n          appId,\n          accessToken,\n          theme,\n          userListQuery,\n          logger,\n          pubSub,\n        },\n      }}\n    >\n      {children}\n    </SendbirdSdkContext.Provider>\n  );\n}\n\nSendbird.propTypes = {\n  userId: PropTypes.string.isRequired,\n  appId: PropTypes.string.isRequired,\n  accessToken: PropTypes.string,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.any,\n  ]).isRequired,\n  theme: PropTypes.string,\n  nickname: PropTypes.string,\n  profileUrl: PropTypes.string,\n  userListQuery: PropTypes.func,\n  config: PropTypes.shape({\n    // None Error Warning Info 'All/Debug'\n    logLevel: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string),\n    ]),\n    pubSub: PropTypes.shape({\n      subscribe: PropTypes.func,\n      publish: PropTypes.func,\n    }),\n  }),\n};\n\nSendbird.defaultProps = {\n  accessToken: '',\n  theme: 'light',\n  nickname: '',\n  profileUrl: '',\n  userListQuery: null,\n  config: {},\n};\n","export const RESET_CHANNEL_LIST = 'RESET_CHANNEL_LIST';\nexport const CREATE_CHANNEL = 'CREATE_CHANNEL';\nexport const UNLOAD_CHANNELS = 'UNLOAD_CHANNELS';\nexport const SET_CHANNEL_LOADING = 'SET_CHANNEL_LOADING';\nexport const LEAVE_CHANNEL_SUCCESS = 'LEAVE_CHANNEL_SUCCESS';\n\nexport const SET_CURRENT_CHANNEL = 'SET_CURRENT_CHANNEL';\n\nexport const SHOW_CHANNEL_SETTINGS = 'SHOW_CHANNEL_SETTINGS';\nexport const HIDE_CHANNEL_SETTINGS = 'HIDE_CHANNEL_SETTINGS';\n\nexport const FETCH_CHANNELS_START = 'FETCH_CHANNELS_START';\nexport const FETCH_CHANNELS_SUCCESS = 'FETCH_CHANNELS_SUCCESS';\nexport const FETCH_CHANNELS_FAILURE = 'FETCH_CHANNELS_FAILURE';\n\nexport const INIT_CHANNELS_START = 'INIT_CHANNELS_START';\nexport const INIT_CHANNELS_SUCCESS = 'INIT_CHANNELS_SUCCESS';\nexport const INIT_CHANNELS_FAILURE = 'INIT_CHANNELS_FAILURE';\n\nexport const INVITE_MEMBERS_SUCESS = 'INVITE_MEMBERS_SUCESS';\n\nexport const ON_USER_JOINED = 'ON_USER_JOINED';\nexport const ON_CHANNEL_DELETED = 'ON_CHANNEL_DELETED';\nexport const ON_LAST_MESSAGE_UPDATED = 'ON_LAST_MESSAGE_UPDATED';\nexport const ON_USER_LEFT = 'ON_USER_LEFT';\nexport const ON_CHANNEL_CHANGED = 'ON_CHANNEL_CHANGED';\n\nexport const ON_READ_RECEIPT_UPDATED = 'ON_READ_RECEIPT_UPDATED';\nexport const ON_DELIVERY_RECEIPT_UPDATED = 'ON_DELIVERY_RECEIPT_UPDATED';\n","export default {\n  // we might not need this initialized state -> should remove\n  initialized: false,\n  loading: false,\n  allChannels: [],\n  currentChannel: null,\n  showSettings: false,\n};\n","import * as actions from './actionTypes';\nimport initialState from './initialState';\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case actions.INIT_CHANNELS_START:\n      return {\n        ...state,\n        loading: true,\n      };\n    case actions.RESET_CHANNEL_LIST:\n      return initialState;\n    case actions.INIT_CHANNELS_SUCCESS:\n      return {\n        ...state,\n        initialized: true,\n        loading: false,\n        allChannels: action.payload,\n        currentChannel: (action.payload && action.payload.length && action.payload.length > 0)\n          ? action.payload[0].url\n          : null,\n      };\n    case actions.FETCH_CHANNELS_SUCCESS: {\n      const currentChannels = state.allChannels.map((c) => c.url);\n      const filteredChannels = action.payload.filter(\n        ({ url }) => !(currentChannels.find((c) => c === url)),\n      );\n      return {\n        ...state,\n        allChannels: [\n          ...state.allChannels,\n          ...filteredChannels,\n        ],\n      };\n    }\n    case actions.CREATE_CHANNEL: {\n      return {\n        ...state,\n        allChannels: [\n          action.payload,\n          ...state.allChannels.filter(\n            (channel) => channel.url !== action.payload.url,\n          )],\n        currentChannel: action.payload.url,\n      };\n    }\n    case actions.LEAVE_CHANNEL_SUCCESS:\n    case actions.ON_CHANNEL_DELETED: {\n      const newAllChannels = state.allChannels.filter(({ url }) => url !== action.payload);\n      const currentChannel = newAllChannels.length > 0\n        ? newAllChannels[0].url\n        : '';\n\n      return {\n        ...state,\n        currentChannel,\n        allChannels: newAllChannels,\n      };\n    }\n    case actions.ON_USER_LEFT: {\n      const channel = action.payload;\n      const { myMemberState, url } = channel;\n      // I left\n      const newAllChannels = state.allChannels.filter((c) => c.url !== url);\n      const currentChannel = newAllChannels.length > 0\n        ? newAllChannels[0].url\n        : '';\n      if (myMemberState === 'none') {\n        return {\n          ...state,\n          currentChannel,\n          allChannels: newAllChannels,\n        };\n      }\n      // other user left\n      return {\n        ...state,\n        currentChannel,\n        allChannels: [\n          action.payload,\n          ...newAllChannels,\n        ],\n      };\n    }\n    case actions.ON_USER_JOINED:\n    case actions.ON_CHANNEL_CHANGED:\n    case actions.ON_READ_RECEIPT_UPDATED:\n    case actions.ON_DELIVERY_RECEIPT_UPDATED: {\n      const { allChannels = [] } = state;\n      const { unreadMessageCount } = action.payload;\n      const channel = action.payload;\n      if (!channel.lastMessage) {\n        return state;\n      }\n      // if its only an unread message count change, dont push to top\n      if (unreadMessageCount === 0) {\n        const currentChannel = allChannels.find(({ url }) => url === channel.url);\n        const currentUnReadCount = currentChannel && currentChannel.unreadMessageCount;\n        if (currentUnReadCount === 0) {\n          return {\n            ...state,\n            allChannels: allChannels.map((c) => {\n              if (c.url === channel.url) {\n                return channel;\n              }\n              return c;\n            }),\n          };\n        }\n      }\n      return {\n        ...state,\n        allChannels: [\n          action.payload,\n          ...state.allChannels.filter(({ url }) => url !== action.payload.url),\n        ],\n      };\n    }\n    case actions.SET_CURRENT_CHANNEL:\n      return {\n        ...state,\n        currentChannel: action.payload,\n      };\n    case actions.SHOW_CHANNEL_SETTINGS:\n      return {\n        ...state,\n        showSettings: true,\n      };\n    case actions.HIDE_CHANNEL_SETTINGS:\n      return {\n        ...state,\n        showSettings: false,\n      };\n    case actions.ON_LAST_MESSAGE_UPDATED:\n      return {\n        ...state,\n        allChannels: state.allChannels.map((channel) => {\n          if (channel.url === action.payload.url) {\n            return action.payload;\n          }\n          return channel;\n        }),\n      };\n    default:\n      return state;\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\n/*\n  ImageRenderer displays image with url or source\n  it checks if the source exist with img tag first\n  if it exists onLoad is called, if not onError is called\n  and those properties switch img tag to real purposing element\n*/\n\nexport default function ImageRenderer({\n  alt,\n  url,\n  width,\n  height,\n  className,\n  defaultComponent,\n  circle,\n}) {\n  const injectingClassName = Array.isArray(className) ? className : [className];\n  injectingClassName.unshift('sendbird-image-renderer');\n  const [realElement, setRealElement] = useState(null);\n  useEffect(() => {\n    setRealElement(null);\n  }, [url]);\n  return (\n    realElement || (\n      <img\n        className=\"sendbird-image-renderer--hidden-placeholder\"\n        src={url}\n        alt={alt}\n        onError={() => {\n          setRealElement(typeof defaultComponent === 'function' ? defaultComponent() : defaultComponent);\n        }}\n        onLoad={() => {\n          setRealElement((\n            <div\n              className={injectingClassName.join(' ')}\n              style={{\n                height,\n                width,\n                backgroundRepeat: 'no-repeat',\n                backgroundPosition: 'center',\n                backgroundSize: 'cover',\n                backgroundImage: `url(${url})`,\n                borderRadius: circle ? '50%' : null,\n              }}\n            />\n          ));\n        }}\n      />\n    )\n  );\n}\n\nImageRenderer.propTypes = {\n  alt: PropTypes.string,\n  url: PropTypes.string.isRequired,\n  width: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]).isRequired,\n  height: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]).isRequired,\n  className: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.string),\n    PropTypes.string,\n  ]),\n  defaultComponent: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.func,\n  ]).isRequired,\n  circle: PropTypes.bool,\n};\nImageRenderer.defaultProps = {\n  alt: '',\n  className: '',\n  circle: false,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageRenderer from '../ImageRenderer';\nimport DefaultAvatarLight from '../../svgs/icon-avatar-light.svg';\nimport DefaultAvatarDark from '../../svgs/icon-avatar-dark.svg';\n\nimport './index.scss';\nimport { uuidv4 } from '../../utils/uuid';\n\nconst defaultComponent = ({ width, height }) => () => (\n  document.querySelector('.sendbird-theme--dark')\n    ? <DefaultAvatarDark className=\"sendbird-avatar-img\" style={{ height, width }} />\n    : <DefaultAvatarLight className=\"sendbird-avatar-img\" style={{ height, width }} />\n);\nconst imageRendererClassName = 'sendbird-avatar-img';\n\nexport const AvatarInner = ({\n  src,\n  height,\n  width,\n  alt,\n}) => {\n  if (typeof src === 'string') {\n    return (\n      <ImageRenderer\n        className={imageRendererClassName}\n        url={src}\n        height={height}\n        width={width}\n        alt={alt}\n        defaultComponent={defaultComponent({ height, width })}\n      />\n    );\n  }\n\n  if (src && src.length) {\n    if (src.length === 1) {\n      return (\n        <ImageRenderer\n          className={imageRendererClassName}\n          url={src[0]}\n          height={height}\n          width={width}\n          alt={alt}\n          defaultComponent={defaultComponent({ height, width })}\n        />\n      );\n    }\n\n    if (src.length === 2) {\n      return (\n        <div className=\"sendbird-avatar--inner__two-child\">\n          <ImageRenderer\n            className={imageRendererClassName}\n            url={src[0]}\n            height={height}\n            width={width}\n            alt={alt}\n            defaultComponent={defaultComponent({ height, width })}\n          />\n          <ImageRenderer\n            className={imageRendererClassName}\n            url={src[1]}\n            height={height}\n            width={width}\n            alt={alt}\n            defaultComponent={defaultComponent({ height, width })}\n          />\n        </div>\n      );\n    }\n\n    if (src.length === 3) {\n      return (\n        <>\n          <div className=\"sendbird-avatar--inner__three-child--upper\">\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[0]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent({ height, width })}\n            />\n          </div>\n          <div className=\"sendbird-avatar--inner__three-child--lower\">\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[1]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent({ height, width })}\n            />\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[2]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent({ height, width })}\n            />\n          </div>\n        </>\n      );\n    }\n\n    return (\n      <div className=\"sendbird-avatar--inner__four-child\">\n        {\n          src.slice(0, 4)\n            .map((i) => (\n              <ImageRenderer\n                className={imageRendererClassName}\n                url={i}\n                height={height}\n                width={width}\n                alt={alt}\n                key={uuidv4()}\n                defaultComponent={defaultComponent({ height, width })}\n              />\n            ))\n        }\n      </div>\n    );\n  }\n  // default img\n  return (\n    <ImageRenderer\n      className={imageRendererClassName}\n      url=\"\"\n      height={height}\n      width={width}\n      alt={alt}\n      defaultComponent={defaultComponent({ height, width })}\n    />\n  );\n};\n\nAvatarInner.propTypes = {\n  src: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  height: PropTypes.string.isRequired,\n  width: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n};\n\nAvatarInner.defaultProps = {\n  src: '',\n};\n\nexport default function Avatar({\n  src,\n  height,\n  width,\n  alt,\n  className,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      className={\n        [\n          ...injectingClassName,\n          'sendbird-avatar',\n        ].join(' ')\n      }\n      style={{ height, width }}\n    >\n      <AvatarInner src={src} height={height} width={width} alt={alt} />\n    </div>\n  );\n}\n\nAvatar.propTypes = {\n  src: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  height: PropTypes.string,\n  width: PropTypes.string,\n  alt: PropTypes.string,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nAvatar.defaultProps = {\n  height: '56px',\n  width: '56px',\n  alt: '',\n  src: '',\n  className: '',\n};\n","export const Typography = {\n  H_1: 'H_1',\n  H_2: 'H_2',\n  SUBTITLE_1: 'SUBTITLE_1',\n  SUBTITLE_2: 'SUBTITLE_2',\n  BODY_1: 'BODY_1',\n  BODY_2: 'BODY_2',\n  BUTTON_1: 'BUTTON_1',\n  BUTTON_2: 'BUTTON_2',\n  CAPTION_1: 'CAPTION_1',\n  CAPTION_2: 'CAPTION_2',\n  CAPTION_3: 'CAPTION_3',\n};\n\nexport const Colors = {\n  ONBACKGROUND_1: 'ONBACKGROUND_1',\n  ONBACKGROUND_2: 'ONBACKGROUND_2',\n  ONBACKGROUND_3: 'ONBACKGROUND_3',\n  ONCONTENT_1: 'ONCONTENT_1',\n  PRIMARY: 'PRIMARY',\n  ERROR: 'ERROR',\n};\n","import { Typography, Colors } from './types';\n\nexport function changeTypographyToClassName(type) {\n  switch (type) {\n    case Typography.H_1: return 'sendbird-label--h-1';\n    case Typography.H_2: return 'sendbird-label--h-2';\n    case Typography.SUBTITLE_1: return 'sendbird-label--subtitle-1';\n    case Typography.SUBTITLE_2: return 'sendbird-label--subtitle-2';\n    case Typography.BODY_1: return 'sendbird-label--body-1';\n    case Typography.BODY_2: return 'sendbird-label--body-2';\n    case Typography.BUTTON_1: return 'sendbird-label--button-1';\n    case Typography.BUTTON_2: return 'sendbird-label--button-2';\n    case Typography.CAPTION_1: return 'sendbird-label--caption-1';\n    case Typography.CAPTION_2: return 'sendbird-label--caption-2';\n    case Typography.CAPTION_3: return 'sendbird-label--caption-3';\n    default: return null;\n  }\n}\n\nexport function changeColorToClassName(color) {\n  switch (color) {\n    case Colors.ONBACKGROUND_1: return 'sendbird-label--color-onbackground-1';\n    case Colors.ONBACKGROUND_2: return 'sendbird-label--color-onbackground-2';\n    case Colors.ONBACKGROUND_3: return 'sendbird-label--color-onbackground-3';\n    case Colors.ONCONTENT_1: return 'sendbird-label--color-oncontent-1';\n    case Colors.PRIMARY: return 'sendbird-label--color-primary';\n    case Colors.ERROR: return 'sendbird-label--color-error';\n    default: return null;\n  }\n}\n","const getStringSet = (lang) => {\n  const stringSet = {\n    en: {\n      TRYING_TO_CONNECT: 'Trying to connect…',\n      CHANNEL_LIST__TITLE: 'Channels',\n      CHANNEL__MESSAGE_INPUT__PLACE_HOLDER: 'Enter message',\n      CHANNEL__MESSAGE_INPUT__PLACE_HOLDER__DISABLED: 'Chat is unavailable in this channel',\n      CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE: 'new message(s) since',\n      CHANNEL__MESSAGE_LIST__NOTIFICATION__ON: 'on',\n      CHANNEL_SETTING__HEADER__TITLE: 'Channel information',\n      CHANNEL_SETTING__PROFILE__EDIT: 'Edit',\n      CHANNEL_SETTING__MEMBERS__TITLE: 'Members',\n      CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS: 'All members',\n      CHANNEL_SETTING__MEMBERS__INVITE_MEMBER: 'Invite users',\n      CHANNEL_SETTING__LEAVE_CHANNEL__TITLE: 'Leave channel',\n      BUTTON__CANCEL: 'Cancel',\n      BUTTON__DELETE: 'Delete',\n      BUTTON__SAVE: 'Save',\n      BUTTON__CREATE: 'Create',\n      BUTTON__INVITE: 'Invite',\n      BUTTON__CLOSE: 'Close',\n      BADGE__OVER: '+',\n      MODAL__DELETE_MESSAGE__TITLE: 'Delete this message?',\n      MODAL__CHANNEL_INFORMATION__TITLE: 'Edit channel information',\n      MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE: 'Channel image',\n      MODAL__CHANNEL_INFORMATION__UPLOAD: 'Upload',\n      MODAL__CHANNEL_INFORMATION__CHANNEL_NAME: 'Channel name',\n      MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER: 'Enter name',\n      MODAL__INVITE_MEMBER__TITLE: 'Invite member',\n      MODAL__INVITE_MEMBER__SELECTEC: 'selected',\n      MODAL__CREATE_CHANNEL__TITLE: 'New channel',\n      MODAL__CREATE_CHANNEL__SELECTED: 'seledted',\n      MODAL__USER_LIST__TITLE: 'members',\n      TYPING_INDICATOR__IS_TYPING: 'is typing...',\n      TYPING_INDICATOR__AND: 'and',\n      TYPING_INDICATOR__ARE_TYPING: 'are typing...',\n      TYPING_INDICATOR__MULTIPLE_TYPING: 'Several people are typing...',\n      MESSAGE_STATUS__SENDING_FAILED: 'Couldn\\'t send message.',\n      MESSAGE_STATUS__TRY_AGAIN: 'Try again',\n      MESSAGE_STATUS__OR: 'or',\n      MESSAGE_STATUS__DELETE: 'delete',\n      PLACE_HOLDER__NO_CHANNEL: 'No channels',\n      PLACE_HOLDER__WRONG: 'Something went wrong',\n      PLACE_HOLDER__RETRY_TO_CONNECT: 'Retry',\n      NO_TITLE: 'No title',\n      NO_NAME: '(No name)',\n      NO_MEMBERS: '(No members)',\n      TOOLTIP__AND_YOU: ', and you',\n      TOOLTIP__YOU: 'you',\n      TOOLTIP__UNKOWN_USER: '(no name)',\n      UNKNOWN__UNKNOWN_MESSAGE_TYPE: '(Unknown message type)',\n      UNKNOWN__CANNOT_READ_MESSAGE: 'Cannot read this message.',\n    },\n  };\n  return (stringSet && stringSet[lang]) ? stringSet[lang] : {};\n};\n\nexport default getStringSet;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { Typography, Colors } from './types';\nimport { changeTypographyToClassName, changeColorToClassName } from './utils';\nimport getStringSet from './stringSet';\n\nconst CLASS_NAME = 'sendbird-label';\n\nexport default function Label({\n  type,\n  color,\n  children,\n  className,\n}) {\n  const injectingClassName = (Array.isArray(className))\n    ? [CLASS_NAME, ...className]\n    : [CLASS_NAME, className];\n  if (type) {\n    injectingClassName.push(changeTypographyToClassName(type));\n  }\n  if (color) {\n    injectingClassName.push(changeColorToClassName(color));\n  }\n\n  return (\n    <div\n      className={injectingClassName.join(' ')}\n    >\n      {children}\n    </div>\n  );\n}\n\nLabel.propTypes = {\n  type: PropTypes.oneOf([...Object.keys(Typography), '']),\n  color: PropTypes.oneOf([...Object.keys(Colors), '']),\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.element,\n    PropTypes.any,\n  ]),\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nLabel.defaultProps = {\n  type: '',\n  color: '',\n  className: [],\n  children: null,\n};\n\nconst LabelTypography = Typography;\nconst LabelColors = Colors;\nconst LabelStringSet = getStringSet('en');\nexport { LabelTypography, LabelColors, LabelStringSet };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../Label';\n\nexport default function Badge({\n  count,\n  maxLevel,\n  className,\n}) {\n  const maximumNumber = parseInt('9'.repeat((maxLevel > 6) ? 6 : maxLevel), 10);\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div className={[...injectingClassName, 'sendbird-badge'].join(' ')}>\n      <div className=\"sendbird-badge__text\">\n        <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONCONTENT_1}>\n          {\n            (count > maximumNumber)\n              ? `${maximumNumber}${LabelStringSet.BADGE__OVER}`\n              : count\n          }\n        </Label>\n      </div>\n    </div>\n  );\n}\n\nBadge.propTypes = {\n  count: PropTypes.number.isRequired,\n  maxLevel: PropTypes.number,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nBadge.defaultProps = {\n  maxLevel: 2,\n  className: [],\n};\n","export const truncate = (fullStr, strLen) => {\n  if (fullStr === null || fullStr === undefined) return '';\n  if (fullStr.length <= strLen) return fullStr;\n  const separator = '...';\n  const sepLen = separator.length;\n  const charsToShow = strLen - sepLen;\n  const frontChars = Math.ceil(charsToShow / 2);\n  const backChars = Math.floor(charsToShow / 2);\n  return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);\n};\n\nexport default truncate;\n","import Moment from 'moment';\nimport truncateFileName from '../FileMessage/utils';\nimport { LabelStringSet } from '../Label';\n\nexport const getChannelAvatarSource = (channel, currentUserId) => {\n  if (channel && channel.coverUrl) {\n    if (channel.coverUrl !== 'https://static.sendbird.com/sample/cover/cover_') {\n      return channel.coverUrl;\n    }\n  }\n  return channel && channel.members\n    ? channel.members\n      .filter((member) => member.userId !== currentUserId)\n      .map(({ profileUrl }) => profileUrl)\n    : [];\n};\n\nexport const getChannelTitle = (channel = {}, currentUserId) => {\n  if (!channel || (!channel.name && !channel.members)) {\n    return LabelStringSet.NO_TITLE;\n  }\n  if (channel.name && channel.name !== 'Group Channel') {\n    return channel.name;\n  }\n  if (channel.members.length === 1) {\n    return LabelStringSet.NO_MEMBERS;\n  }\n  return channel.members\n    .filter(({ userId }) => userId !== currentUserId)\n    .map(({ nickname }) => (nickname || LabelStringSet.NO_NAME))\n    .join(', ');\n};\n\nexport const prettyDate = (date) => (Moment(date, 'x').fromNow());\n\nexport const getLastMessageCreatedAt = (channel) => {\n  if (!channel || !channel.lastMessage) {\n    return '';\n  }\n  const moment = Moment(channel.lastMessage.createdAt);\n  switch (moment.calendar().split(' ')[0]) {\n    case 'Today': {\n      return moment.format('LT');\n    }\n    case 'Yesterday': {\n      return 'Yesterday';\n    }\n    default: return moment.format('ll').split(',')[0];\n  }\n};\n\nexport const getTotalMembers = (channel) => (\n  channel && channel.memberCount\n    ? channel.memberCount\n    : 0\n);\n\nconst getPrettyLastMessage = (message = {}) => {\n  const MAXLEN = 30;\n  const { messageType, name } = message;\n  if (messageType === 'file') {\n    return truncateFileName(name, MAXLEN);\n  }\n  return message.message;\n};\n\nexport const getLastMessage = (channel) => (\n  channel && channel.lastMessage\n    ? getPrettyLastMessage(channel.lastMessage)\n    : ''\n);\n\nexport const getChannelUnreadMessageCount = (channel) => (\n  (channel && channel.unreadMessageCount)\n    ? channel.unreadMessageCount\n    : 0\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport Badge from '../Badge';\nimport Label, { LabelTypography, LabelColors } from '../Label';\n\n// import { generateBem } from \"../../utils/bem\";\n\nimport * as utils from './utils';\n\nexport default function ChannelPreview({\n  channel,\n  isActive,\n  ChannelAction,\n  onClick,\n  tabIndex,\n  currentUser,\n}) {\n  const {\n    userId,\n  } = currentUser;\n  return (\n    <div\n      role=\"link\"\n      tabIndex={tabIndex}\n      onClick={onClick}\n      onKeyPress={onClick}\n      className={`\n        sendbird-channel-preview\n        ${isActive ? 'sendbird-channel-preview--active' : null}\n      `}\n    >\n      <div\n        className=\"sendbird-channel-preview__avatar\"\n      >\n        <Avatar src={utils.getChannelAvatarSource(channel, userId)} />\n      </div>\n      <div\n        className=\"sendbird-channel-preview__content\"\n      >\n        <div className=\"sendbird-channel-preview__content__upper\">\n          <div className=\"sendbird-channel-preview__content__upper__header\">\n            <Label\n              className=\"sendbird-channel-preview__content__upper__header__channel-name\"\n              type={LabelTypography.SUBTITLE_2}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {utils.getChannelTitle(channel, userId)}\n            </Label>\n            <Label\n              className=\"sendbird-channel-preview__content__upper__header__total-members\"\n              type={LabelTypography.CAPTION_2}\n              color={LabelColors.ONBACKGROUND_2}\n            >\n              {utils.getTotalMembers(channel)}\n            </Label>\n          </div>\n          <Label\n            className=\"sendbird-channel-preview__content__upper__last-message-at\"\n            type={LabelTypography.CAPTION_3}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {utils.getLastMessageCreatedAt(channel)}\n          </Label>\n        </div>\n\n        <div className=\"sendbird-channel-preview__content__lower\">\n          <Label\n            className=\"sendbird-channel-preview__content__lower__last-message\"\n            type={LabelTypography.BODY_2}\n            color={LabelColors.ONBACKGROUND_3}\n          >\n            {utils.getLastMessage(channel)}\n          </Label>\n          <div className=\"sendbird-channel-preview__content__lower__unread-message-count\">\n            {\n              utils.getChannelUnreadMessageCount(channel)\n                ? <Badge count={utils.getChannelUnreadMessageCount(channel)} />\n                : null\n            }\n          </div>\n        </div>\n      </div>\n      <div\n        className=\"sendbird-channel-preview__action\"\n      >\n        {ChannelAction}\n      </div>\n    </div>\n  );\n}\n\nChannelPreview.propTypes = {\n  isActive: PropTypes.bool,\n  channel: PropTypes.shape({\n    members: PropTypes.arrayOf(PropTypes.shape({})),\n  }),\n  ChannelAction: PropTypes.element.isRequired,\n  onClick: PropTypes.func,\n  tabIndex: PropTypes.number,\n  currentUser: PropTypes.shape({\n    userId: PropTypes.string,\n  }),\n};\n\nChannelPreview.defaultProps = {\n  channel: {},\n  isActive: false,\n  onClick: () => { },\n  tabIndex: 0,\n  currentUser: {},\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst CLASS_NAME = 'sendbird-iconbutton';\n\nconst IconButton = React.forwardRef((props, ref) => {\n  const {\n    children,\n    className,\n    disabled = false,\n    type,\n    height,\n    width,\n    onClick,\n  } = props;\n\n  const [pressed, setPressed] = useState('');\n\n  const injectingClassName = Array.isArray(className) ? className : [className];\n  injectingClassName.unshift(CLASS_NAME);\n\n  return (\n    // eslint-disable-next-line react/button-has-type\n    <button\n      className={`${injectingClassName.join(' ')} ${pressed}`}\n      disabled={disabled}\n      ref={ref}\n      type={type}\n      style={{ height, width }}\n      onClick={(e) => {\n        if (disabled) { return; }\n        setPressed('sendbird-iconbutton--pressed');\n        onClick(e);\n      }}\n      onBlur={() => {\n        setPressed('');\n      }}\n    >\n      <span className=\"sendbird-iconbutton__inner\">\n        {children}\n      </span>\n    </button>\n  );\n});\n\nIconButton.propTypes = {\n  height: PropTypes.string,\n  width: PropTypes.string,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.any,\n  ]).isRequired,\n  type: PropTypes.string,\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nIconButton.defaultProps = {\n  height: '56px',\n  width: '56px',\n  className: '',\n  type: 'button',\n  disabled: false,\n  onClick: () => { },\n};\n\nexport default IconButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../Label';\nimport IconButton from '../IconButton';\n\nimport './index.scss';\n\nexport default function ChannelHeader({ title, iconButton }) {\n  return (\n    <div className=\"sendbird-channel-header\">\n      <div className=\"sendbird-channel-header__title\">\n        <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n          {title || LabelStringSet.CHANNEL_LIST__TITLE}\n        </Label>\n      </div>\n      <div className=\"sendbird-channel-header__right-icon\">\n        {iconButton}\n      </div>\n    </div>\n  );\n}\n\nChannelHeader.propTypes = {\n  title: PropTypes.string,\n  iconButton: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.instanceOf(IconButton),\n  ]),\n};\n\nChannelHeader.defaultProps = {\n  title: '',\n  iconButton: null,\n};\n","export function Types() {\n  return {\n    LOADING: 'LOADING',\n    NO_CHANNELS: 'NO_CHANNELS',\n    WRONG: 'WRONG',\n  };\n}\n\nexport default Types();\n","export default {\n  ADD: 'ADD',\n  ATTACH: 'ATTACH',\n  ARROW_LEFT: 'ARROW_LEFT',\n  AVATAR_DARK: 'AVATAR_DARK',\n  AVATAR_LIGHT: 'AVATAR_LIGHT',\n  CAMERA: 'CAMERA',\n  MORE: 'MORE',\n  MUTE: 'MUTE',\n  CHECKBOX: 'CHECKBOX',\n  CHECKBOX_OFF: 'CHECKBOX_OFF',\n  CLOSE: 'CLOSE',\n  COPY: 'COPY',\n  CHAT: 'CHAT',\n  CREATE: 'CREATE',\n  DELETE: 'DELETE',\n  DISCONNECTED: 'DISCONNECTED',\n  DUMMY: 'DUMMY',\n  EDIT: 'EDIT',\n  ERROR: 'ERROR',\n  ERROR_FILLED: 'ERROR_FILLED',\n  EMOJI_FAILED: 'EMOJI_FAILED',\n  EMOJI_REACTIONS_ADD: 'EMOJI_REACTIONS_ADD',\n  EMOJI_REACTIONS_ADD_GRAY: 'EMOJI_REACTIONS_ADD_GRAY',\n  DELIVERED: 'DELIVERED',\n  DOCUMENT: 'DOCUMENT',\n  DOWNLOAD: 'DOWNLOAD',\n  FILE_AUDIO: 'FILE_AUDIO',\n  FILE_DOCUMENT: 'FILE_DOCUMENT',\n  GIF: 'GIF',\n  INFO: 'INFO',\n  LEAVE: 'LEAVE',\n  MEMBERS: 'MEMBERS',\n  NOTIFICATIONS: 'NOTIFICATIONS',\n  PHOTO: 'PHOTO',\n  PLAY: 'PLAY',\n  PLUS: 'PLUS',\n  READ: 'READ',\n  REFRESH: 'REFRESH',\n  SEND: 'SEND',\n  SENT: 'SENT',\n  SHEVRON: 'SHEVRON',\n  SHEVRON_DOWN: 'SHEVRON_DOWN',\n  SPINNER: 'SPINNER',\n  USER: 'USER',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Type from './type';\n\nimport IconAdd from '../../svgs/icon-add.svg';\nimport IconAttach from '../../svgs/icon-attach.svg';\nimport IconArrowLeft from '../../svgs/icon-arrow-left.svg';\nimport IconAvatarDark from '../../svgs/icon-avatar-dark.svg';\nimport IconAvatarLight from '../../svgs/icon-avatar-light.svg';\nimport IconCamera from '../../svgs/icon-camera.svg';\nimport IconMore from '../../svgs/icon-more.svg';\nimport IconMute from '../../svgs/icon-mute.svg';\nimport IconCheckbox from '../../svgs/icon-checkbox.svg';\nimport IconCheckboxOff from '../../svgs/icon-checkbox-off.svg';\nimport IconClose from '../../svgs/icon-close.svg';\nimport IconCopy from '../../svgs/icon-copy.svg';\nimport IconChat from '../../svgs/icon-chat.svg';\nimport IconCreate from '../../svgs/icon-create.svg';\nimport IconDelete from '../../svgs/icon-delete.svg';\nimport IconDummy from '../../svgs/icon-dummy.svg';\nimport IconEdit from '../../svgs/icon-edit.svg';\nimport IconError from '../../svgs/icon-error.svg';\nimport IconErrorFilled from '../../svgs/icon-error-filled.svg';\nimport IconEmojiFailed from '../../svgs/emoji-fail.svg';\nimport IconEmojiReactionsAdd from '../../svgs/icon-reactions-add.svg';\nimport IconEmojiReactionsAddGray from '../../svgs/icon-emoji-reactions-add.svg';\nimport IconDelivered from '../../svgs/icon-delivered.svg';\nimport IconDisconnected from '../../svgs/icon-disconnected.svg';\nimport IconDocument from '../../svgs/icon-document.svg';\nimport IconDownload from '../../svgs/icon-download.svg';\nimport IconFileAudio from '../../svgs/icon-file-audio.svg';\nimport IconFileDocument from '../../svgs/icon-file-document.svg';\nimport IconGif from '../../svgs/icon-gif.svg';\nimport IconInfo from '../../svgs/icon-info.svg';\nimport IconLeave from '../../svgs/icon-leave.svg';\nimport IconMembers from '../../svgs/icon-members.svg';\nimport IconNotifications from '../../svgs/icon-notifications.svg';\nimport IconPhoto from '../../svgs/icon-photo.svg';\nimport IconPlay from '../../svgs/icon-play.svg';\nimport IconPlus from '../../svgs/icon-plus.svg';\nimport IconRead from '../../svgs/icon-read.svg';\nimport IconRefresh from '../../svgs/icon-refresh.svg';\nimport IconSend from '../../svgs/icon-send.svg';\nimport IconSent from '../../svgs/icon-sent.svg';\nimport IconShevron from '../../svgs/icon-shevron.svg';\nimport IconShevronDown from '../../svgs/icon-shevron-down.svg';\nimport IconSpinner from '../../svgs/icon-spinner-small.svg';\nimport IconUser from '../../svgs/icon-user.svg';\n\nconst Colors = {\n  DEFAULT: 'DEFAULT',\n  PRIMARY: 'PRIMARY',\n  SECONDARY: 'SECONDARY',\n  CONTENT: 'CONTENT',\n  CONTENT_INVERSE: 'CONTENT_INVERSE',\n  WHITE: 'WHITE',\n  SENT: 'SENT',\n  READ: 'READ',\n};\n\nfunction changeColorToClassName(color) {\n  switch (color) {\n    case Colors.PRIMARY: return 'sendbird-color--primary';\n    case Colors.SECONDARY: return 'sendbird-color--secondary';\n    case Colors.CONTENT: return 'sendbird-color--content';\n    case Colors.CONTENT_INVERSE: return 'sendbird-color--content-inverse';\n    case Colors.WHITE: return 'sendbird-color--white';\n    case Colors.SENT: return 'sendbird-color--sent';\n    case Colors.READ: return 'sendbird-color--read';\n    default: return '';\n  }\n}\n\nfunction changeTypeToIconComponent(type) {\n  switch (type) {\n    case Type.ADD: return <IconAdd />;\n    case Type.ARROW_LEFT: return <IconArrowLeft />;\n    case Type.CAMERA: return <IconCamera />;\n    case Type.ATTACH: return <IconAttach />;\n    case Type.AVATAR_DARK: return <IconAvatarDark />;\n    case Type.AVATAR_LIGHT: return <IconAvatarLight />;\n    case Type.MORE: return <IconMore />;\n    case Type.MUTE: return <IconMute />;\n    case Type.CHECKBOX: return <IconCheckbox />;\n    case Type.CHECKBOX_OFF: return <IconCheckboxOff />;\n    case Type.CLOSE: return <IconClose />;\n    case Type.COPY: return <IconCopy />;\n    case Type.CHAT: return <IconChat />;\n    case Type.CREATE: return <IconCreate />;\n    case Type.DELETE: return <IconDelete />;\n    case Type.DISCONNECTED: return <IconDisconnected />;\n    case Type.DUMMY: return <IconDummy />;\n    case Type.EDIT: return <IconEdit />;\n    case Type.ERROR: return <IconError />;\n    case Type.ERROR_FILLED: return <IconErrorFilled />;\n    case Type.EMOJI_FAILED: return <IconEmojiFailed />;\n    case Type.EMOJI_REACTIONS_ADD: return <IconEmojiReactionsAdd />;\n    case Type.EMOJI_REACTIONS_ADD_GRAY: return <IconEmojiReactionsAddGray />;\n    case Type.DELIVERED: return <IconDelivered />;\n    case Type.DOCUMENT: return <IconDocument />;\n    case Type.DOWNLOAD: return <IconDownload />;\n    case Type.FILE_AUDIO: return <IconFileAudio />;\n    case Type.FILE_DOCUMENT: return <IconFileDocument />;\n    case Type.GIF: return <IconGif />;\n    case Type.INFO: return <IconInfo />;\n    case Type.LEAVE: return <IconLeave />;\n    case Type.MEMBERS: return <IconMembers />;\n    case Type.NOTIFICATIONS: return <IconNotifications />;\n    case Type.PHOTO: return <IconPhoto />;\n    case Type.PLAY: return <IconPlay />;\n    case Type.PLUS: return <IconPlus />;\n    case Type.READ: return <IconRead />;\n    case Type.REFRESH: return <IconRefresh />;\n    case Type.SEND: return <IconSend />;\n    case Type.SENT: return <IconSent />;\n    case Type.SHEVRON: return <IconShevron />;\n    case Type.SHEVRON_DOWN: return <IconShevronDown />;\n    case Type.SPINNER: return <IconSpinner />;\n    case Type.USER: return <IconUser />;\n    default: return null;\n  }\n}\n\nexport default function Icon({\n  type,\n  width,\n  height,\n  children,\n  className,\n  onClick,\n  fillColor,\n}) {\n  const style = {\n    width: typeof width === 'string' ? width : `${width}px`,\n    height: typeof height === 'string' ? height : `${height}px`,\n  };\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      onClick={onClick}\n      onKeyDown={onClick}\n      role=\"button\"\n      tabIndex=\"0\"\n      className={[\n        ...injectingClassName,\n        'sendbird-icon',\n        changeColorToClassName(fillColor),\n      ].join(' ')}\n      style={style}\n    >\n      {\n        children || changeTypeToIconComponent(type)\n      }\n    </div>\n  );\n}\n\nIcon.propTypes = {\n  type: PropTypes.oneOfType([\n    PropTypes.oneOf(Object.keys(Type)),\n    PropTypes.string,\n  ]).isRequired,\n  width: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  height: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  onClick: PropTypes.func,\n  children: PropTypes.element,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  fillColor: PropTypes.oneOf(Object.keys(Colors)),\n};\n\nIcon.defaultProps = {\n  onClick: () => { },\n  width: 26,\n  height: 26,\n  children: null,\n  className: '',\n  fillColor: Colors.DEFAULT,\n};\n\nexport const IconTypes = Type;\nexport const IconColors = Colors;\n","// simple component to be used as modal root\nimport React from 'react';\n\nexport const MODAL_ROOT = 'sendbird-modal-root';\n\nexport default () => (\n  <div id={MODAL_ROOT} />\n);\n","export const Type = {\n  PRIMARY: 'PRIMARY',\n  SECONDARY: 'SECONDARY',\n  DANGER: 'DANGER',\n  DISABLED: 'DISABLED',\n};\n\nexport const Size = {\n  BIG: 'BIG',\n  SMALL: 'SMALL',\n};\n","import { Type, Size } from './type';\n\nexport function changeTypeToClassName(type) {\n  switch (type) {\n    case Type.PRIMARY: return 'sendbird-button--primary';\n    case Type.SECONDARY: return 'sendbird-button--secondary';\n    case Type.DANGER: return 'sendbird-button--danger';\n    case Type.DISABLED: return 'sendbird-button--disabled';\n    default: return null;\n  }\n}\n\nexport function changeSizeToClassName(size) {\n  switch (size) {\n    case Size.BIG: return 'sendbird-button--big';\n    case Size.SMALL: return 'sendbird-button--small';\n    default: return null;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { Type, Size } from './type';\nimport { changeTypeToClassName, changeSizeToClassName } from './utils';\n\nexport default function Button({\n  type,\n  size,\n  children,\n  disabled,\n  onClick,\n  className,\n}) {\n  const injectingClassNames = [\n    'sendbird-button',\n    (disabled ? 'sendbird-button__disabled' : ''),\n    changeTypeToClassName(type),\n    changeSizeToClassName(size),\n    ...((Array.isArray(className)) ? className : [className]),\n  ].join(' ');\n\n  return (\n    <button type=\"button\" className={injectingClassNames} onClick={onClick} disabled={disabled}>\n      <Label\n        className=\"sendbird-button__text\"\n        type={LabelTypography.BUTTON_1}\n        color={LabelColors.ONCONTENT_1}\n      >\n        {children}\n      </Label>\n    </button>\n  );\n}\n\nButton.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]),\n  disabled: PropTypes.bool,\n  type: PropTypes.oneOf(Object.keys(Type)),\n  size: PropTypes.oneOf(Object.keys(Size)),\n  onClick: PropTypes.func,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nButton.defaultProps = {\n  children: 'Button',\n  type: Type.PRIMARY,\n  disabled: false,\n  size: Size.BIG,\n  onClick: () => { },\n  className: '',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nimport './index.scss';\n\nimport { MODAL_ROOT } from '../../hooks/useModal/ModalRoot';\nimport IconButton from '../IconButton';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport Button from '../Button';\nimport { Type as ButtonTypes } from '../Button/type';\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../Label';\n\nexport const ModalHeader = ({ titleText }) => (\n  <div className=\"sendbird-modal-header\">\n    <Label type={LabelTypography.H_1} color={LabelColors.ONBACKGROUND_1}>\n      {titleText}\n    </Label>\n  </div>\n);\nModalHeader.propTypes = {\n  titleText: PropTypes.string.isRequired,\n};\n\nexport const ModalBody = ({ children }) => (\n  <div className=\"sendbird-modal-body\">{children}</div>\n);\nModalBody.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element.isRequired,\n    PropTypes.arrayOf(PropTypes.element.isRequired),\n  ]),\n};\nModalBody.defaultProps = {\n  children: null,\n};\n\nexport const ModalFooter = ({\n  onSubmit,\n  onCancel,\n  submitText,\n  type,\n}) => (\n  <div className=\"sendbird-modal-footer\">\n    <Button type={ButtonTypes.SECONDARY} onClick={onCancel}>\n      <Label type={LabelTypography.BUTTON_1} color={LabelColors.ONBACKGROUND_1}>\n        {LabelStringSet.BUTTON__CANCEL}\n      </Label>\n    </Button>\n    <Button type={type} onClick={onSubmit}>\n      {submitText}\n    </Button>\n  </div>\n);\nModalFooter.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  submitText: PropTypes.string.isRequired,\n  type: PropTypes.string,\n};\nModalFooter.defaultProps = {\n  type: ButtonTypes.DANGER,\n};\n\nfunction Modal(props) {\n  const {\n    children,\n    onCancel,\n    onSubmit,\n    submitText,\n    titleText,\n    hideFooter,\n    type,\n  } = props;\n  return createPortal((\n    <div className=\"sendbird-modal\">\n      <div className=\"sendbird-modal-content\">\n        <ModalHeader titleText={titleText} />\n        <ModalBody>{children}</ModalBody>\n        {\n          !hideFooter && (\n            <ModalFooter\n              onCancel={onCancel}\n              onSubmit={onSubmit}\n              submitText={submitText}\n              type={type}\n            />\n          )\n        }\n        <div className=\"sendbird-modal-close\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={onCancel}\n          >\n            <Icon\n              type={IconTypes.CLOSE}\n              fillColor={IconColors.SECONDARY}\n              width=\"24px\"\n              height=\"24px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"sendbird-modal-backdrop\" />\n    </div>\n  ), document.getElementById(MODAL_ROOT));\n}\n\nModal.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]),\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  hideFooter: PropTypes.bool,\n  type: PropTypes.string,\n};\nModal.defaultProps = {\n  children: null,\n  hideFooter: false,\n  type: ButtonTypes.DANGER,\n};\n\nexport default Modal;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nexport default function Checkbox({\n  id,\n  checked,\n  onChange,\n}) {\n  const [isChecked, setCheck] = useState(checked);\n  return (\n    <label className=\"sendbird-checkbox\" htmlFor={id}>\n      <input\n        id={id}\n        type=\"checkbox\"\n        checked={isChecked}\n        onClick={() => setCheck(!isChecked)}\n        onChange={onChange}\n      />\n      <span className=\"sendbird-checkbox--checkmark\" />\n    </label>\n  );\n}\n\nCheckbox.propTypes = {\n  id: PropTypes.string,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n};\n\nCheckbox.defaultProps = {\n  id: 'sendbird-checkbox-input',\n  checked: false,\n  onChange: () => { },\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Avatar from '../../ui/Avatar';\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../../ui/Label';\nimport Modal from '../../ui/Modal';\nimport { Type as ButtonTypes } from '../../ui/Button/type';\nimport Checkbox from '../../ui/Checkbox';\n\nconst filterUser = (idsToFilter) => (currentId) => idsToFilter.includes(currentId);\n\nconst InviteMembers = (props) => {\n  const {\n    userQueryCreator,\n    closeModal,\n    onSubmit,\n    submitText,\n    titleText,\n    idsToFilter,\n    swapParams,\n  } = props;\n\n  const [users, setUsers] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState({});\n  const [usersDataSource, setUsersDataSource] = useState({});\n\n  const selectedCount = Object.keys(selectedUsers).length;\n\n  useEffect(() => {\n    const applicationUserListQuery = userQueryCreator();\n    setUsersDataSource(applicationUserListQuery);\n    applicationUserListQuery.next((res, err) => {\n      // eslint-disable-next-line no-underscore-dangle\n      let users_ = res;\n      let error = err;\n      if (swapParams) {\n        users_ = err;\n        error = users_;\n      }\n      if (error) {\n        return;\n      }\n      setUsers(users_);\n    });\n  }, []);\n\n  return (\n    <Modal\n      onCancel={closeModal}\n      onSubmit={() => {\n        const selectedUserList = Object.keys(selectedUsers);\n        if (selectedUserList.length > 0) {\n          onSubmit(selectedUserList);\n          closeModal();\n        }\n      }}\n      submitText={submitText}\n      titleText={titleText}\n      type={ButtonTypes.PRIMARY}\n    >\n      <div>\n        <Label\n          color={(selectedCount > 0) ? LabelColors.PRIMARY : LabelColors.ONBACKGROUND_3}\n          type={LabelTypography.CAPTION_1}\n        >\n          {`${selectedCount} ${LabelStringSet.MODAL__INVITE_MEMBER__SELECTEC}`}\n        </Label>\n        <div\n          className=\"sendbird-create-channel--scroll\"\n          onScroll={(e) => {\n            const { hasNext } = usersDataSource;\n            const fetchMore = (\n              e.target.clientHeight + e.target.scrollTop === e.target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              usersDataSource.next((usersBatch, error) => {\n                if (error) {\n                  return;\n                }\n                setUsers([\n                  ...users,\n                  ...usersBatch,\n                ]);\n              });\n            }\n          }}\n        >\n          {\n            users.map((user) => (!filterUser(idsToFilter)(user.userId)) && (\n              <div key={user.userId} className=\"sendbird-create-channel--user-row\">\n                <div className=\"sendbird-create-channel--user-row--avatar\">\n                  <Avatar height=\"40px\" width=\"40px\" src={user.profileUrl} />\n                </div>\n                <div className=\"sendbird-create-channel--user-row--label\">\n                  <Label className=\"sendbird-create-channel--user-row--label__nickname\" type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n                    {user.nickname || LabelStringSet.NO_NAME}\n                  </Label>\n                  {\n                    user.nickname\n                      ? null\n                      : (\n                        <Label className=\"sendbird-create-channel--user-row--label__user-id\" type={LabelTypography.CAPTION_3} color={LabelColors.ONBACKGROUND_2}>\n                          {user.userId}\n                        </Label>\n                      )\n                  }\n                </div>\n                {/* eslint-disable-next-line jsx-a11y/label-has-associated-control */}\n                <label htmlFor={user.userId} className=\"sendbird-create-channel--user-row--checkbox\">\n                  <Checkbox\n                    id={user.userId}\n                    checked={selectedUsers[user.userId]}\n                    onChange={\n                      (event) => {\n                        const modifiedSelectedUsers = {\n                          ...selectedUsers,\n                          [event.target.id]: event.target.checked,\n                        };\n\n                        if (!event.target.checked) {\n                          delete modifiedSelectedUsers[event.target.id];\n                        }\n\n                        setSelectedUsers(modifiedSelectedUsers);\n                      }\n                    }\n                  />\n                </label>\n              </div>\n            ))\n          }\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nInviteMembers.propTypes = {\n  idsToFilter: PropTypes.arrayOf(\n    PropTypes.string,\n  ),\n  swapParams: PropTypes.bool,\n  userQueryCreator: PropTypes.func.isRequired,\n  closeModal: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  submitText: PropTypes.string,\n  titleText: PropTypes.string,\n};\nInviteMembers.defaultProps = {\n  swapParams: false,\n  submitText: 'create',\n  titleText: 'Create new channel',\n  idsToFilter: [],\n};\n\nexport default InviteMembers;\n","export const createChannel = (\n  sdk,\n  selectedUsers,\n  onBeforeCreateChannel,\n) => new Promise((resolve, reject) => {\n  // have custom params\n  if (onBeforeCreateChannel) {\n    const params = onBeforeCreateChannel(selectedUsers);\n    sdk.GroupChannel.createChannel(params, (response, error) => {\n      const swapParams = sdk.getErrorFirstCallback();\n      let groupChannel = response;\n      let err = error;\n      if (swapParams) {\n        groupChannel = error;\n        err = response;\n      }\n      if (err) {\n        reject(err);\n      }\n      resolve(groupChannel);\n    });\n    return;\n  }\n\n  // do not have custom params\n  sdk.GroupChannel.createChannelWithUserIds(\n    selectedUsers,\n    false, // 'distinct' is false\n    '', // NAME\n    '', // COVER_IMAGE_OR_URL\n    '', // DATA\n    (response, error) => {\n      const swapParams = sdk.getErrorFirstCallback();\n      let groupChannel = response;\n      let err = error;\n      if (swapParams) {\n        groupChannel = error;\n        err = response;\n      }\n      if (err) {\n        reject(err);\n      }\n      resolve(groupChannel);\n    },\n  );\n});\n\nexport default createChannel;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport IconButton from '../../../ui/IconButton';\nimport { LabelStringSet } from '../../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../../ui/Icon';\nimport InviteMembers from '../../InviteMembers';\n\nimport { createChannel } from './utils';\nimport { CREATE_CHANNEL } from '../dux/actionTypes';\n\nexport default function AddChannel({\n  sdk,\n  disabled,\n  channelListDispatcher,\n  onBeforeCreateChannel,\n  userId,\n  userListQuery,\n}) {\n  const [showModal, setshowModal] = useState(false);\n\n  if (!sdk || !sdk.createApplicationUserListQuery) {\n    return null;\n  }\n\n  return (\n    <>\n      <IconButton\n        height=\"32px\"\n        width=\"32px\"\n        onClick={() => {\n          setshowModal(true);\n        }}\n        disabled={disabled}\n      >\n        <Icon\n          type={IconTypes.CREATE}\n          fillColor={IconColors.PRIMARY}\n          width=\"24px\"\n          height=\"24px\"\n        />\n      </IconButton>\n      {\n        showModal && (\n          <InviteMembers\n            swapParams={\n              sdk && sdk.getErrorFirstCallback && sdk.getErrorFirstCallback()\n            }\n            titleText={LabelStringSet.MODAL__CREATE_CHANNEL__TITLE}\n            submitText={LabelStringSet.BUTTON__CREATE}\n            closeModal={() => setshowModal(false)}\n            idsToFilter={[userId]}\n            userQueryCreator={() => ((userListQuery && typeof userListQuery === 'function')\n              ? userListQuery()\n              : sdk.createApplicationUserListQuery())}\n            onSubmit={(selectedUsers) => createChannel(sdk, selectedUsers, onBeforeCreateChannel)\n              .then((channel) => {\n                // maybe - do this in event listener\n                channelListDispatcher({\n                  type: CREATE_CHANNEL,\n                  payload: channel,\n                });\n              })}\n          />\n        )\n      }\n    </>\n  );\n}\n\nAddChannel.propTypes = {\n  sdk: PropTypes.shape({\n    getErrorFirstCallback: PropTypes.func,\n    createApplicationUserListQuery: PropTypes.func,\n  }).isRequired,\n  disabled: PropTypes.bool,\n  channelListDispatcher: PropTypes.func.isRequired,\n  onBeforeCreateChannel: PropTypes.func,\n  userId: PropTypes.string.isRequired,\n  userListQuery: PropTypes.func,\n};\n\nAddChannel.defaultProps = {\n  disabled: false,\n  onBeforeCreateChannel: null,\n  userListQuery: null,\n};\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nexport default class MenuItems extends Component {\n  constructor(props) {\n    super(props);\n    this.menuRef = React.createRef();\n    this.state = {\n      menuStyle: {},\n      handleClickOutside: () => { },\n    };\n  }\n\n  componentDidMount() {\n    this.setupEvents();\n    this.getMenuPosition();\n    this.showParent();\n  }\n\n  componentWillUnmount() {\n    this.cleanUpEvents();\n    this.hideParent();\n  }\n\n  showParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.add('sendbird-icon--pressed');\n    }\n  }\n\n  hideParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.remove('sendbird-icon--pressed');\n    }\n  }\n\n  setupEvents = () => {\n    const { closeDropdown } = this.props;\n    const { menuRef } = this;\n    const handleClickOutside = (event) => {\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\n        closeDropdown();\n      }\n    };\n    this.setState({\n      handleClickOutside,\n    });\n\n    document.addEventListener('mousedown', handleClickOutside);\n  }\n\n  cleanUpEvents = () => {\n    const {\n      handleClickOutside,\n    } = this.state;\n    document.removeEventListener('mousedown', handleClickOutside);\n  }\n\n  getMenuPosition = () => {\n    const { parentRef, openLeft } = this.props;\n    const parentRect = parentRef.current.getBoundingClientRect();\n    const x = parentRect.x || parentRect.left;\n    const y = parentRect.y || parentRect.top;\n\n    const menuStyle = {\n      top: y,\n      left: x,\n    };\n\n    if (!this.menuRef.current) return menuStyle;\n\n    const { innerWidth, innerHeight } = window;\n    const rect = this.menuRef.current.getBoundingClientRect();\n\n    if (y + rect.height > innerHeight) {\n      menuStyle.top -= rect.height;\n    }\n\n    if (x + rect.width > innerWidth && !openLeft) {\n      menuStyle.left -= rect.width;\n    }\n\n    if (menuStyle.top < 0) {\n      menuStyle.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n    }\n\n    if (menuStyle.left < 0) {\n      menuStyle.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n    }\n\n    menuStyle.top += 32;\n    if (openLeft) {\n      menuStyle.left -= 108;\n    }\n\n    return this.setState({ menuStyle });\n  }\n\n  render() {\n    const { menuStyle } = this.state;\n    const { children } = this.props;\n    return (\n      createPortal(\n        (\n          <>\n            <div className=\"sendbird-dropdown__menu-backdrop\" />\n            <ul\n              className=\"sendbird-dropdown__menu\"\n              ref={this.menuRef}\n              style={{\n                display: 'inline-block',\n                position: 'fixed',\n                left: `${Math.round(menuStyle.left)}px`,\n                top: `${Math.round(menuStyle.top)}px`,\n              }}\n            >\n              {children}\n            </ul>\n          </>\n        ),\n        document.getElementById('sendbird-dropdown-portal'),\n      )\n    );\n  }\n}\nMenuItems.propTypes = {\n  closeDropdown: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]).isRequired,\n  // https://stackoverflow.com/a/51127130\n  parentRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) }),\n  ]).isRequired,\n  parentContainRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) }),\n  ]).isRequired,\n  openLeft: PropTypes.bool,\n};\nMenuItems.defaultProps = {\n  openLeft: false,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst componentClassName = 'sendbird-sort-by-row';\nexport default function SortByRow({\n  className,\n  maxItemCount,\n  itemWidth,\n  itemHeight,\n  children,\n}) {\n  const injectingClassName = Array.isArray(className) ? className : [className];\n  injectingClassName.unshift(componentClassName);\n\n  if (children.length > maxItemCount) {\n    const result = [];\n    for (let i = 0; i < children.length; i += maxItemCount) {\n      result.push(\n        <div\n          className={injectingClassName.join(' ')}\n          style={{ width: itemWidth * maxItemCount, height: itemHeight }}\n          key={className + i}\n        >\n          {\n            children.slice(i, i + maxItemCount)\n          }\n        </div>,\n      );\n    }\n\n    return result;\n  }\n  return (\n    <div\n      className={injectingClassName.join(' ')}\n      style={{ width: itemWidth * children.length, height: itemHeight }}\n    >\n      {children}\n    </div>\n  );\n}\n\nSortByRow.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  maxItemCount: PropTypes.number.isRequired,\n  itemWidth: PropTypes.number.isRequired,\n  itemHeight: PropTypes.number.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]).isRequired,\n};\n\nSortByRow.defaultProps = {\n  className: '',\n};\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport SortByRow from '../../SortByRow';\n\nexport default class EmojiListItems extends Component {\n  constructor(props) {\n    super(props);\n    this.reactionRef = React.createRef();\n    this.state = {\n      reactionStyle: {},\n      handleClickOutside: () => { },\n    };\n  }\n\n  componentDidMount() {\n    this.setupEvents();\n    this.getBarPosition();\n    this.showParent();\n  }\n\n  componentWillUnmount() {\n    this.cleanUpEvents();\n    this.hideParent();\n  }\n\n  showParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.add('sendbird-reactions--pressed');\n    }\n  }\n\n  hideParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.remove('sendbird-reactions--pressed');\n    }\n  }\n\n  setupEvents = () => {\n    const { closeDropdown } = this.props;\n    const { reactionRef } = this;\n    const handleClickOutside = (event) => {\n      if (reactionRef.current && !reactionRef.current.contains(event.target)) {\n        closeDropdown();\n      }\n    };\n    this.setState({\n      handleClickOutside,\n    });\n    document.addEventListener('mousedown', handleClickOutside);\n  }\n\n  cleanUpEvents = () => {\n    const {\n      handleClickOutside,\n    } = this.state;\n    document.removeEventListener('mousedown', handleClickOutside);\n  }\n\n  getBarPosition = () => {\n    const {\n      parentRef,\n      spaceFromTrigger,\n    } = this.props;\n    const spaceFromTriggerX = spaceFromTrigger.x || 0;\n    const spaceFromTriggerY = spaceFromTrigger.y || 0;\n\n    const parentRect = parentRef.current.getBoundingClientRect();\n\n    const x = parentRect.x || parentRect.left;\n    const y = parentRect.y || parentRect.top;\n\n    const reactionStyle = {\n      top: y,\n      left: x,\n    };\n\n    if (!this.reactionRef.current) return reactionStyle;\n    const rect = this.reactionRef.current.getBoundingClientRect();\n    // const childRect = this.reactionRef.current.children[0].getBoundingClientRect();\n\n    if (reactionStyle.top < rect.height) {\n      reactionStyle.top += parentRect.height;\n      reactionStyle.top += spaceFromTriggerY;\n    } else {\n      reactionStyle.top -= rect.height;\n      reactionStyle.top -= spaceFromTriggerY;\n    }\n\n    reactionStyle.left -= (rect.width / 2);\n    reactionStyle.left += (parentRect.height / 2) - 2;\n    reactionStyle.left += spaceFromTriggerX;\n\n    const maximumLeft = (window.innerWidth - rect.width);\n    if (maximumLeft < reactionStyle.left) {\n      reactionStyle.left = maximumLeft;\n    }\n    if (reactionStyle.left < 0) {\n      reactionStyle.left = 0;\n    }\n\n    return this.setState({ reactionStyle });\n  }\n\n  render() {\n    const { reactionStyle } = this.state;\n    const { children } = this.props;\n    return (\n      createPortal(\n        <>\n          <div className=\"sendbird-dropdown__menu-backdrop\" />\n          <ul\n            className=\"sendbird-dropdown__reaction-bar\"\n            ref={this.reactionRef}\n            style={{\n              display: 'inline-block',\n              position: 'fixed',\n              left: `${Math.round(reactionStyle.left)}px`,\n              top: `${Math.round(reactionStyle.top)}px`,\n            }}\n          >\n            <SortByRow\n              className=\"sendbird-dropdown__reaction-bar__row\"\n              maxItemCount={8}\n              itemWidth={44}\n              itemHeight={40}\n            >\n              {children}\n            </SortByRow>\n          </ul>\n        </>,\n        document.getElementById('sendbird-dropdown-portal'),\n      )\n    );\n  }\n}\nEmojiListItems.propTypes = {\n  closeDropdown: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]).isRequired,\n  parentRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) }),\n  ]).isRequired,\n  parentContainRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) }),\n  ]).isRequired,\n  spaceFromTrigger: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number,\n  }),\n};\nEmojiListItems.defaultProps = {\n  spaceFromTrigger: {},\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport Label, { LabelTypography, LabelColors } from '../Label';\n\nimport MenuItems_ from './items/MenuItems';\nimport EmojiListItems_ from './items/EmojiListItems';\n\nexport const MenuItems = MenuItems_;\nexport const EmojiListItems = EmojiListItems_;\n\nexport const MenuItem = ({ children, onClick, className }) => {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <li\n      tabIndex={0}\n      className={[\n        ...injectingClassName,\n        'sendbird-dropdown__menu-item',\n      ].join(' ')}\n      onClick={onClick}\n      onKeyPress={(e) => {\n        if (e.keyCode === 13) {\n          onClick(e);\n        }\n      }}\n      role=\"menuitem\"\n    >\n      <Label\n        type={LabelTypography.SUBTITLE_2}\n        color={LabelColors.ONBACKGROUND_1}\n        className=\"sendbird-dropdown__menu-item__text\"\n      >\n        {children}\n      </Label>\n    </li>\n  );\n};\n\nMenuItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n};\n\nMenuItem.defaultProps = {\n  className: '',\n};\n\nexport const MenuRoot = () => (\n  <div id=\"sendbird-dropdown-portal\" />\n);\n\nexport default function ContextMenu({ menuTrigger, menuItems }) {\n  const [showMenu, setShowMenu] = useState(false);\n\n  return (\n    <div className=\"sendbird-context-menu\" style={{ display: 'inline' }}>\n      {menuTrigger(() => setShowMenu(!showMenu))}\n      {showMenu && menuItems(() => setShowMenu(false))}\n    </div>\n  );\n}\n\nContextMenu.propTypes = {\n  menuTrigger: PropTypes.func.isRequired,\n  menuItems: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Modal from '../../../ui/Modal';\n\nconst LeaveChannel = (props) => {\n  const {\n    onCloseModal,\n    onLeaveChannel,\n  } = props;\n  return (\n    <Modal\n      onCancel={onCloseModal}\n      onSubmit={onLeaveChannel}\n      submitText=\"Leave\"\n      titleText=\"Leave this channel?\"\n    />\n  );\n};\n\nLeaveChannel.propTypes = {\n  onCloseModal: PropTypes.func.isRequired,\n  onLeaveChannel: PropTypes.func.isRequired,\n};\n\nexport default LeaveChannel;\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ContextMenu, { MenuItem, MenuItems } from '../../../ui/ContextMenu';\n\nimport IconButton from '../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../ui/Icon';\nimport { LabelStringSet } from '../../../ui/Label';\nimport LeaveChannelModal from '../../ChannelSettings/components/LeaveChannel';\n\nexport default function ChannelPreviewAction({ disabled, onLeaveChannel }) {\n  const parentRef = useRef(null);\n  const [showModal, setShowModal] = useState(false);\n\n  return (\n    <div\n      role=\"button\"\n      style={{ display: 'inline-block' }}\n      onKeyDown={(e) => { e.stopPropagation(); }}\n      tabIndex={0}\n      onClick={(e) => { e.stopPropagation(); }}\n    >\n      <ContextMenu\n        menuTrigger={(toggleDropdown) => (\n          <IconButton\n            ref={parentRef}\n            onClick={toggleDropdown}\n            height=\"32px\"\n            width=\"32px\"\n          >\n            <Icon\n              type={IconTypes.MORE}\n              fillColor={IconColors.PRIMARY}\n              width=\"24px\"\n              height=\"24px\"\n            />\n          </IconButton>\n        )}\n        menuItems={(closeDropdown) => (\n          <MenuItems\n            parentRef={parentRef}\n            parentContainRef={parentRef}\n            closeDropdown={closeDropdown}\n          >\n            <MenuItem\n              onClick={() => {\n                if (disabled) { return; }\n                setShowModal(true);\n                closeDropdown();\n              }}\n            >\n              {LabelStringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE}\n            </MenuItem>\n          </MenuItems>\n        )}\n      />\n      {\n        showModal && (\n          <LeaveChannelModal\n            onCloseModal={() => setShowModal(false)}\n            onLeaveChannel={onLeaveChannel}\n          />\n        )\n      }\n    </div>\n  );\n}\n\nChannelPreviewAction.propTypes = {\n  disabled: PropTypes.bool,\n  onLeaveChannel: PropTypes.func.isRequired,\n};\n\nChannelPreviewAction.defaultProps = {\n  disabled: false,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Icon, { IconTypes } from '../Icon';\n\nexport default function Loader({\n  children,\n  className,\n  width,\n  height,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      className={[...injectingClassName, 'sendbird-loader'].join(' ')}\n      style={{\n        width: typeof width === 'string' ? width : `${width}px`,\n        height: typeof height === 'string' ? height : `${height}px`,\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nLoader.propTypes = {\n  children: PropTypes.element,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  width: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  height: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n};\n\nLoader.defaultProps = {\n  children: <Icon\n    type={IconTypes.SPINNER}\n    width=\"26px\"\n    height=\"26px\"\n  />,\n  className: '',\n  width: '26px',\n  height: '26px',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Icon, { IconTypes } from '../Icon';\nimport Loader from '../Loader';\nimport Label, { LabelColors, LabelTypography, LabelStringSet } from '../Label';\nimport PlaceHolderTypes from './type';\n\nexport default function PlaceHolder({\n  className,\n  type,\n  retryToConnect,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div className={[...injectingClassName, 'sendbird-place-holder'].join(' ')}>\n      {\n        type === PlaceHolderTypes.LOADING\n          ? (\n            <Loader width=\"48px\" height=\"48px\">\n              <Icon type={IconTypes.SPINNER} width=\"48px\" height=\"48px\" />\n            </Loader>\n          )\n          : null\n      }\n      {\n        type === PlaceHolderTypes.NO_CHANNELS || type === PlaceHolderTypes.WRONG\n          ? (\n            <div className=\"sendbird-place-holder__body\">\n              <Icon className=\"sendbird-place-holder__body__icon\" type={IconTypes.CHAT} width=\"64px\" height=\"64px\" />\n              <Label className=\"sendbird-place-holder__body__text\" type={LabelTypography.BODY_1} color={LabelColors.ONBACKGROUND_2}>\n                {\n                  type === PlaceHolderTypes.NO_CHANNELS\n                    ? LabelStringSet.PLACE_HOLDER__NO_CHANNEL\n                    : LabelStringSet.PLACE_HOLDER__WRONG\n                }\n              </Label>\n              {\n                retryToConnect\n                  ? (\n                    <div\n                      className=\"sendbird-place-holder__body__reconnect\"\n                      role=\"button\"\n                      tabIndex={0}\n                      onClick={retryToConnect}\n                      onKeyPress={retryToConnect}\n                    >\n                      <Icon className=\"sendbird-place-holder__body__reconnect__icon\" type={IconTypes.REFRESH} width=\"20px\" height=\"20px\" />\n                      <Label className=\"sendbird-place-holder__body__reconnect__text\" type={LabelTypography.BUTTON_1} color={LabelColors.PRIMARY}>\n                        {LabelStringSet.PLACE_HOLDER__RETRY_TO_CONNECT}\n                      </Label>\n                    </div>\n                  )\n                  : null\n              }\n            </div>\n          )\n          : null\n      }\n    </div>\n  );\n}\n\nPlaceHolder.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  type: PropTypes.oneOfType([\n    PropTypes.oneOf(Object.keys(PlaceHolderTypes)),\n    PropTypes.string,\n  ]).isRequired,\n  retryToConnect: PropTypes.func,\n};\n\nPlaceHolder.defaultProps = {\n  className: '',\n  retryToConnect: null,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Placeholder from '../../../ui/PlaceHolder';\n\nexport default function ChannelsPlaceholder({\n  type,\n}) {\n  return (\n    <div className=\"sendbird-channel-list\">\n      <Placeholder type={type} />\n    </div>\n  );\n}\n\nChannelsPlaceholder.propTypes = {\n  type: PropTypes.string.isRequired,\n};\n","export const SEND_MESSAGE_START = 'SEND_MESSAGE_START';\nexport const SEND_USER_MESSAGE = 'SEND_USER_MESSAGE';\nexport const SEND_FILE_MESSAGE = 'SEND_FILE_MESSAGE';\nexport const UPDATE_USER_MESSAGE = 'UPDATE_USER_MESSAGE';\nexport const DELETE_MESSAGE = 'DELETE_MESSAGE';\nexport const LEAVE_CHANNEL = 'LEAVE_CHANNEL';\nexport const CREATE_CHANNEL = 'CREATE_CHANNEL';\n","import * as channelActions from './dux/actionTypes';\nimport * as topics from '../../lib/pubSub/topics';\n\nconst createEventHandler = ({\n  sdk,\n  sdkChannelHandlerId,\n  channelListDispatcher,\n  logger,\n}) => {\n  const ChannelHandler = new sdk.ChannelHandler();\n\n  ChannelHandler.onChannelChanged = (channel) => {\n    logger.info('ChannelList: onChannelChanged', channel);\n    channelListDispatcher({\n      type: channelActions.ON_CHANNEL_CHANGED,\n      payload: channel,\n    });\n  };\n  ChannelHandler.onChannelDeleted = (channelUrl) => {\n    logger.info('ChannelList: onChannelDeleted', channelUrl);\n    channelListDispatcher({\n      type: channelActions.ON_CHANNEL_DELETED,\n      payload: channelUrl,\n    });\n  };\n  ChannelHandler.onUserJoined = (channel) => {\n    logger.info('ChannelList: onUserJoined', channel);\n    if (channel.lastMessage) {\n      channelListDispatcher({\n        type: channelActions.ON_USER_JOINED,\n        payload: channel,\n      });\n    }\n  };\n  ChannelHandler.onUserLeft = (channel) => {\n    logger.info('ChannelList: onUserLeft', channel);\n    channelListDispatcher({\n      type: channelActions.ON_USER_LEFT,\n      payload: channel,\n    });\n  };\n\n  ChannelHandler.onReadStatus = (channel) => {\n    logger.info('ChannelList: onReadStatus', channel);\n    channelListDispatcher({\n      type: channelActions.ON_READ_RECEIPT_UPDATED,\n      payload: channel,\n    });\n  };\n\n  ChannelHandler.onDeliveryReceiptUpdated = (channel) => {\n    logger.info('ChannelList: onDeliveryReceiptUpdated', channel);\n    if (channel.lastMessage) {\n      channelListDispatcher({\n        type: channelActions.ON_DELIVERY_RECEIPT_UPDATED,\n        payload: channel,\n      });\n    }\n  };\n\n  ChannelHandler.onMessageUpdated = (channel, message) => {\n    if (channel.lastMessage.isEqual(message)) {\n      logger.info('ChannelList: onMessageUpdated', channel);\n      channelListDispatcher({\n        type: channelActions.ON_LAST_MESSAGE_UPDATED,\n        payload: channel,\n      });\n    }\n  };\n\n  logger.info('ChannelList: Added channelHandler');\n  sdk.addChannelHandler(sdkChannelHandlerId, ChannelHandler);\n};\n\n/**\n * Setup event listener\n * create channel source query\n * addloading screen\n */\nfunction setupChannelList({\n  sdk,\n  sdkChannelHandlerId,\n  channelListDispatcher,\n  setChannelSource,\n  onChannelSelect,\n  logger,\n}) {\n  createEventHandler({\n    sdk,\n    channelListDispatcher,\n    sdkChannelHandlerId,\n    logger,\n  });\n\n  const channelListQuery = sdk.GroupChannel.createMyGroupChannelListQuery();\n  channelListQuery.includeEmpty = false;\n  channelListQuery.order = 'latest_last_message'; // 'chronological', 'latest_last_message', 'channel_name_alphabetical', and 'metadata_value_alphabetical'\n  channelListQuery.limit = 20; // The value of pagination limit could be set up to 100.\n\n  setChannelSource(channelListQuery);\n\n  channelListDispatcher({\n    type: channelActions.INIT_CHANNELS_START,\n  });\n\n  logger.info('ChannelList - fetching channels');\n  if (channelListQuery.hasNext) {\n    channelListQuery.next((response, error) => {\n      const swapParams = sdk.getErrorFirstCallback();\n      let channelList = response;\n      let err = error;\n      if (swapParams) {\n        channelList = error;\n        err = response;\n      }\n      logger.info('ChannelList - fetched channels', channelList);\n      if (err) {\n        logger.error('ChannelList - couldnt fetch channels', err);\n        channelListDispatcher({\n          type: channelActions.INIT_CHANNELS_FAILURE,\n        });\n        return;\n      }\n      // select first channel\n      logger.info('ChannelList - highlight channel', channelList[0]);\n      onChannelSelect(channelList[0]);\n      channelListDispatcher({\n        type: channelActions.INIT_CHANNELS_SUCCESS,\n        payload: channelList,\n      });\n      if (channelList && typeof channelList.forEach === 'function') {\n        logger.info('ChannelList - mark all channels as delivered');\n        channelList.forEach((c) => c.markAsDelivered());\n      }\n    });\n  } else {\n    logger.warning('ChannelList - there are no more channels');\n  }\n}\n\nexport const pubSubHandleRemover = (subscriber) => {\n  subscriber.forEach((s) => {\n    try {\n      s.remove();\n    } catch {\n      //\n    }\n  });\n};\n\nexport const pubSubHandler = (pubSub, channelListDispatcher) => {\n  const subScriber = new Map();\n  if (!pubSub) return subScriber;\n  subScriber.set(topics.CREATE_CHANNEL, pubSub.subscribe(topics.CREATE_CHANNEL, (msg) => {\n    const { channel } = msg;\n    channelListDispatcher({\n      type: 'CREATE_CHANNEL',\n      payload: channel,\n    });\n  }));\n\n  subScriber.set(topics.LEAVE_CHANNEL, pubSub.subscribe(topics.LEAVE_CHANNEL, (msg) => {\n    const { channel } = msg;\n    channelListDispatcher({\n      type: channelActions.LEAVE_CHANNEL_SUCCESS,\n      payload: channel.url,\n    });\n  }));\n  return subScriber;\n};\n\nexport default setupChannelList;\n","import React, { useEffect, useState, useReducer } from 'react';\nimport PropTypes from 'prop-types';\n\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\n\nimport * as channelListActions from './dux/actionTypes';\nimport channelListInitialState from './dux/initialState';\nimport channelListReducers from './dux/reducers';\n\nimport ChannelPreview from '../../ui/ChannelPreview';\nimport ChannelHeader from '../../ui/ChannelHeader';\nimport PlaceholderTypes from '../../ui/PlaceHolder/type';\n\nimport AddChannel from './components/AddChannel';\nimport ChannelPreviewAction from './components/ChannelPreviewAction';\nimport PlaceHolder from './components/Placeholder';\n\nimport setupChannelList, {\n  pubSubHandler,\n  pubSubHandleRemover,\n} from './utils';\nimport { uuidv4 } from '../../utils/uuid';\n\nimport './index.scss';\n\nconst noop = () => { };\n\nfunction ChannelList(props) {\n  const {\n    stores: { sdkStore = {}, userStore = {} },\n    config: {\n      userId,\n      isOnline,\n      userListQuery,\n      logger,\n      pubSub,\n    },\n    renderChannelPreview,\n    onBeforeCreateChannel,\n    onChannelSelect,\n  } = props;\n  const { sdk = {} } = sdkStore;\n  const sdkError = sdkStore.error;\n  const { user = {} } = userStore;\n  const sdkIntialized = sdkStore.initialized;\n  const [channelListStore, channelListDispatcher] = useReducer(\n    channelListReducers,\n    channelListInitialState,\n  );\n  const [channelSource, setChannelSource] = useState({});\n  const [sdkChannelHandlerId, setSdkChannelHandlerId] = useState(null);\n\n  const { loading, currentChannel } = channelListStore;\n\n  useEffect(() => {\n    const subscriber = pubSubHandler(pubSub, channelListDispatcher);\n    return () => {\n      pubSubHandleRemover(subscriber);\n    };\n  }, [sdkIntialized]);\n\n  useEffect(() => {\n    setSdkChannelHandlerId(uuidv4);\n    if (sdkIntialized) {\n      logger.info('ChannelList: Setup channelHandlers');\n      setupChannelList({\n        sdk,\n        sdkChannelHandlerId,\n        channelListDispatcher,\n        setChannelSource,\n        onChannelSelect,\n        logger,\n      });\n    } else {\n      logger.info('ChannelList: Removing channelHandlers');\n      // remove previous channelHandlers\n      if (sdk && sdk.removeChannelHandler) {\n        sdk.removeChannelHandler(sdkChannelHandlerId);\n      }\n      // remove channelSource\n      setChannelSource({});\n      // cleanup\n      channelListDispatcher({\n        type: channelListActions.RESET_CHANNEL_LIST,\n      });\n    }\n    return () => {\n      logger.info('ChannelList: Removing channelHandlers');\n      if (sdk && sdk.removeChannelHandler) {\n        sdk.removeChannelHandler(sdkChannelHandlerId);\n      }\n    };\n  }, [sdkIntialized]);\n\n  const { allChannels } = channelListStore;\n\n  useEffect(() => {\n    if (!sdk || !sdk.GroupChannel) { return; }\n    sdk.GroupChannel.getChannel(currentChannel, (groupChannel) => {\n      if (groupChannel) {\n        onChannelSelect(groupChannel);\n      } else {\n        onChannelSelect(null);\n      }\n    });\n  }, [currentChannel]);\n\n  return (\n    <div className=\"sendbird-channel-list\">\n      <div className=\"sendbird-channel-list__header\">\n        <ChannelHeader\n          title=\"Channels\"\n          iconButton={(\n            <AddChannel\n              disabled={!isOnline}\n              userListQuery={userListQuery}\n              sdk={sdk}\n              channelListDispatcher={channelListDispatcher}\n              userId={userId}\n              onBeforeCreateChannel={onBeforeCreateChannel}\n            />\n          )}\n        />\n      </div>\n      <div\n        className=\"sendbird-channel-list__body\"\n        onScroll={(e) => {\n          const fetchMore = e.target.clientHeight + e.target.scrollTop === e.target.scrollHeight;\n          if (fetchMore && channelSource.hasNext) {\n            logger.info('ChannelList: Fetching more channels');\n            channelListDispatcher({\n              type: channelListActions.FETCH_CHANNELS_START,\n            });\n            channelSource.next((response, error) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let channelList = response;\n              let err = error;\n              if (swapParams) {\n                channelList = error;\n                err = response;\n              }\n              if (err) {\n                logger.info('ChannelList: Fetching channels failed', err);\n                channelListDispatcher({\n                  type: channelListActions.FETCH_CHANNELS_FAILURE,\n                  payload: channelList,\n                });\n                return;\n              }\n              logger.info('ChannelList: Fetching channels successful', channelList);\n              channelListDispatcher({\n                type: channelListActions.FETCH_CHANNELS_SUCCESS,\n                payload: channelList,\n              });\n              if (channelList && typeof channelList.forEach === 'function') {\n                logger.info('ChannelList: Marking all channels as read');\n                channelList.forEach((c) => c.markAsDelivered());\n              }\n            });\n          }\n        }}\n      >\n        {\n          (sdkError) && (\n            <PlaceHolder type={PlaceholderTypes.WRONG} />\n          )\n        }\n        {/*\n          To do: Implement windowing\n          Implement windowing if you are dealing with large number of messages/channels\n          https://github.com/bvaughn/react-window -> recommendation\n          We hesitate to bring one more dependency to our library,\n          we are planning to implement it inside the library\n        */}\n        <div>\n          {\n            allChannels && allChannels.map((channel, idx) => {\n              const onLeaveChannel = (c, cb) => {\n                logger.info('ChannelList: Leaving channel', c);\n                c.leave()\n                  .then((res) => {\n                    logger.info('ChannelList: Leaving channel success', res);\n                    if (cb && typeof cb === 'function') {\n                      cb(res, null);\n                    }\n                    channelListDispatcher({\n                      type: channelListActions.LEAVE_CHANNEL_SUCCESS,\n                      payload: channel.url,\n                    });\n                  })\n                  .catch((err) => {\n                    logger.error('ChannelList: Leaving channel failed', err);\n                    if (cb && typeof cb === 'function') {\n                      cb(null, err);\n                    }\n                  });\n              };\n\n              const onClick = () => {\n                if (!isOnline) { return; }\n                logger.info('ChannelList: Clicked on channel:', channel);\n                channelListDispatcher({\n                  type: channelListActions.SET_CURRENT_CHANNEL,\n                  payload: channel.url,\n                });\n              };\n\n              return (\n                (renderChannelPreview)\n                  ? (\n                    // eslint-disable-next-line\n                    <div key={channel.url} onClick={onClick}>\n                      {renderChannelPreview({ channel, onLeaveChannel })}\n                    </div>\n                  )\n                  : (\n                    <ChannelPreview\n                      key={channel.url}\n                      tabIndex={idx}\n                      onClick={onClick}\n                      channel={channel}\n                      currentUser={user}\n                      isActive={channel.url === currentChannel}\n                      // todo - potential performance hit refactor\n                      ChannelAction={(\n                        <ChannelPreviewAction\n                          disabled={!isOnline}\n                          onLeaveChannel={() => onLeaveChannel(channel)}\n                        />\n                      )}\n                    />\n                  )\n              );\n            })\n          }\n        </div>\n        {\n          (!sdkIntialized || loading) && (\n            <PlaceHolder type={PlaceholderTypes.LOADING} />\n          )\n        }\n        {\n          //  placeholder\n          (!allChannels || allChannels.length === 0) && (\n            <PlaceHolder type={PlaceholderTypes.NO_CHANNELS} />\n          )\n        }\n      </div>\n    </div>\n  );\n}\n\nChannelList.propTypes = {\n  stores: PropTypes.shape({\n    sdkStore: PropTypes.shape({\n      initialized: PropTypes.bool,\n    }),\n    userStore: PropTypes.shape({\n      user: PropTypes.shape({}),\n    }),\n  }).isRequired,\n  config: PropTypes.shape({\n    userId: PropTypes.string.isRequired,\n    userListQuery: PropTypes.func,\n    isOnline: PropTypes.bool,\n    logger: PropTypes.shape({\n      info: PropTypes.func,\n      error: PropTypes.func,\n      warning: PropTypes.func,\n    }),\n    pubSub: PropTypes.shape({\n      subscribe: PropTypes.func,\n      publish: PropTypes.func,\n    }),\n  }).isRequired,\n  onBeforeCreateChannel: PropTypes.func,\n  renderChannelPreview: PropTypes.element,\n  onChannelSelect: PropTypes.func,\n};\n\nChannelList.defaultProps = {\n  onBeforeCreateChannel: null,\n  renderChannelPreview: null,\n  onChannelSelect: noop,\n};\n\nexport default withSendbirdContext(ChannelList);\n","const MessageStatusType = {\n  PENDING: 'PENDING',\n  SENT: 'SENT',\n  DELIVERED: 'DELIVERED',\n  READ: 'READ',\n  FAILED: 'FAILED',\n};\n\nexport default MessageStatusType;\n","export const RESET_MESSAGES = 'RESET_MESSAGES';\nexport const CLEAR_SENT_MESSAGES = 'CLEAR_SENT_MESSAGES';\nexport const GET_PREV_MESSAGES_START = 'GET_PREV_MESSAGES_START';\nexport const GET_PREV_MESSAGES_SUCESS = 'GET_PREV_MESSAGES_SUCESS';\nexport const GET_PREV_MESSAGES_FAILURE = 'GET_PREV_MESSAGES_FAILURE';\n\nexport const SEND_MESSAGEGE_START = 'SEND_MESSAGEGE_START';\nexport const SEND_MESSAGEGE_SUCESS = 'SEND_MESSAGEGE_SUCESS';\nexport const SEND_MESSAGEGE_FAILURE = 'SEND_MESSAGEGE_FAILURE';\n\nexport const RESEND_MESSAGEGE_START = 'RESEND_MESSAGEGE_START';\n\nexport const ON_MESSAGE_RECEIVED = 'ON_MESSAGE_RECEIVED';\nexport const ON_MESSAGE_UPDATED = 'ON_MESSAGE_UPDATED';\nexport const ON_MESSAGE_DELETED = 'ON_MESSAGE_DELETED';\nexport const ON_MESSAGE_DELETED_BY_REQ_ID = 'ON_MESSAGE_DELETED_BY_REQ_ID';\n\nexport const SET_CURRENT_CHANNEL = 'SET_CURRENT_CHANNEL';\nexport const MARK_AS_READ = 'MARK_AS_READ';\n\nexport const ON_REACTION_UPDATED = 'ON_REACTION_UPDATED';\n","import MessageStatusType from '../../ui/MessageStatus/type';\nimport * as channelActions from './dux/actionTypes';\nimport * as topics from '../../lib/pubSub/topics';\n\nexport const pubSubHandleRemover = (subscriber) => {\n  subscriber.forEach((s) => {\n    try {\n      s.remove();\n    } catch {\n      //\n    }\n  });\n};\n\nexport const pubSubHandler = (channelUrl, pubSub, dispatcher) => {\n  const subscriber = new Map();\n  if (!pubSub || !pubSub.subscribe) return subscriber;\n  subscriber.set(topics.SEND_USER_MESSAGE, pubSub.subscribe(topics.SEND_USER_MESSAGE, (msg) => {\n    const { channel, message } = msg;\n    if (channel && (channelUrl === channel.url)) {\n      dispatcher({\n        type: channelActions.SEND_MESSAGEGE_SUCESS,\n        payload: message,\n      });\n    }\n  }));\n  subscriber.set(topics.SEND_MESSAGE_START, pubSub.subscribe(topics.SEND_MESSAGE_START, (msg) => {\n    const { channel, message } = msg;\n    if (channel && (channelUrl === channel.url)) {\n      dispatcher({\n        type: channelActions.SEND_MESSAGEGE_START,\n        payload: message,\n      });\n    }\n  }));\n  subscriber.set(topics.SEND_FILE_MESSAGE, pubSub.subscribe(topics.SEND_FILE_MESSAGE, (msg) => {\n    const { channel, message } = msg;\n    if (channel && (channelUrl === channel.url)) {\n      dispatcher({\n        type: channelActions.SEND_MESSAGEGE_SUCESS,\n        payload: message,\n      });\n    }\n  }));\n  subscriber.set(topics.UPDATE_USER_MESSAGE, pubSub.subscribe(topics.UPDATE_USER_MESSAGE, (msg) => {\n    const { channel, message } = msg;\n    if (channel && (channelUrl === channel.url)) {\n      dispatcher({\n        type: channelActions.ON_MESSAGE_UPDATED,\n        payload: message,\n      });\n    }\n  }));\n  subscriber.set(topics.DELETE_MESSAGE, pubSub.subscribe(topics.DELETE_MESSAGE, (msg) => {\n    const { channel, messageId } = msg;\n    if (channel && (channelUrl === channel.url)) {\n      dispatcher({\n        type: channelActions.ON_MESSAGE_DELETED,\n        payload: messageId,\n      });\n    }\n  }));\n\n  return subscriber;\n};\n\nexport const scrollIntoLast = (selector, intialTry = 0) => {\n  const MAX_TRIES = 10;\n  const currentTry = intialTry;\n  if (currentTry > MAX_TRIES) {\n    return;\n  }\n  try {\n    const nodes = document.querySelectorAll(selector);\n    const last = nodes[nodes.length - 1];\n    last.scrollIntoView(false); /** alignToTop: false */\n  } catch (error) {\n    setTimeout(() => {\n      scrollIntoLast(selector, currentTry + 1);\n    }, 500 * currentTry);\n  }\n};\n\nexport const getParsedStatus = (message, currentGroupChannel) => {\n  if (message.requestState === 'failed') {\n    return MessageStatusType.FAILED;\n  }\n\n  if (message.requestState === 'pending') {\n    return MessageStatusType.PENDING;\n  }\n\n  if (message.requestState === 'succeeded') {\n    if (!currentGroupChannel) {\n      return MessageStatusType.SENT;\n    }\n\n    const unreadCount = currentGroupChannel.getReadReceipt(message);\n    if (unreadCount === 0) {\n      return MessageStatusType.READ;\n    }\n\n    const isDelivered = currentGroupChannel.getDeliveryReceipt(message) === 0;\n    if (isDelivered) {\n      return MessageStatusType.DELIVERED;\n    }\n\n    return MessageStatusType.SENT;\n  }\n\n  return null;\n};\n\nexport const isOperator = (groupChannel = {}) => {\n  const { myRole } = groupChannel;\n  return myRole === 'operator';\n};\n\nexport const isDisabledBecauseFrozen = (groupChannel = {}) => {\n  const { isFrozen } = groupChannel;\n  return isFrozen && !isOperator(groupChannel);\n};\n\nexport const getEmojiCategoriesFromEmojiContainer = (emojiContainer = {}) => (\n  emojiContainer.emojiCategories ? emojiContainer.emojiCategories : []\n);\n\nexport const getAllEmojisFromEmojiContainer = (emojiContainer = {}) => {\n  const { emojiCategories = [] } = emojiContainer;\n  const allEmojis = [];\n\n  for (let categoryIndex = 0; categoryIndex < emojiCategories.length; categoryIndex += 1) {\n    const { emojis } = emojiCategories[categoryIndex];\n    for (let emojiIndex = 0; emojiIndex < emojis.length; emojiIndex += 1) {\n      allEmojis.push(emojis[emojiIndex]);\n    }\n  }\n  return allEmojis;\n};\n\nexport const getEmojisFromEmojiContainer = (emojiContainer = {}, emojiCategoryId = '') => (\n  emojiContainer.emojiCategories\n    ? emojiContainer.emojiCategories\n      .filter((emojiCategory) => emojiCategory.id === emojiCategoryId)[0].emojis\n    : []\n);\n\nexport const getAllEmojisMapFromEmojiContainer = (emojiContainer = {}) => {\n  const { emojiCategories = [] } = emojiContainer;\n  const allEmojisMap = new Map();\n\n  for (let categoryIndex = 0; categoryIndex < emojiCategories.length; categoryIndex += 1) {\n    const { emojis } = emojiCategories[categoryIndex];\n    for (let emojiIndex = 0; emojiIndex < emojis.length; emojiIndex += 1) {\n      const { key, url } = emojis[emojiIndex];\n      allEmojisMap.set(key, url);\n    }\n  }\n  return allEmojisMap;\n};\n\nexport const getNicknamesMapFromMembers = (members = []) => {\n  const nicknamesMap = new Map();\n  for (let memberIndex = 0; memberIndex < members.length; memberIndex += 1) {\n    const { userId, nickname } = members[memberIndex];\n    nicknamesMap.set(userId, nickname);\n  }\n  return nicknamesMap;\n};\n\nexport default getParsedStatus;\n","export default {\n  initialized: false,\n  loading: false,\n  allMessages: [],\n  currentChannel: null,\n  hasMore: false,\n  unreadCount: 0,\n  unreadSince: null,\n};\n","const isEmpty = (val) => (val === null || val === undefined);\n\n// Some Ids return string and number inconsistently\n// only use to comapre IDs\nexport default function (a, b) {\n  if (isEmpty(a) || isEmpty(b)) {\n    return false;\n  }\n  const aString = a.toString();\n  const bString = b.toString();\n  return aString === bString;\n}\n","import moment from 'moment';\n\nimport * as actionTypes from './actionTypes';\nimport initialState from './initialState';\n\nimport compareIds from '../../../utils/compareIds';\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case actionTypes.RESET_MESSAGES:\n      return initialState;\n    case actionTypes.GET_PREV_MESSAGES_START:\n      return {\n        ...state,\n        loading: true,\n      };\n    case actionTypes.CLEAR_SENT_MESSAGES:\n      return {\n        ...state,\n        allMessages: [\n          ...state.allMessages.filter((m) => (\n            m.sendingStatus !== 'succeeded'\n          )),\n        ],\n      };\n    case actionTypes.GET_PREV_MESSAGES_SUCESS: {\n      const recivedMessages = action.payload.messages || [];\n      // remove duplicate messages\n      const filteredAllMessages = state.allMessages.filter((msg) => (\n        !(recivedMessages.find(({ messageId }) => compareIds(messageId, msg.messageId)))\n      ));\n      return {\n        ...state,\n        loading: false,\n        initialized: true,\n        hasMore: action.payload.hasMore,\n        allMessages: [\n          ...recivedMessages,\n          ...filteredAllMessages,\n        ],\n      };\n    }\n    case actionTypes.SEND_MESSAGEGE_START:\n      return {\n        ...state,\n        allMessages: [\n          ...state.allMessages,\n          { ...action.payload },\n        ],\n      };\n    case actionTypes.SEND_MESSAGEGE_SUCESS:\n      return {\n        ...state,\n        allMessages: state.allMessages.map((m) => (\n          compareIds(m.reqId, action.payload.reqId)\n            ? action.payload\n            : m\n        )),\n      };\n    case actionTypes.SEND_MESSAGEGE_FAILURE: {\n      // eslint-disable-next-line no-param-reassign\n      action.payload.failed = true;\n      return {\n        ...state,\n        allMessages: state.allMessages.map((m) => (\n          compareIds(m.reqId, action.payload.reqId)\n            ? action.payload\n            : m\n        )),\n      };\n    }\n    case actionTypes.SET_CURRENT_CHANNEL: {\n      return {\n        ...state,\n        currentChannel: action.payload,\n      };\n    }\n    case actionTypes.ON_MESSAGE_RECEIVED: {\n      const { channel, message } = action.payload;\n      const { currentChannel, unreadCount, unreadSince } = state;\n      if (!compareIds(channel.url, currentChannel)) {\n        return state;\n      }\n      // Excluded overlapping messages\n      if (!(state.allMessages.map((msg) => msg.messageId).indexOf(message.messageId) < 0)) {\n        return state;\n      }\n      if (message.isAdminMessage && message.isAdminMessage()) {\n        return {\n          ...state,\n          allMessages: [...state.allMessages, message],\n        };\n      }\n      return {\n        ...state,\n        unreadCount: unreadCount + 1,\n        unreadSince: (unreadCount === 0)\n          ? moment().format('LT MMM DD')\n          : unreadSince,\n        allMessages: [...state.allMessages, message],\n      };\n    }\n    case actionTypes.ON_MESSAGE_UPDATED:\n      return {\n        ...state,\n        allMessages: state.allMessages.map((m) => (\n          compareIds(m.messageId, action.payload.messageId)\n            ? action.payload\n            : m\n        )),\n      };\n    case actionTypes.RESEND_MESSAGEGE_START:\n      return {\n        ...state,\n        allMessages: state.allMessages.map((m) => (\n          compareIds(m.reqId, action.payload.reqId)\n            ? action.payload\n            : m\n        )),\n      };\n    case actionTypes.MARK_AS_READ:\n      return {\n        ...state,\n        unreadCount: 0,\n        unreadSince: null,\n      };\n    case actionTypes.ON_MESSAGE_DELETED:\n      return {\n        ...state,\n        allMessages: state.allMessages.filter((m) => (\n          !compareIds(m.messageId, action.payload)\n        )),\n      };\n    case actionTypes.ON_MESSAGE_DELETED_BY_REQ_ID:\n      return {\n        ...state,\n        allMessages: state.allMessages.filter((m) => (\n          !compareIds(m.reqId, action.payload)\n        )),\n      };\n    case actionTypes.ON_REACTION_UPDATED: {\n      return {\n        ...state,\n        allMessages: state.allMessages.map((m) => {\n          if (compareIds(m.messageId, action.payload.messageId)) {\n            if (m.applyReactionEvent && typeof m.applyReactionEvent === 'function') {\n              m.applyReactionEvent(action.payload);\n            }\n            return m;\n          }\n          return m;\n        }),\n      };\n    }\n    default:\n      return state;\n  }\n}\n","import * as messageActions from './actionTypes';\n\nexport default ({\n  messagesDispatcher,\n  sdk,\n  uniqueId,\n  logger,\n}) => {\n  if (!sdk || !sdk.ChannelHandler) { return; }\n  const ChannelHandler = new sdk.ChannelHandler();\n  logger.info('Channel: Setup event handler');\n  ChannelHandler.onMessageReceived = (channel, message) => {\n    logger.info('Channel: onMessageReceived', message);\n    messagesDispatcher({\n      type: messageActions.ON_MESSAGE_RECEIVED,\n      payload: { channel, message },\n    });\n  };\n\n  ChannelHandler.onMessageUpdated = (_, message) => {\n    logger.info('Channel: onMessageUpdated', message);\n    messagesDispatcher({\n      type: messageActions.ON_MESSAGE_UPDATED,\n      payload: message,\n    });\n  };\n\n  ChannelHandler.onMessageDeleted = (_, messageId) => {\n    logger.info('Channel: onMessageDeleted', messageId);\n    messagesDispatcher({\n      type: messageActions.ON_MESSAGE_DELETED,\n      payload: messageId,\n    });\n  };\n\n  ChannelHandler.onReactionUpdated = (_, reactionEvent) => {\n    logger.info('Channel: onReactionUpdated', reactionEvent);\n    messagesDispatcher({\n      type: messageActions.ON_REACTION_UPDATED,\n      payload: reactionEvent,\n    });\n  };\n\n  // Add this channel event handler to the SendBird object.\n  sdk.addChannelHandler(uniqueId, ChannelHandler);\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst ReactionButton = React.forwardRef((props, ref) => {\n  const {\n    children,\n    width,\n    height,\n    onClick,\n    selected,\n    className,\n  } = props;\n\n  const injectingClassName = Array.isArray(className) ? className : [className];\n  return (\n    <div\n      ref={ref}\n      className={`sendbird-reaction-button${selected ? '--selected' : ''} ${injectingClassName.join(' ')}`}\n      style={{\n        width: typeof width === 'string' ? `${width.slice(0, -2) - 2}px` : `${width - 2}px`,\n        height: typeof height === 'string' ? `${height.slice(0, -2) - 2}px` : `${height - 2}px`,\n      }}\n      onClick={(e) => onClick(e)}\n      role=\"button\"\n      onKeyDown={(e) => onClick(e)}\n      tabIndex={0}\n    >\n      <div className=\"sendbird-reaction-button__inner\">\n        {children}\n      </div>\n    </div>\n  );\n});\n\nReactionButton.propTypes = {\n  children: PropTypes.element.isRequired,\n  onClick: PropTypes.func,\n  selected: PropTypes.bool,\n  width: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  height: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nReactionButton.defaultProps = {\n  selected: false,\n  width: '36px',\n  height: '36px',\n  onClick: () => { },\n  className: '',\n};\n\nexport default ReactionButton;\n","import Moment from 'moment';\n\nexport const getMessageCreatedAt = (message) => Moment(message.createdAt).format('LT');\n\nexport const getSenderName = (message) => (\n  message.sender && (\n    message.sender.friendName\n    || message.sender.nickname\n    || message.sender.userId\n  )\n);\n\nexport const getSenderProfileUrl = (message) => message.sender && message.sender.profileUrl;\n\nexport default {\n  getMessageCreatedAt,\n  getSenderName,\n  getSenderProfileUrl,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport Label, { LabelColors, LabelTypography, LabelStringSet } from '../Label';\nimport Loader from '../Loader';\nimport MessageStatusType from './type';\n\nimport { getMessageCreatedAt } from '../../utils/utils';\n\nconst MessageStatusTypes = MessageStatusType;\nexport { MessageStatusTypes };\nexport default function MessageStatus({\n  message,\n  status,\n  className,\n  onDelete,\n  onResend,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  const canResend = message && typeof message.isResendable === 'function'\n  && message.isResendable();\n  const label = () => {\n    switch (status) {\n      case MessageStatusType.PENDING: {\n        return null;\n      }\n      case MessageStatusType.SENT:\n      case MessageStatusType.DELIVERED:\n      case MessageStatusType.READ: {\n        return (\n          <Label\n            className=\"sendbird-message-status__text\"\n            type={LabelTypography.CAPTION_3}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {getMessageCreatedAt(message)}\n          </Label>\n        );\n      }\n      case MessageStatusType.FAILED: {\n        // check onClickEvents\n        return (\n          <Label\n            className=\"sendbird-message-status__text\"\n            type={LabelTypography.CAPTION_3}\n            color={LabelColors.ERROR}\n          >\n            {LabelStringSet.MESSAGE_STATUS__SENDING_FAILED}\n            {\n              canResend && (\n                <>\n                  <span\n                    className=\"sendbird-message-status__text__try-again\"\n                    role=\"button\"\n                    tabIndex={0}\n                    onClick={onResend}\n                    onKeyPress={onResend}\n                  >\n                    {LabelStringSet.MESSAGE_STATUS__TRY_AGAIN}\n                  </span>\n                  {LabelStringSet.MESSAGE_STATUS__OR}\n                </>\n              )\n            }\n            <span\n              className=\"sendbird-message-status__text__delete\"\n              role=\"button\"\n              tabIndex={0}\n              onClick={onDelete}\n              onKeyPress={onDelete}\n            >\n              {LabelStringSet.MESSAGE_STATUS__DELETE}\n            </span>\n          </Label>\n        );\n      }\n      default: return null;\n    }\n  };\n\n  const icon = {\n    PENDING: (\n      <Loader className=\"sendbird-message-status__icon\" width=\"16px\" height=\"16px\">\n        <Icon type={IconTypes.SPINNER} width=\"16px\" height=\"16px\" />\n      </Loader>\n    ),\n    SENT: <Icon className=\"sendbird-message-status__icon\" width=\"16px\" height=\"16px\" type={IconTypes.SENT} fillColor={IconColors.SENT} />,\n    DELIVERED: <Icon className=\"sendbird-message-status__icon\" width=\"16px\" height=\"16px\" type={IconTypes.DELIVERED} fillColor={IconColors.SENT} />,\n    READ: <Icon className=\"sendbird-message-status__icon\" width=\"16px\" height=\"16px\" type={IconTypes.READ} fillColor={IconColors.READ} />,\n    FAILED: <Icon className=\"sendbird-message-status__icon\" width=\"16px\" height=\"16px\" type={IconTypes.ERROR} />,\n  };\n\n  return (\n    <div className={[...injectingClassName, 'sendbird-message-status'].join(' ')}>\n      {label(status)}\n      {icon[status]}\n    </div>\n  );\n}\n\nMessageStatus.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n  status: PropTypes.string,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  onDelete: PropTypes.func,\n  onResend: PropTypes.func,\n};\n\nMessageStatus.defaultProps = {\n  message: null,\n  status: '',\n  className: '',\n  onDelete: () => {},\n  onResend: () => {},\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Label, { LabelTypography, LabelColors } from '../Label';\n\nimport './index.scss';\n\nconst ReactionBadge = React.forwardRef((props, ref) => {\n  const {\n    className,\n    children,\n    count,\n    selected,\n    isAdd,\n    onClick,\n  } = props;\n\n  const injectingClassName = Array.isArray(className) ? className : [className];\n  if (selected && !isAdd) {\n    injectingClassName.unshift('sendbird-reaction-badge--selected');\n  } else if (isAdd) {\n    injectingClassName.push('sendbird-reaction-badge--is-add');\n  } else {\n    injectingClassName.unshift('sendbird-reaction-badge');\n  }\n\n  return (\n    <div\n      ref={ref}\n      tabIndex={0}\n      role=\"button\"\n      className={injectingClassName.join(' ')}\n      onClick={onClick}\n      onKeyDown={onClick}\n    >\n      <div className=\"sendbird-reaction-badge__inner\">\n        <div className=\"sendbird-reaction-badge__inner__icon\">\n          {children}\n        </div>\n        <Label className={children && count ? 'sendbird-reaction-badge__inner__count' : ''} type={LabelTypography.CAPTION_3} color={LabelColors.ONBACKGROUND_1}>\n          {count}\n        </Label>\n      </div>\n    </div>\n  );\n});\n\nReactionBadge.propTypes = {\n  children: PropTypes.element.isRequired,\n  count: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  selected: PropTypes.bool,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  isAdd: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nReactionBadge.defaultProps = {\n  className: '',\n  count: '',\n  selected: false,\n  isAdd: false,\n  onClick: () => { },\n};\n\nexport default ReactionBadge;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport Label from '../Label';\n\nconst CLASS_NAME = 'sendbird-tooltip';\n\nexport default function Tooltip({\n  className,\n  children,\n}) {\n  const injectingClassName = Array.isArray(className) ? className : [className];\n  injectingClassName.unshift(CLASS_NAME);\n\n  return (\n    <div className={injectingClassName.join(' ')}>\n      <Label\n        className={`${CLASS_NAME}__text`}\n      >\n        {children}\n      </Label>\n    </div>\n  );\n}\n\nTooltip.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.string),\n    PropTypes.string,\n  ]),\n};\n\nTooltip.defaultProps = {\n  className: '',\n  children: '',\n};\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst CLASS_NAME = 'sendbird-tooltip-wrapper';\nconst SPACE_FROM_TRIGGER = 8;\n\nexport default function TooltipWrapper({\n  className,\n  children,\n  hoverTooltip,\n  // clickTooltip can be added later\n}) {\n  const injectingClassName = Array.isArray(className)\n    ? [CLASS_NAME, ...className]\n    : [CLASS_NAME, className];\n  const [showHoverTooltip, setShowHoverTooltip] = useState(false);\n  const childrenRef = useRef(null);\n\n  return (\n    <div\n      className={injectingClassName.join(' ')}\n      onMouseOver={() => { setShowHoverTooltip(true); }}\n      onFocus={() => { setShowHoverTooltip(true); }}\n      onMouseOut={() => { setShowHoverTooltip(false); }}\n      onBlur={() => { setShowHoverTooltip(false); }}\n    >\n      <div\n        className={`${CLASS_NAME}__children`}\n        ref={childrenRef}\n      >\n        {children}\n      </div>\n      {\n        showHoverTooltip && (\n          <div\n            className={`${CLASS_NAME}__hover-tooltip`}\n            style={{\n              bottom: `calc(100% + ${SPACE_FROM_TRIGGER}px)`,\n            }}\n          >\n            <div\n              className={`${CLASS_NAME}__hover-tooltip__inner`}\n            >\n              <div\n                className={`${CLASS_NAME}__hover-tooltip__inner__tooltip-container`}\n                style={{\n                  left: childrenRef.current && `calc(${childrenRef.current.offsetWidth / 2}px - 50%)`,\n                }}\n              >\n                {hoverTooltip}\n              </div>\n            </div>\n          </div>\n        )\n      }\n    </div>\n  );\n}\n\nTooltipWrapper.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  children: PropTypes.element.isRequired,\n  hoverTooltip: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.func,\n  ]).isRequired,\n};\nTooltipWrapper.defaultProps = {\n  className: '',\n};\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport ReactionBadge from '../ReactionBadge';\nimport ReactionButton from '../ReactionButton';\nimport ImageRenderer from '../ImageRenderer';\nimport Icon, { IconTypes } from '../Icon';\nimport ContextMenu, { EmojiListItems } from '../ContextMenu';\nimport Tooltip from '../Tooltip';\nimport TooltipWrapper from '../TooltipWrapper';\nimport { LabelStringSet } from '../Label';\n\nexport default function EmojiReactions({\n  className,\n  userId,\n  message,\n  emojiAllMap,\n  emojiAllList,\n  membersMap,\n  toggleReaction,\n}) {\n  const injectingClassName = Array.isArray(className) ? className : [className];\n  injectingClassName.unshift('sendbird-emoji-reactions');\n  const imageWidth = '20px';\n  const imageHeight = '20px';\n  const emojiReactionAddRef = useRef(null);\n  const { reactions = [] } = message;\n  const messageReactions = reactions;\n\n  return (\n    <div className={injectingClassName.join(' ')}>\n      <div className=\"sendbird-emoji-reactions--inner\">\n        {\n          messageReactions && (\n            messageReactions.map((reaction) => {\n              const { userIds = [] } = reaction;\n              const emojiUrl = emojiAllMap.get(reaction.key) || '';\n              const reactedUserCount = userIds.length;\n              const reactedByMe = !(userIds.indexOf(userId) < 0);\n              const nicknames = userIds\n                .filter((currentUserId) => currentUserId !== userId)\n                .map((currentUserId) => (\n                  membersMap.get(currentUserId) || LabelStringSet.TOOLTIP__UNKOWN_USER\n                ));\n              const stringSetForMe = (nicknames.length > 0)\n                ? LabelStringSet.TOOLTIP__AND_YOU : LabelStringSet.TOOLTIP__YOU;\n              return (\n                <TooltipWrapper\n                  className=\"sendbird-emoji-reactions__emoji-reaction\"\n                  key={reaction.key}\n                  hoverTooltip={\n                    userIds.length > 0 && (\n                      <Tooltip>\n                        <>\n                          {\n                            `${(\n                              nicknames.join(', ')\n                            )}${(\n                              reactedByMe\n                                ? stringSetForMe\n                                : ''\n                            )}`\n                          }\n                        </>\n                      </Tooltip>\n                    )\n                  }\n                >\n                  <ReactionBadge\n                    count={reactedUserCount}\n                    selected={reactedByMe}\n                    onClick={() => toggleReaction(message, reaction.key, reactedByMe)}\n                  >\n                    <ImageRenderer\n                      circle\n                      url={emojiUrl}\n                      width={imageWidth}\n                      height={imageHeight}\n                      defaultComponent={(\n                        <Icon\n                          width={imageWidth}\n                          height={imageHeight}\n                          type={IconTypes.EMOJI_FAILED}\n                        />\n                      )}\n                    />\n                  </ReactionBadge>\n                </TooltipWrapper>\n              );\n            })\n          )\n        }\n        {\n          (messageReactions.length < emojiAllList.length)\n          && (\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                <ReactionBadge\n                  isAdd\n                  onClick={toggleDropdown}\n                  className=\"sendbird-emoji-reactions__emoji-reaction-add\"\n                  ref={emojiReactionAddRef}\n                >\n                  <Icon\n                    width={imageWidth}\n                    height={imageHeight}\n                    type={IconTypes.EMOJI_REACTIONS_ADD_GRAY}\n                  />\n                </ReactionBadge>\n              )}\n              menuItems={(closeDropdown) => (\n                <EmojiListItems\n                  parentRef={emojiReactionAddRef}\n                  parentContainRef={emojiReactionAddRef}\n                  closeDropdown={closeDropdown}\n                  spaceFromTrigger={{ y: 4 }}\n                >\n                  {\n                    emojiAllList.map((emoji) => {\n                      const reactedReaction = message.reactions\n                        .filter((reaction) => reaction.key === emoji.key)[0];\n                      const isReacted = reactedReaction\n                        ? !(reactedReaction.userIds.indexOf(userId) < 0)\n                        : false;\n                      return (\n                        <ReactionButton\n                          key={emoji.key}\n                          width=\"36px\"\n                          height=\"36px\"\n                          selected={isReacted}\n                          onClick={() => {\n                            closeDropdown();\n                            toggleReaction(message, emoji.key, isReacted);\n                          }}\n                        >\n                          <ImageRenderer\n                            url={emoji.url}\n                            width=\"28px\"\n                            height=\"28px\"\n                            defaultComponent={<Icon width=\"28px\" height=\"28px\" type={IconTypes.EMOJI_FAILED} />}\n                          />\n                        </ReactionButton>\n                      );\n                    })\n                  }\n                </EmojiListItems>\n              )}\n            />\n          )\n        }\n      </div>\n    </div>\n  );\n}\n\nEmojiReactions.propTypes = {\n  userId: PropTypes.string,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  message: PropTypes.shape({\n    reactions: PropTypes.arrayOf(PropTypes.shape({})),\n  }).isRequired,\n  emojiAllList: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string)).isRequired,\n  emojiAllMap: PropTypes.instanceOf(Map).isRequired,\n  membersMap: PropTypes.instanceOf(Map),\n  toggleReaction: PropTypes.func,\n};\nEmojiReactions.defaultProps = {\n  className: '',\n  membersMap: new Map(),\n  userId: '',\n  toggleReaction: () => {},\n};\n","import Moment from 'moment';\n\nexport const copyToClipboard = (text) => {\n  if (window.clipboardData && window.clipboardData.setData) {\n    // Internet Explorer-specific code path to prevent textarea being shown while dialog is visible.\n    return window.clipboardData.setData('Text', text);\n  }\n  if (document.queryCommandSupported && document.queryCommandSupported('copy')) {\n    const textarea = document.createElement('textarea');\n    textarea.textContent = text;\n    textarea.style.position = 'fixed'; // Prevent scrolling to bottom of page in Microsoft Edge.\n    document.body.appendChild(textarea);\n    textarea.select();\n    try {\n      return document.execCommand('copy'); // Security exception may be thrown by some browsers.\n    } catch (ex) {\n      return false;\n    } finally {\n      document.body.removeChild(textarea);\n    }\n  }\n  return false;\n};\n\nexport const getMessageCreatedAt = (message) => Moment(message.createdAt).format('LT');\n\nexport const getSenderName = (message) => (\n  message.sender && (\n    message.sender.friendName\n    || message.sender.nickname\n    || message.sender.userId\n  )\n);\n\nexport const getSenderProfileUrl = (message) => message.sender && message.sender.profileUrl;\n\nexport default {\n  copyToClipboard,\n  getMessageCreatedAt,\n  getSenderName,\n  getSenderProfileUrl,\n};\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Avatar from '../Avatar';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport ReactionButton from '../ReactionButton';\nimport ImageRenderer from '../ImageRenderer';\nimport MessageStatus from '../MessageStatus';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport ContextMenu, { MenuItem, MenuItems, EmojiListItems } from '../ContextMenu';\nimport EmojiReactions from '../EmojiReactions';\nimport {\n  copyToClipboard,\n  getMessageCreatedAt,\n  getSenderName,\n  getSenderProfileUrl,\n} from './util';\n\nconst noop = () => { };\nconst SPACE_BETWEEN_MORE = 4;\nconst MORE_WIDTH = 32;\n\nexport default function Message(props) {\n  const {\n    isByMe,\n    userId,\n    message,\n    className,\n    resendMessage,\n    disabled,\n    showEdit,\n    showRemove,\n    status,\n    useReaction,\n    emojiAllList,\n    emojiAllMap,\n    membersMap,\n    toggleReaction,\n  } = props;\n\n  if (!message) return null;\n\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  injectingClassName.push(`sendbird-message${isByMe ? '--outgoing' : '--incoming'}`);\n\n  return (\n    <div className={[...injectingClassName, 'sendbird-message'].join(' ')}>\n      {\n        isByMe\n          ? (\n            <OutgoingUserMessage\n              userId={userId}\n              message={message}\n              resendMessage={resendMessage}\n              disabled={disabled}\n              showEdit={showEdit}\n              showRemove={showRemove}\n              status={status}\n              useReaction={useReaction}\n              emojiAllMap={emojiAllMap}\n              emojiAllList={emojiAllList}\n              membersMap={membersMap}\n              toggleReaction={toggleReaction}\n            />\n          )\n          : (\n            <IncomingUserMessage\n              userId={userId}\n              message={message}\n              useReaction={useReaction}\n              emojiAllMap={emojiAllMap}\n              emojiAllList={emojiAllList}\n              membersMap={membersMap}\n              toggleReaction={toggleReaction}\n            />\n          )\n      }\n    </div>\n  );\n}\n\nMessage.propTypes = {\n  isByMe: PropTypes.bool,\n  disabled: PropTypes.bool,\n  userId: PropTypes.string,\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])).isRequired,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  showEdit: PropTypes.func,\n  status: PropTypes.string,\n  showRemove: PropTypes.func,\n  resendMessage: PropTypes.func,\n  useReaction: PropTypes.bool.isRequired,\n  emojiAllList: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string)),\n  emojiAllMap: PropTypes.instanceOf(Map),\n  membersMap: PropTypes.instanceOf(Map),\n  toggleReaction: PropTypes.func,\n};\n\nMessage.defaultProps = {\n  isByMe: false,\n  disabled: false,\n  userId: '',\n  resendMessage: noop,\n  className: '',\n  showEdit: noop,\n  showRemove: noop,\n  status: '',\n  emojiAllList: [],\n  emojiAllMap: new Map(),\n  membersMap: new Map(),\n  toggleReaction: noop,\n};\n\nfunction OutgoingUserMessage({\n  userId,\n  message,\n  showEdit,\n  disabled,\n  showRemove,\n  status,\n  resendMessage,\n  useReaction,\n  emojiAllMap,\n  emojiAllList,\n  membersMap,\n  toggleReaction,\n}) {\n  // TODO: when message.requestState is succeeded, consider if it's SENT or DELIVERED\n  const parentRefReactions = useRef(null);\n  const parentRefMenus = useRef(null);\n  const parentContainRef = useRef(null);\n\n  return (\n    <div\n      className=\"sendbird-user-message--outgoing\"\n      style={{ paddingLeft: `${SPACE_BETWEEN_MORE + (useReaction ? MORE_WIDTH * 2 : MORE_WIDTH)}px` }}\n    >\n      <div className=\"sendbird-user-message__more\" ref={parentContainRef}>\n        <ContextMenu\n          menuTrigger={(toggleDropdown) => (\n            <IconButton\n              className=\"sendbird-user-message__more__menu\"\n              ref={parentRefMenus}\n              width=\"32px\"\n              height=\"32px\"\n              onClick={toggleDropdown}\n            >\n              <Icon\n                width=\"24px\"\n                height=\"24px\"\n                type={IconTypes.MORE}\n                fillColor={IconColors.CONTENT_INVERSE}\n              />\n            </IconButton>\n          )}\n          menuItems={(closeDropdown) => (\n            <MenuItems\n              parentRef={parentRefMenus} // for catching location(x, y) of MenuItems\n              parentContainRef={parentContainRef} // for toggling more options(menus & reactions)\n              closeDropdown={closeDropdown}\n              openLeft\n            >\n              <MenuItem\n                className=\"sendbird-user-message--copy\"\n                onClick={() => { copyToClipboard(message.message); closeDropdown(); }}\n              >\n                Copy\n              </MenuItem>\n              <MenuItem\n                onClick={() => {\n                  if (disabled) { return; }\n                  showEdit(true);\n                  closeDropdown();\n                }}\n              >\n                Edit\n              </MenuItem>\n              <MenuItem\n                onClick={() => {\n                  if (disabled) { return; }\n                  showRemove(true);\n                  closeDropdown();\n                }}\n              >\n                Delete\n              </MenuItem>\n            </MenuItems>\n          )}\n        />\n        {\n          (useReaction && (emojiAllList.length > 0))\n          && (\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                <IconButton\n                  className=\"sendbird-user-message__more__add-reaction\"\n                  ref={parentRefReactions}\n                  width=\"32px\"\n                  height=\"32px\"\n                  onClick={toggleDropdown}\n                >\n                  <Icon\n                    width=\"24px\"\n                    height=\"24px\"\n                    type={IconTypes.EMOJI_REACTIONS_ADD}\n                    fillColor={IconColors.CONTENT_INVERSE}\n                  />\n                </IconButton>\n              )}\n              menuItems={(closeDropdown) => (\n                <EmojiListItems\n                  closeDropdown={closeDropdown}\n                  parentRef={parentRefReactions}\n                  parentContainRef={parentContainRef}\n                  spaceFromTrigger={{ y: 2 }}\n                >\n                  {\n                    emojiAllList.map((emoji) => {\n                      const reactedReaction = message.reactions\n                        .filter((reaction) => reaction.key === emoji.key)[0];\n                      const isReacted = reactedReaction\n                        ? !(reactedReaction.userIds.indexOf(userId) < 0)\n                        : false;\n                      return (\n                        <ReactionButton\n                          key={emoji.key}\n                          width=\"36px\"\n                          height=\"36px\"\n                          selected={isReacted}\n                          onClick={() => {\n                            closeDropdown();\n                            toggleReaction(message, emoji.key, isReacted);\n                          }}\n                        >\n                          <ImageRenderer\n                            url={emoji.url}\n                            width=\"28px\"\n                            height=\"28px\"\n                            defaultComponent={<Icon width=\"28px\" height=\"28px\" type={IconTypes.EMOJI_FAILED} />}\n                          />\n                        </ReactionButton>\n                      );\n                    })\n                  }\n                </EmojiListItems>\n              )}\n            />\n          )\n        }\n      </div>\n      <div className=\"sendbird-user-message__text-balloon\">\n        <div className=\"sendbird-user-message__text-balloon__inner\">\n          <div className=\"sendbird-user-message__text-balloon__inner__text-place\">\n            <Label\n              className=\"sendbird-user-message__text-balloon__inner__text-place__text\"\n              type={LabelTypography.BODY_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {message.message}\n            </Label>\n          </div>\n          {\n            (useReaction && message.reactions && message.reactions.length > 0)\n            && (\n              <EmojiReactions\n                className=\"sendbird-user-message__text-balloon__inner__emoji-reactions\"\n                userId={userId}\n                message={message}\n                emojiAllList={emojiAllList}\n                emojiAllMap={emojiAllMap}\n                membersMap={membersMap}\n                toggleReaction={toggleReaction}\n              />\n            )\n          }\n\n        </div>\n      </div>\n      <div className=\"sendbird-user-message__status\">\n        <MessageStatus\n          message={message}\n          status={status}\n          onDelete={() => { showRemove(true); }}\n          onResend={() => resendMessage(message)}\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction IncomingUserMessage({\n  userId,\n  message,\n  useReaction,\n  emojiAllList,\n  emojiAllMap,\n  membersMap,\n  toggleReaction,\n}) {\n  const parentRefReactions = useRef(null);\n  const parentRefMenus = useRef(null);\n  const parentContainRef = useRef(null);\n  const showReactionAddButton = useReaction && emojiAllList && (emojiAllList.length > 0);\n\n  return (\n    <div\n      className=\"sendbird-user-message--incoming\"\n      style={{ paddingRight: `${SPACE_BETWEEN_MORE + (showReactionAddButton ? MORE_WIDTH * 2 : MORE_WIDTH)}px` }}\n    >\n      <Avatar\n        className=\"sendbird-user-message__avatar\"\n        src={getSenderProfileUrl(message)}\n        width=\"28px\"\n        height=\"28px\"\n      />\n      <Label\n        className=\"sendbird-user-message__sender-name\"\n        type={LabelTypography.CAPTION_2}\n        color={LabelColors.ONBACKGROUND_2}\n      >\n        {getSenderName(message)}\n      </Label>\n      <div className=\"sendbird-user-message__text-balloon\">\n        <div className=\"sendbird-user-message__text-balloon__inner\">\n          <div className=\"sendbird-user-message__text-balloon__inner__text-place\">\n            <Label\n              className=\"sendbird-user-message__text-balloon__inner__text-place__text\"\n              type={LabelTypography.BODY_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {message.message}\n            </Label>\n          </div>\n          {\n            (useReaction && message.reactions && message.reactions.length > 0)\n            && (\n              <EmojiReactions\n                className=\"sendbird-user-message__text-balloon__inner__emoji-reactions\"\n                userId={userId}\n                message={message}\n                emojiAllList={emojiAllList}\n                emojiAllMap={emojiAllMap}\n                membersMap={membersMap}\n                toggleReaction={toggleReaction}\n              />\n            )\n          }\n        </div>\n      </div>\n      <Label\n        className=\"sendbird-user-message__sent-at\"\n        type={LabelTypography.CAPTION_3}\n        color={LabelColors.ONBACKGROUND_2}\n      >\n        {getMessageCreatedAt(message)}\n      </Label>\n      <div className=\"sendbird-user-message__more\" ref={parentContainRef}>\n        {\n          showReactionAddButton\n          && (\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                <IconButton\n                  ref={parentRefReactions}\n                  width=\"32px\"\n                  height=\"32px\"\n                  onClick={toggleDropdown}\n                >\n                  <Icon\n                    width=\"24px\"\n                    height=\"24px\"\n                    type={IconTypes.EMOJI_REACTIONS_ADD}\n                    fillColor={IconColors.CONTENT_INVERSE}\n                  />\n                </IconButton>\n              )}\n              menuItems={(closeDropdown) => (\n                <EmojiListItems\n                  parentRef={parentRefReactions}\n                  closeDropdown={closeDropdown}\n                  parentContainRef={parentContainRef}\n                  spaceFromTrigger={{ y: 2 }}\n                >\n                  {\n                    emojiAllList.map((emoji) => {\n                      const reactedReaction = message.reactions\n                        .filter((reaction) => reaction.key === emoji.key)[0];\n                      const isReacted = reactedReaction\n                        ? !(reactedReaction.userIds.indexOf(userId) < 0)\n                        : false;\n                      return (\n                        <ReactionButton\n                          key={emoji.key}\n                          width=\"36px\"\n                          height=\"36px\"\n                          selected={isReacted}\n                          onClick={() => {\n                            closeDropdown();\n                            toggleReaction(message, emoji.key, isReacted);\n                          }}\n                        >\n                          <ImageRenderer\n                            url={emoji.url}\n                            width=\"28px\"\n                            height=\"28px\"\n                            defaultComponent={<Icon width=\"28px\" height=\"28px\" type={IconTypes.EMOJI_FAILED} />}\n                          />\n                        </ReactionButton>\n                      );\n                    })\n                  }\n                </EmojiListItems>\n              )}\n            />\n          )\n        }\n        <ContextMenu\n          menuTrigger={(toggleDropdown) => (\n            <IconButton\n              ref={parentRefMenus}\n              width=\"32px\"\n              height=\"32px\"\n              onClick={toggleDropdown}\n            >\n              <Icon\n                width=\"24px\"\n                height=\"24px\"\n                type={IconTypes.MORE}\n                fillColor={IconColors.CONTENT_INVERSE}\n              />\n            </IconButton>\n          )}\n          menuItems={(closeDropdown) => (\n            <MenuItems\n              parentRef={parentRefMenus}\n              parentContainRef={parentContainRef}\n              closeDropdown={closeDropdown}\n            >\n              <MenuItem\n                className=\"sendbird-user-message--copy\"\n                onClick={() => { copyToClipboard(message.message); closeDropdown(); }}\n              >\n                Copy\n              </MenuItem>\n            </MenuItems>\n          )}\n        />\n      </div>\n    </div>\n  );\n}\n\nIncomingUserMessage.propTypes = {\n  userId: PropTypes.string.isRequired,\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n  useReaction: PropTypes.bool.isRequired,\n  emojiAllList: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string)),\n  emojiAllMap: PropTypes.instanceOf(Map),\n  membersMap: PropTypes.instanceOf(Map),\n  toggleReaction: PropTypes.func,\n};\n\nIncomingUserMessage.defaultProps = {\n  message: {},\n  emojiAllList: [],\n  emojiAllMap: new Map(),\n  membersMap: new Map(),\n  toggleReaction: noop,\n};\n\nOutgoingUserMessage.propTypes = {\n  userId: PropTypes.string.isRequired,\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n  showEdit: PropTypes.func,\n  showRemove: PropTypes.func,\n  disabled: PropTypes.bool,\n  resendMessage: PropTypes.func,\n  status: PropTypes.string.isRequired,\n  useReaction: PropTypes.bool.isRequired,\n  emojiAllList: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string)),\n  emojiAllMap: PropTypes.instanceOf(Map),\n  membersMap: PropTypes.instanceOf(Map),\n  toggleReaction: PropTypes.func,\n};\n\nOutgoingUserMessage.defaultProps = {\n  message: {},\n  resendMessage: noop,\n  showEdit: noop,\n  showRemove: noop,\n  disabled: false,\n  emojiAllList: [],\n  emojiAllMap: new Map(),\n  membersMap: new Map(),\n  toggleReaction: noop,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { LabelColors, LabelTypography } from '../Label';\n\nexport default function AdminMessage({\n  className,\n  message,\n}) {\n  if (!message.messageType || message.messageType !== 'admin') { // change to use message.isAdminMessage()\n    return null;\n  }\n\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div className={[...injectingClassName, 'sendbird-admin-message'].join(' ')}>\n      <Label className=\"sendbird-admin-message__text\" type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n        {message.message}\n      </Label>\n    </div>\n  );\n}\n\nAdminMessage.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nAdminMessage.defaultProps = {\n  message: {},\n  className: '',\n};\n","import Moment from 'moment';\n\nexport const getMessageCreatedAt = (message) => Moment(message.createdAt).format('LT');\n\nexport default {\n  getMessageCreatedAt,\n};\n","// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Complete_list_of_MIME_types\nconst SUPPORTED_MIMES = {\n  IMAGE: [\n    'image/jpeg',\n    'image/jpg',\n    'image/png',\n    'image/gif',\n    'image/webp', // not supported in IE\n  ],\n  VIDEO: [\n    'video/mpeg',\n    'video/ogg',\n    'video/webm',\n    'video/mp4',\n  ],\n};\n\nexport const isImage = (type) => SUPPORTED_MIMES.IMAGE.includes(type);\nexport const isVideo = (type) => SUPPORTED_MIMES.VIDEO.includes(type);\nexport const unSupported = (type) => !(isImage(type) || isVideo(type));\n\nexport default SUPPORTED_MIMES;\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { getMessageCreatedAt } from './util';\n\nimport Avatar from '../Avatar';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport ContextMenu, { MenuItem, MenuItems, EmojiListItems } from '../ContextMenu';\nimport IconButton from '../IconButton';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport MessageStatus, { MessageStatusTypes } from '../MessageStatus';\nimport {\n  isImage,\n  isVideo,\n  unSupported,\n} from '../FileViewer/types';\nimport {\n  getSenderName,\n  getSenderProfileUrl,\n} from '../../utils/utils';\nimport ReactionButton from '../ReactionButton';\nimport ImageRenderer from '../ImageRenderer';\nimport EmojiReactions from '../EmojiReactions';\n\nconst noop = () => { };\nconst SPACE_BETWEEN_MORE = 4;\nconst MORE_WIDTH = 32;\n\nexport default function ThumbnailMessage({\n  message = {},\n  userId,\n  disabled,\n  isByMe,\n  onClick,\n  showRemove,\n  status,\n  resendMessage,\n  useReaction,\n  emojiAllList,\n  emojiAllMap,\n  membersMap,\n  toggleReaction,\n}) {\n  const {\n    type,\n    url,\n  } = message;\n  const parentContainRef = useRef(null);\n  const menuRef = useRef(null);\n  const reactionAddRef = useRef(null);\n  const isMoreActive = (\n    status === MessageStatusTypes.SENT\n    || status === MessageStatusTypes.DELIVERED\n    || status === MessageStatusTypes.READ\n  );\n  const showReactionAddButton = (useReaction && emojiAllList && emojiAllList.length > 0);\n\n  return (\n    <div\n      className={[\n        'sendbird-thumbnail',\n        (!isByMe ? 'sendbird-thumbnail--incoming' : ''),\n      ].join(' ')}\n    >\n      {\n        !isByMe && (\n          <>\n            <Avatar\n              className=\"sendbird-thumbnail__avatar\"\n              src={getSenderProfileUrl(message)}\n              width=\"28px\"\n              height=\"28px\"\n            />\n            <Label\n              className=\"sendbird-thumbnail__sender-name\"\n              type={LabelTypography.CAPTION_2}\n              color={LabelColors.ONBACKGROUND_2}\n            >\n              {getSenderName(message) || ''}\n            </Label>\n          </>\n        )\n      }\n      <div className=\"sendbird-thumbnail__body\">\n        {\n          isByMe && (\n            <div\n              className=\"sendbird-thumbnail__more\"\n              ref={parentContainRef}\n              style={{ left: `-${SPACE_BETWEEN_MORE + (showReactionAddButton ? MORE_WIDTH * 2 : MORE_WIDTH)}px` }}\n            >\n              <ContextMenu\n                menuTrigger={(toggleDropdown) => (\n                  <IconButton\n                    ref={menuRef}\n                    width=\"32px\"\n                    height=\"32px\"\n                    onClick={toggleDropdown}\n                  >\n                    <Icon\n                      width=\"24px\"\n                      height=\"24px\"\n                      type={IconTypes.MORE}\n                      color={IconColors.CONTENT_INVERSE}\n                    />\n                  </IconButton>\n                )}\n                menuItems={(closeDropdown) => (\n                  <MenuItems\n                    parentRef={menuRef}\n                    parentContainRef={parentContainRef}\n                    closeDropdown={closeDropdown}\n                    openLeft\n                  >\n                    <MenuItem onClick={() => {\n                      if (disabled) { return; }\n                      showRemove(true);\n                      closeDropdown();\n                    }}\n                    >\n                      Delete\n                    </MenuItem>\n                  </MenuItems>\n                )}\n              />\n              {\n                showReactionAddButton\n                && (\n                  <ContextMenu\n                    menuTrigger={(toggleDropdown) => (\n                      <IconButton\n                        ref={reactionAddRef}\n                        onClick={toggleDropdown}\n                        width=\"32px\"\n                        height=\"32px\"\n                      >\n                        <Icon\n                          width=\"24px\"\n                          height=\"24px\"\n                          type={IconTypes.EMOJI_REACTIONS_ADD}\n                          color={IconColors.CONTENT_INVERSE}\n                        />\n                      </IconButton>\n                    )}\n                    menuItems={(closeDropdown) => (\n                      <EmojiListItems\n                        parentRef={reactionAddRef}\n                        parentContainRef={parentContainRef}\n                        closeDropdown={closeDropdown}\n                        spaceFromTrigger={{ y: 2 }}\n                      >\n                        {\n                          emojiAllList.map((emoji) => {\n                            const reactedReaction = message.reactions\n                              .filter((reaction) => reaction.key === emoji.key)[0];\n                            const isReacted = reactedReaction\n                              ? !(reactedReaction.userIds.indexOf(userId) < 0)\n                              : false;\n                            return (\n                              <ReactionButton\n                                key={emoji.key}\n                                width=\"36px\"\n                                height=\"36px\"\n                                selected={isReacted}\n                                onClick={() => {\n                                  closeDropdown();\n                                  toggleReaction(message, emoji.key, isReacted);\n                                }}\n                              >\n                                <ImageRenderer\n                                  url={emoji.url}\n                                  width=\"28px\"\n                                  height=\"28px\"\n                                  defaultComponent={<Icon width=\"28px\" height=\"28px\" type={IconTypes.EMOJI_FAILED} />}\n                                />\n                              </ReactionButton>\n                            );\n                          })\n                        }\n                      </EmojiListItems>\n                    )}\n                  />\n                )\n              }\n            </div>\n          )\n        }\n        <div\n          className=\"sendbird-thumbnail__wrap\"\n        >\n          <div\n            className=\"sendbird-thumbnail__wrap__inner\"\n            onClick={isMoreActive ? () => onClick(true) : () => { }}\n            onKeyDown={isMoreActive ? () => onClick(true) : () => { }}\n            tabIndex={0}\n            role=\"button\"\n          >\n            {\n              isVideo(type) && (\n                <>\n                  {/* eslint-disable-next-line jsx-a11y/media-has-caption */}\n                  <video\n                    className=\"sendbird-thumbnail__video\"\n                  >\n                    <source src={url} type={type} />\n                  </video>\n                  <Icon\n                    className=\"sendbird-thumbnail__video-icon\"\n                    width=\"56px\"\n                    height=\"56px\"\n                    type={IconTypes.PLAY}\n                  />\n                </>\n              )\n            }\n            {\n              isImage(type) && (\n                <div\n                  className=\"sendbird-thumbnail__img\"\n                  style={{\n                    backgroundImage: `url(${url})`,\n                    height: '280px',\n                    width: '404px',\n                    backgroundSize: 'cover',\n                    backgroundRepeat: 'no-repeat',\n                    backgroundPosition: 'center',\n                  }}\n                />\n              )\n            }\n            {\n              unSupported(type) && (\n                <div className=\"sendbird-thumbnail__other\">\n                  Unknown type\n                </div>\n              )\n            }\n            <div className=\"sendbird-thumbnail__wrap-overlay\" />\n          </div>\n          {\n            (useReaction && message.reactions && message.reactions.length > 0)\n            && (\n              <EmojiReactions\n                className=\"sendbird-thumbnail__wrap__emoji-reactions\"\n                userId={userId}\n                message={message}\n                emojiAllList={emojiAllList}\n                emojiAllMap={emojiAllMap}\n                membersMap={membersMap}\n                toggleReaction={toggleReaction}\n              />\n            )\n          }\n        </div>\n        {\n          isByMe\n            ? (\n              <div className=\"sendbird-thumbnail__status\">\n                <MessageStatus\n                  message={message}\n                  status={status}\n                  onDelete={() => { showRemove(true); }}\n                  onResend={() => resendMessage(message)}\n                />\n              </div>\n            )\n            : (\n              <Label\n                className=\"sendbird-thumbnail__sent-at\"\n                type={LabelTypography.CAPTION_3}\n                color={LabelColors.ONBACKGROUND_2}\n              >\n                {getMessageCreatedAt(message)}\n              </Label>\n            )\n        }\n        {\n          (!isByMe && showReactionAddButton)\n          && (\n            <div\n              className=\"sendbird-thumbnail__more\"\n              ref={parentContainRef}\n              style={{ right: `-${SPACE_BETWEEN_MORE + MORE_WIDTH}px` }}\n            >\n              <ContextMenu\n                menuTrigger={(toggleDropdown) => (\n                  <IconButton\n                    ref={reactionAddRef}\n                    onClick={toggleDropdown}\n                    width=\"32px\"\n                    height=\"32px\"\n                  >\n                    <Icon\n                      width=\"24px\"\n                      height=\"24px\"\n                      type={IconTypes.EMOJI_REACTIONS_ADD}\n                      color={IconColors.CONTENT_INVERSE}\n                    />\n                  </IconButton>\n                )}\n                menuItems={(closeDropdown) => (\n                  <EmojiListItems\n                    parentRef={reactionAddRef}\n                    parentContainRef={parentContainRef}\n                    closeDropdown={closeDropdown}\n                    spaceFromTrigger={{ y: 2 }}\n                  >\n                    {\n                      emojiAllList.map((emoji) => {\n                        const reactedReaction = message.reactions\n                          .filter((reaction) => reaction.key === emoji.key)[0];\n                        const isReacted = reactedReaction\n                          ? !(reactedReaction.userIds.indexOf(userId) < 0)\n                          : false;\n                        return (\n                          <ReactionButton\n                            key={emoji.key}\n                            width=\"36px\"\n                            height=\"36px\"\n                            selected={isReacted}\n                            onClick={() => {\n                              closeDropdown();\n                              toggleReaction(message, emoji.key, isReacted);\n                            }}\n                          >\n                            <ImageRenderer\n                              url={emoji.url}\n                              width=\"28px\"\n                              height=\"28px\"\n                              defaultComponent={<Icon width=\"28px\" height=\"28px\" type={IconTypes.EMOJI_FAILED} />}\n                            />\n                          </ReactionButton>\n                        );\n                      })\n                    }\n                  </EmojiListItems>\n                )}\n              />\n            </div>\n          )\n        }\n      </div>\n    </div>\n  );\n}\n\nThumbnailMessage.propTypes = {\n  message: PropTypes.shape({\n    type: PropTypes.string,\n    url: PropTypes.string,\n  }).isRequired,\n  userId: PropTypes.string,\n  resendMessage: PropTypes.func,\n  status: PropTypes.string,\n  isByMe: PropTypes.bool,\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func,\n  showRemove: PropTypes.func,\n  useReaction: PropTypes.bool.isRequired,\n  emojiAllList: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string)),\n  emojiAllMap: PropTypes.instanceOf(Map),\n  membersMap: PropTypes.instanceOf(Map),\n  toggleReaction: PropTypes.func,\n};\n\nThumbnailMessage.defaultProps = {\n  isByMe: false,\n  disabled: false,\n  resendMessage: noop,\n  onClick: noop,\n  showRemove: noop,\n  status: '',\n  userId: '',\n  emojiAllList: [],\n  emojiAllMap: new Map(),\n  membersMap: new Map(),\n  toggleReaction: noop,\n};\n","import './color.scss';\n\nexport const Colors = {\n  ONBACKGROUND_1: 'ONBACKGROUND_1',\n  ONBACKGROUND_2: 'ONBACKGROUND_2',\n  ONBACKGROUND_3: 'ONBACKGROUND_3',\n  ONBACKGROUND_4: 'ONBACKGROUND_4',\n  ONCONTENT_1: 'ONCONTENT_1',\n  PRIMARY: 'PRIMARY',\n  ERROR: 'ERROR',\n};\n\nexport function changeColorToClassName(color) {\n  switch (color) {\n    case Colors.ONBACKGROUND_1: return 'sendbird-color--onbackground-1';\n    case Colors.ONBACKGROUND_2: return 'sendbird-color--onbackground-2';\n    case Colors.ONBACKGROUND_3: return 'sendbird-color--onbackground-3';\n    case Colors.ONBACKGROUND_4: return 'sendbird-color--onbackground-4';\n    case Colors.ONCONTENT_1: return 'sendbird-color--oncontent-1';\n    case Colors.PRIMARY: return 'sendbird-color--primary';\n    case Colors.ERROR: return 'sendbird-color--error';\n    default: return null;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { changeColorToClassName, Colors } from '../../utils/color';\n\nexport default function TextButton({\n  color,\n  children,\n  disabled,\n  className,\n  onClick,\n  notUnderline,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      className={[\n        ...injectingClassName,\n        changeColorToClassName(color),\n        (notUnderline ? 'sendbird-textbutton--not-underline' : 'sendbird-textbutton'),\n        (disabled ? 'sendbird-textbutton--disabled' : ''),\n      ].join(' ')}\n      onClick={onClick}\n      onKeyPress={onClick}\n    >\n      {children}\n    </div>\n  );\n}\n\nTextButton.propTypes = {\n  color: PropTypes.string,\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  onClick: PropTypes.func,\n  notUnderline: PropTypes.bool,\n  disabled: PropTypes.bool,\n};\n\nTextButton.defaultProps = {\n  color: Colors.ONBACKGROUND_1,\n  className: '',\n  onClick: () => { },\n  notUnderline: false,\n  disabled: false,\n};\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Avatar from '../Avatar';\nimport IconButton from '../IconButton';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport TextButton from '../TextButton';\nimport Label, { LabelColors, LabelTypography } from '../Label';\nimport MessageStatus from '../MessageStatus';\nimport ContextMenu, { MenuItem, MenuItems, EmojiListItems } from '../ContextMenu';\n\nimport { getSenderProfileUrl, getSenderName, getMessageCreatedAt } from '../../utils/utils';\nimport { truncate } from './utils';\nimport ReactionButton from '../ReactionButton';\nimport ImageRenderer from '../ImageRenderer';\nimport EmojiReactions from '../EmojiReactions';\n\nconst MAX_TRUNCATE_LENGTH = 40;\nconst SPACE_BETWEEN_MORE = 4;\nconst MORE_WIDTH = 32;\nconst noop = () => { };\n\nfunction checkFileType(fileUrl) {\n  let result = null;\n  const imageFile = /(\\.gif|\\.jpg|\\.jpeg|\\.txt|\\.pdf)$/i;\n  const audioFile = /(\\.mp3)$/i;\n  if (imageFile.test(fileUrl)) {\n    result = IconTypes.FILE_DOCUMENT;\n  } else if (audioFile.test(fileUrl)) {\n    result = IconTypes.FILE_AUDIO;\n  }\n  return result;\n}\n\nexport function OutgoingFileMessage({\n  message,\n  userId,\n  status,\n  showRemove,\n  disabled,\n  resendMessage,\n  useReaction,\n  emojiAllList,\n  emojiAllMap,\n  membersMap,\n  toggleReaction,\n}) {\n  const {\n    url,\n  } = message;\n  const openFileUrl = () => { window.open(url); };\n  const parentContainRef = useRef(null);\n  const menuRef = useRef(null);\n  const reactionAddButtonRef = useRef(null);\n  const showReactionAddButton = useReaction && emojiAllList && (emojiAllList.length > 0);\n\n  return (\n    <div\n      className=\"sendbird-file-message__outgoing\"\n      style={{ paddingLeft: `${SPACE_BETWEEN_MORE + (showReactionAddButton ? MORE_WIDTH * 2 : MORE_WIDTH)}px` }}\n    >\n      <div\n        className=\"sendbird-file-message__more\"\n        ref={parentContainRef}\n      >\n        <ContextMenu\n          menuTrigger={(toggleDropdown) => (\n            <IconButton\n              ref={menuRef}\n              width=\"32px\"\n              height=\"32px\"\n              onClick={toggleDropdown}\n            >\n              <Icon width=\"24px\" height=\"24px\" type={IconTypes.MORE} />\n            </IconButton>\n          )}\n          menuItems={(closeDropdown) => (\n            <MenuItems\n              parentRef={menuRef}\n              parentContainRef={parentContainRef}\n              closeDropdown={closeDropdown}\n              openLeft\n            >\n              <MenuItem onClick={() => {\n                if (disabled) { return; }\n                showRemove(true);\n                closeDropdown();\n              }}\n              >\n                Delete\n              </MenuItem>\n            </MenuItems>\n          )}\n        />\n        {\n          showReactionAddButton && (\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                <IconButton\n                  ref={reactionAddButtonRef}\n                  width=\"32px\"\n                  height=\"32px\"\n                  onClick={toggleDropdown}\n                >\n                  <Icon\n                    width=\"24px\"\n                    height=\"24px\"\n                    type={IconTypes.EMOJI_REACTIONS_ADD}\n                    fillColor={IconColors.CONTENT_INVERSE}\n                  />\n                </IconButton>\n              )}\n              menuItems={(closeDropdown) => (\n                <EmojiListItems\n                  closeDropdown={closeDropdown}\n                  parentRef={reactionAddButtonRef}\n                  parentContainRef={parentContainRef}\n                  spaceFromTrigger={{ y: 2 }}\n                >\n                  {\n                    emojiAllList.map((emoji) => {\n                      const reactedReaction = message.reactions\n                        .filter((reaction) => reaction.key === emoji.key)[0];\n                      const isReacted = reactedReaction\n                        ? !(reactedReaction.userIds.indexOf(userId) < 0)\n                        : false;\n                      return (\n                        <ReactionButton\n                          key={emoji.key}\n                          width=\"36px\"\n                          height=\"36px\"\n                          selected={isReacted}\n                          onClick={() => {\n                            closeDropdown();\n                            toggleReaction(message, emoji.key, isReacted);\n                          }}\n                        >\n                          <ImageRenderer\n                            url={emoji.url}\n                            width=\"28px\"\n                            height=\"28px\"\n                            defaultComponent={<Icon width=\"28px\" height=\"28px\" type={IconTypes.EMOJI_FAILED} fillColor={IconColors.CONTENT_INVERSE} />}\n                          />\n                        </ReactionButton>\n                      );\n                    })\n                  }\n                </EmojiListItems>\n              )}\n            />\n          )\n        }\n      </div>\n      <div className=\"sendbird-file-message__tooltip\">\n        <div className=\"sendbird-file-message__tooltip__inner\">\n          {\n            checkFileType(url)\n              ? (\n                <Icon\n                  className=\"sendbird-file-message__tooltip__icon\"\n                  width=\"28px\"\n                  height=\"28px\"\n                  type={checkFileType(url)}\n                />\n              )\n              : null\n          }\n          <TextButton\n            className=\"sendbird-file-message__tooltip__text\"\n            onClick={openFileUrl}\n          >\n            <Label\n              type={LabelTypography.BODY_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {truncate(message.url, MAX_TRUNCATE_LENGTH)}\n            </Label>\n          </TextButton>\n        </div>\n        {\n          (useReaction && message.reactions && (message.reactions.length > 0)) && (\n            <EmojiReactions\n              className=\"sendbird-file-message__tooltip__emoji-reactions\"\n              userId={userId}\n              message={message}\n              emojiAllList={emojiAllList}\n              emojiAllMap={emojiAllMap}\n              membersMap={membersMap}\n              toggleReaction={toggleReaction}\n            />\n          )\n        }\n      </div>\n      <div className=\"sendbird-file-message__status\">\n        <MessageStatus\n          message={message}\n          status={status}\n          onDelete={() => { showRemove(true); }}\n          onResend={() => resendMessage(message)}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport function IncomingFileMessage({\n  message,\n  userId,\n  useReaction,\n  emojiAllList,\n  emojiAllMap,\n  membersMap,\n  toggleReaction,\n}) {\n  const openFileUrl = () => { window.open(message.url); };\n  const parentContainRef = useRef(null);\n  const reactionAddButtonRef = useRef(null);\n  const showReactionAddButton = useReaction && emojiAllList && (emojiAllList.length > 0);\n\n  return (\n    <div\n      className=\"sendbird-file-message__incoming\"\n      style={{ paddingRight: `${showReactionAddButton ? MORE_WIDTH + SPACE_BETWEEN_MORE : 0}px` }}\n    >\n      <Avatar\n        className=\"sendbird-file-message__avatar\"\n        src={getSenderProfileUrl(message)}\n        width=\"28px\"\n        height=\"28px\"\n      />\n      <Label\n        className=\"sendbird-file-message__sender-name\"\n        type={LabelTypography.CAPTION_2}\n        color={LabelColors.ONBACKGROUND_2}\n      >\n        {getSenderName(message)}\n      </Label>\n      <div className=\"sendbird-file-message__tooltip\">\n        <div className=\"sendbird-file-message__tooltip__inner\">\n          {\n            checkFileType(message.url)\n              ? (\n                <Icon\n                  className=\"sendbird-file-message__tooltip__icon\"\n                  width=\"28px\"\n                  height=\"28px\"\n                  type={checkFileType(message.url)}\n                />\n              )\n              : null\n          }\n          <TextButton\n            className=\"sendbird-file-message__tooltip__text\"\n            onClick={openFileUrl}\n          >\n            <Label\n              type={LabelTypography.BODY_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {truncate(message.url, MAX_TRUNCATE_LENGTH)}\n            </Label>\n          </TextButton>\n        </div>\n        {\n          (useReaction && message.reactions && (message.reactions.length > 0)) && (\n            <EmojiReactions\n              className=\"sendbird-file-message__tooltip__emoji-reactions\"\n              userId={userId}\n              message={message}\n              emojiAllList={emojiAllList}\n              emojiAllMap={emojiAllMap}\n              membersMap={membersMap}\n              toggleReaction={toggleReaction}\n            />\n          )\n        }\n      </div>\n      <Label\n        className=\"sendbird-file-message__sent-at\"\n        type={LabelTypography.CAPTION_3}\n        color={LabelColors.ONBACKGROUND_2}\n      >\n        {getMessageCreatedAt(message)}\n      </Label>\n      {\n        showReactionAddButton && (\n          <div\n            className=\"sendbird-file-message__more\"\n            ref={parentContainRef}\n          >\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                <IconButton\n                  ref={reactionAddButtonRef}\n                  width=\"32px\"\n                  height=\"32px\"\n                  onClick={toggleDropdown}\n                >\n                  <Icon\n                    width=\"24px\"\n                    height=\"24px\"\n                    type={IconTypes.EMOJI_REACTIONS_ADD}\n                    fillColor={IconColors.CONTENT_INVERSE}\n                  />\n                </IconButton>\n              )}\n              menuItems={(closeDropdown) => (\n                <EmojiListItems\n                  closeDropdown={closeDropdown}\n                  parentRef={reactionAddButtonRef}\n                  parentContainRef={parentContainRef}\n                  spaceFromTrigger={{ y: 2 }}\n                >\n                  {\n                    emojiAllList.map((emoji) => {\n                      const reactedReaction = message.reactions\n                        .filter((reaction) => reaction.key === emoji.key)[0];\n                      const isReacted = reactedReaction\n                        ? !(reactedReaction.userIds.indexOf(userId) < 0)\n                        : false;\n                      return (\n                        <ReactionButton\n                          key={emoji.key}\n                          width=\"36px\"\n                          height=\"36px\"\n                          selected={isReacted}\n                          onClick={() => {\n                            closeDropdown();\n                            toggleReaction(message, emoji.key, isReacted);\n                          }}\n                        >\n                          <ImageRenderer\n                            url={emoji.url}\n                            width=\"28px\"\n                            height=\"28px\"\n                            defaultComponent={<Icon width=\"28px\" height=\"28px\" type={IconTypes.EMOJI_FAILED} fillColor={IconColors.CONTENT_INVERSE} />}\n                          />\n                        </ReactionButton>\n                      );\n                    })\n                  }\n                </EmojiListItems>\n              )}\n            />\n          </div>\n        )\n      }\n    </div>\n  );\n}\n\nOutgoingFileMessage.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n  userId: PropTypes.string,\n  status: PropTypes.string,\n  showRemove: PropTypes.func,\n  resendMessage: PropTypes.func,\n  useReaction: PropTypes.bool.isRequired,\n  disabled: PropTypes.bool,\n  emojiAllList: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string)),\n  emojiAllMap: PropTypes.instanceOf(Map),\n  membersMap: PropTypes.instanceOf(Map),\n  toggleReaction: PropTypes.func,\n};\n\nOutgoingFileMessage.defaultProps = {\n  status: '',\n  showRemove: noop,\n  resendMessage: noop,\n  message: {},\n  userId: '',\n  disabled: false,\n  emojiAllList: [],\n  emojiAllMap: new Map(),\n  membersMap: new Map(),\n  toggleReaction: noop,\n};\n\nIncomingFileMessage.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n  userId: PropTypes.string,\n  useReaction: PropTypes.bool.isRequired,\n  emojiAllList: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string)),\n  emojiAllMap: PropTypes.instanceOf(Map),\n  membersMap: PropTypes.instanceOf(Map),\n  toggleReaction: PropTypes.func,\n};\n\nIncomingFileMessage.defaultProps = {\n  message: {},\n  userId: '',\n  emojiAllList: [],\n  emojiAllMap: new Map(),\n  membersMap: new Map(),\n  toggleReaction: noop,\n};\n\nconst MessageSwitch = ({\n  message,\n  userId,\n  disabled,\n  isByMe,\n  showRemove,\n  status,\n  resendMessage,\n  useReaction,\n  emojiAllList,\n  emojiAllMap,\n  membersMap,\n  toggleReaction,\n}) => (\n  <div className={`sendbird-file-message${isByMe ? '--outgoing' : '--incoming'}`}>\n    {\n      isByMe\n        ? (\n          <OutgoingFileMessage\n            message={message}\n            userId={userId}\n            disabled={disabled}\n            showRemove={showRemove}\n            status={status}\n            resendMessage={resendMessage}\n            useReaction={useReaction}\n            emojiAllList={emojiAllList}\n            emojiAllMap={emojiAllMap}\n            membersMap={membersMap}\n            toggleReaction={toggleReaction}\n          />\n        )\n        : (\n          <IncomingFileMessage\n            userId={userId}\n            message={message}\n            useReaction={useReaction}\n            emojiAllList={emojiAllList}\n            emojiAllMap={emojiAllMap}\n            membersMap={membersMap}\n            toggleReaction={toggleReaction}\n          />\n        )\n    }\n  </div>\n);\n\n\nMessageSwitch.propTypes = {\n  message: PropTypes.shape({}),\n  userId: PropTypes.string,\n  isByMe: PropTypes.bool,\n  disabled: PropTypes.bool,\n  showRemove: PropTypes.func,\n  resendMessage: PropTypes.func,\n  status: PropTypes.string.isRequired,\n  useReaction: PropTypes.bool.isRequired,\n  emojiAllList: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string)),\n  emojiAllMap: PropTypes.instanceOf(Map),\n  membersMap: PropTypes.instanceOf(Map),\n  toggleReaction: PropTypes.func,\n};\n\nMessageSwitch.defaultProps = {\n  message: {},\n  isByMe: false,\n  disabled: false,\n  showRemove: noop,\n  resendMessage: noop,\n  userId: '',\n  emojiAllList: [],\n  emojiAllMap: new Map(),\n  membersMap: new Map(),\n  toggleReaction: noop,\n};\n\nexport default MessageSwitch;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { changeColorToClassName, Colors } from '../../utils/color';\nimport Label, { LabelTypography, LabelColors } from '../Label';\n\nexport default function DateSeparator({\n  className,\n  children,\n  separatorColor,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      className={[...injectingClassName, 'sendbird-separator'].join(' ')}\n    >\n      <div className={[`${changeColorToClassName(separatorColor)}--background-color`, 'sendbird-separator__left'].join(' ')} />\n      <div className=\"sendbird-separator__text\">{children}</div>\n      <div className={[`${changeColorToClassName(separatorColor)}--background-color`, 'sendbird-separator__right'].join(' ')} />\n    </div>\n  );\n}\n\nDateSeparator.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n    PropTypes.element,\n  ]),\n  separatorColor: PropTypes.string,\n};\n\nDateSeparator.defaultProps = {\n  className: '',\n  children: (\n    <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n      Date Separator\n    </Label>\n  ),\n  separatorColor: Colors.ONBACKGROUND_4,\n};\n","import React, { useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport IconButton from '../IconButton';\nimport Button from '../Button';\nimport { Type, Size } from '../Button/type';\n\nimport Icon, { IconTypes } from '../Icon';\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../Label';\n\n// import IconSend from '../../svgs/icon-send.svg';\n// import IconAttach from '../../svgs/icon-attach.svg';\n\nconst LINE_HEIGHT = 76;\nconst noop = () => { };\nconst KeyCode = {\n  SHIFT: 16,\n  ENTER: 13,\n};\n\nconst handleUploadFile = (callback) => (event) => {\n  if (event.target.files && event.target.files[0]) {\n    callback(event.target.files[0]);\n  }\n  // eslint-disable-next-line no-param-reassign\n  event.target.value = '';\n};\n\nconst MessageInput = React.forwardRef((props, ref) => {\n  const {\n    isEdit,\n    disabled,\n    value,\n    name,\n    placeholder,\n    maxLength,\n    onFileUpload,\n    onSendMessage,\n    onCancelEdit,\n    onStartTyping,\n  } = props;\n\n  const fileInputRef = useRef(null);\n  const [inputValue, setInputValue] = useState(value);\n  const [isShiftPressed, setIsShiftPressed] = useState(false);\n\n  const setHeight = () => {\n    const elem = ref.current;\n    const MAX_HEIGHT = window.document.body.offsetHeight * 0.6;\n    if (elem.scrollHeight >= LINE_HEIGHT) {\n      if (MAX_HEIGHT < elem.scrollHeight) {\n        elem.style.height = 'auto';\n        elem.style.height = `${MAX_HEIGHT}px`;\n      } else {\n        elem.style.height = 'auto';\n        elem.style.height = `${elem.scrollHeight}px`;\n      }\n    } else {\n      elem.style.height = '';\n    }\n  };\n\n  // after setHeight called twice, the textarea goes to the initialized\n  useEffect(() => {\n    setHeight();\n    return setHeight;\n  }, [inputValue]);\n\n  const sendMessage = () => {\n    if (inputValue) {\n      const trimmedInputValue = inputValue.trim();\n      if (isEdit) {\n        onSendMessage(name, trimmedInputValue, () => {\n          onCancelEdit();\n        });\n      } else {\n        onSendMessage(trimmedInputValue);\n        setInputValue('');\n      }\n    }\n  };\n\n  return (\n    <form\n      className={`\n        ${isEdit ? 'sendbird-message-input__edit' : ''}\n        ${disabled ? 'sendbird-message-input-form__disabled' : ''}\n      `}\n    >\n      <div\n        className={`\n          sendbird-message-input\n          ${disabled ? 'sendbird-message-input__disabled' : ''}\n        `}\n      >\n        <textarea\n          disabled={disabled}\n          ref={ref}\n          name={name}\n          value={inputValue}\n          className=\"sendbird-message-input--textarea\"\n          maxLength={maxLength}\n          onChange={(e) => {\n            setInputValue(e.target.value);\n            onStartTyping();\n          }}\n          onKeyDown={(e) => {\n            if (e.keyCode === KeyCode.SHIFT) {\n              setIsShiftPressed(true);\n            }\n            if (!isShiftPressed && e.keyCode === KeyCode.ENTER) {\n              e.preventDefault();\n              sendMessage();\n            }\n          }}\n          onKeyUp={(e) => {\n            if (e.keyCode === KeyCode.SHIFT) {\n              setIsShiftPressed(false);\n            }\n          }}\n        />\n        {/* placeholder */}\n        {!inputValue && (\n          <Label\n            type={LabelTypography.BODY_1}\n            color={LabelColors.ONBACKGROUND_3}\n            className=\"sendbird-message-input--placeholder\"\n          >\n            {placeholder || LabelStringSet.CHANNEL__MESSAGE_INPUT__PLACE_HOLDER}\n          </Label>\n        )}\n        {/* upload icon */}\n        {\n          (!isEdit && !inputValue) && (\n            <IconButton\n              className=\"sendbird-message-input--attach\"\n              height=\"32px\"\n              width=\"32px\"\n              onClick={() => {\n                // todo: clear previous input\n                fileInputRef.current.click();\n              }}\n            >\n              <Icon type={IconTypes.ATTACH} width=\"20px\" height=\"20px\" />\n              <input\n                type=\"file\"\n                ref={fileInputRef}\n                onChange={handleUploadFile(onFileUpload)}\n                className=\"sendbird-message-input--attach-input\"\n              />\n            </IconButton>\n          )\n        }\n        {/* send icon */}\n        {\n          (!isEdit && inputValue) && (\n            <IconButton\n              className=\"sendbird-message-input--send\"\n              height=\"32px\"\n              width=\"32px\"\n              onClick={sendMessage}\n            >\n              <Icon type={IconTypes.SEND} width=\"20px\" height=\"20px\" />\n            </IconButton>\n          )\n        }\n      </div>\n      {/* Edit */}\n      {\n        isEdit && (\n          <div className=\"sendbird-message-input--edit-action\">\n            <Button\n              className=\"sendbird-message-input--edit-action__cancel\"\n              type={Type.SECONDARY}\n              size={Size.SMALL}\n              onClick={onCancelEdit}\n            >\n              {LabelStringSet.BUTTON__CANCEL}\n            </Button>\n            <Button\n              className=\"sendbird-message-input--edit-action__save\"\n              type={Type.PRIMARY}\n              size={Size.SMALL}\n              onClick={() => {\n                if (inputValue) {\n                  const trimmedInputValue = inputValue.trim();\n                  onSendMessage(name, trimmedInputValue, () => {\n                    onCancelEdit();\n                  });\n                }\n              }}\n            >\n              {LabelStringSet.BUTTON__SAVE}\n            </Button>\n          </div>\n        )\n      }\n    </form>\n  );\n});\n\nMessageInput.propTypes = {\n  placeholder: PropTypes.string,\n  isEdit: PropTypes.bool,\n  name: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  value: PropTypes.string,\n  disabled: PropTypes.bool,\n  maxLength: PropTypes.number,\n  onFileUpload: PropTypes.func,\n  onSendMessage: PropTypes.func,\n  onStartTyping: PropTypes.func,\n  onCancelEdit: PropTypes.func,\n};\n\nMessageInput.defaultProps = {\n  value: '',\n  onSendMessage: noop,\n  name: 'sendbird-message-input',\n  isEdit: false,\n  disabled: false,\n  placeholder: '',\n  maxLength: 5000,\n  onFileUpload: noop,\n  onCancelEdit: noop,\n  onStartTyping: noop,\n};\n\nexport default MessageInput;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nimport './index.scss';\nimport Avatar from '../Avatar';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Icon, { IconTypes } from '../Icon';\nimport { MODAL_ROOT } from '../../hooks/useModal/ModalRoot';\n\nimport { isImage, isVideo, unSupported } from './types';\n\nexport const FileViewerComponent = ({\n  profileUrl,\n  nickname,\n  type,\n  url,\n  name,\n  onClose,\n  onDelete,\n  isByMe,\n}) => (\n  <div className=\"sendbird-fileviewer\">\n    <div className=\"sendbird-fileviewer__header\">\n      <div className=\"sendbird-fileviewer__header-left\">\n        <div className=\"sendbird-fileviewer__header-avatar\">\n          <Avatar height=\"32px\" width=\"32px\" src={profileUrl} />\n        </div>\n        <Label\n          className=\"sendbird-fileviewer__header-filename\"\n          type={LabelTypography.H_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {name}\n        </Label>\n        <Label\n          className=\"sendbird-fileviewer__header-sendername\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {nickname}\n        </Label>\n      </div>\n      <div className=\"sendbird-fileviewer__header-right\">\n        {\n          !unSupported(type) && (\n            <div className=\"sendbird-fileviewer__header-actions\">\n              <a\n                href={url}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n                className=\"sendbird-fileviewer__header-download\"\n              >\n                <Icon\n                  type={IconTypes.DOWNLOAD}\n                  height=\"24px\"\n                  width=\"24px\"\n                />\n              </a>\n              {\n                onDelete && isByMe && (\n                  <div className=\"sendbird-fileviewer__header-delete\">\n                    <Icon\n                      type={IconTypes.DELETE}\n                      height=\"24px\"\n                      width=\"24px\"\n                      onClick={onDelete}\n                    />\n                  </div>\n                )\n              }\n            </div>\n          )\n        }\n        <div className=\"sendbird-fileviewer__header-close\">\n          <Icon\n            type={IconTypes.CLOSE}\n            height=\"24px\"\n            width=\"24px\"\n            onClick={onClose}\n          />\n        </div>\n      </div>\n    </div>\n    <div className=\"sendbird-fileviewer__content\">\n      {isVideo(type) && (\n        // eslint-disable-next-line jsx-a11y/media-has-caption\n        <video controls className=\"sendbird-fileviewer__video\">\n          <source src={url} type={type} />\n        </video>\n      )}\n      {\n        isImage(type) && (\n          <img\n            src={url}\n            alt={name}\n            className=\"sendbird-fileviewer__img\"\n          />\n        )\n      }\n      {\n        unSupported(type) && (\n          <div className=\"sendbird-fileviewer__unsupported\">\n            <Label type={LabelTypography.H_1} color={LabelColors.ONBACKGROUND_1}>\n              Unsupoprted message\n            </Label>\n          </div>\n        )\n      }\n    </div>\n  </div>\n);\n\nFileViewerComponent.propTypes = {\n  profileUrl: PropTypes.string.isRequired,\n  nickname: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  isByMe: PropTypes.bool,\n};\n\nFileViewerComponent.defaultProps = {\n  isByMe: true,\n};\n\nexport default function FileViewer(props) {\n  const {\n    onClose,\n    message,\n    onDelete,\n    isByMe,\n  } = props;\n  const {\n    sender,\n    type,\n    url,\n    name = '',\n  } = message;\n  const { profileUrl, nickname = '' } = sender;\n  return createPortal(\n    (\n      <FileViewerComponent\n        profileUrl={profileUrl}\n        nickname={nickname}\n        type={type}\n        url={url}\n        name={name}\n        onClose={onClose}\n        onDelete={onDelete}\n        isByMe={isByMe}\n      />\n    ),\n    document.getElementById(MODAL_ROOT),\n  );\n}\n\nFileViewer.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  message: PropTypes.shape({\n    sender: PropTypes.shape({\n      profileUrl: PropTypes.string,\n      nickname: PropTypes.string,\n    }),\n    type: PropTypes.string,\n    url: PropTypes.string,\n    name: PropTypes.string,\n  }).isRequired,\n  onDelete: PropTypes.func.isRequired,\n  isByMe: PropTypes.bool,\n};\n\nFileViewer.defaultProps = {\n  isByMe: true,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Modal from '../../../ui/Modal';\nimport { LabelStringSet } from '../../../ui/Label';\n\nconst RemoveMessage = (props) => {\n  const {\n    onCloseModal,\n    onDeleteMessage,\n  } = props;\n  return (\n    <Modal\n      onCancel={onCloseModal}\n      onSubmit={onDeleteMessage}\n      submitText=\"Delete\"\n      titleText={LabelStringSet.MODAL__DELETE_MESSAGE__TITLE}\n    />\n  );\n};\n\nRemoveMessage.propTypes = {\n  onCloseModal: PropTypes.func.isRequired,\n  onDeleteMessage: PropTypes.func.isRequired,\n};\n\nexport default RemoveMessage;\n","import Moment from 'moment';\n\nexport const getMessageCreatedAt = (message) => Moment(message.createdAt).format('LT');\n\nexport default {\n  getMessageCreatedAt,\n};\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport * as utils from './utils';\n\nimport Avatar from '../Avatar';\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../Label';\nimport MessageStatus from '../MessageStatus';\nimport ContextMenu, { MenuItems, MenuItem } from '../ContextMenu';\nimport IconButton from '../IconButton';\nimport Icon, { IconColors, IconTypes } from '../Icon';\n\nconst CLASS_NAME = 'sendbird-unknown-message';\n\nexport default function UnknownMessage({\n  message,\n  isByMe,\n  status,\n  className,\n  showRemove,\n}) {\n  const injectingClassName = Array.isArray(className) ? className : [className];\n  injectingClassName.unshift(CLASS_NAME);\n  injectingClassName.push(`${CLASS_NAME}${isByMe ? '--outgoing' : '--incoming'}`);\n\n  return (\n    <div className={injectingClassName.join(' ')}>\n      {\n        isByMe\n          ? <OutgoingUnknownMessage message={message} status={status} showRemove={showRemove} />\n          : <IncomingUnknownMessage message={message} />\n      }\n    </div>\n  );\n}\n\nUnknownMessage.propTypes = {\n  message: PropTypes.shape({}).isRequired,\n  isByMe: PropTypes.bool,\n  status: PropTypes.string,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  showRemove: PropTypes.func,\n};\n\nUnknownMessage.defaultProps = {\n  isByMe: false,\n  status: '',\n  className: '',\n  showRemove: () => { },\n};\n\nfunction OutgoingUnknownMessage({\n  message,\n  status,\n  showRemove,\n}) {\n  const className = 'sendbird-outgoing-unknown-message';\n  const parentContainRef = useRef(null);\n  const menuRef = useRef(null);\n  return (\n    <div className={className}>\n      <div\n        className={`${className}__more`}\n        ref={parentContainRef}\n      >\n        <ContextMenu\n          menuTrigger={(toggleDropdown) => (\n            <IconButton\n              className={`${className}__more__menu`}\n              ref={menuRef}\n              width=\"32px\"\n              height=\"32px\"\n              onClick={toggleDropdown}\n            >\n              <Icon\n                width=\"24px\"\n                height=\"24px\"\n                type={IconTypes.MORE}\n                fillColor={IconColors.CONTENT_INVERSE}\n              />\n            </IconButton>\n          )}\n          menuItems={(closeDropdown) => (\n            <MenuItems\n              parentRef={menuRef} // for catching location(x, y) of MenuItems\n              parentContainRef={parentContainRef} // for toggling more options(menus & reactions)\n              closeDropdown={closeDropdown}\n              openLeft\n            >\n              <MenuItem\n                onClick={() => { showRemove(true); closeDropdown(); }}\n              >\n                Delete\n              </MenuItem>\n            </MenuItems>\n          )}\n        />\n      </div>\n      <div className={`${className}__body`}>\n        <div className={`${className}__body__text-balloon`}>\n          <Label\n            className={`${className}__body__text-balloon__header`}\n            type={LabelTypography.BODY_1}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {LabelStringSet.UNKNOWN__UNKNOWN_MESSAGE_TYPE}\n          </Label>\n          <Label\n            className={`${className}__body__text-balloon__description`}\n            type={LabelTypography.BODY_1}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {LabelStringSet.UNKNOWN__CANNOT_READ_MESSAGE}\n          </Label>\n        </div>\n        <div className={`${className}__body__message-status`}>\n          <MessageStatus\n            message={message}\n            status={status}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction IncomingUnknownMessage({\n  message,\n}) {\n  const className = 'sendbird-incoming-unknown-message';\n  const { sender } = message;\n  return (\n    <div className={className}>\n      <div className={`${className}__left`}>\n        <Avatar\n          className={`${className}__left__sender-profile-image`}\n          src={sender.profileUrl || ''}\n          width=\"26px\"\n          height=\"26px\"\n          alt=\"sender-profile-image\"\n        />\n      </div>\n      <div className={`${className}__body`}>\n        <Label\n          className={`${className}__body__sender-name`}\n          type={LabelTypography.CAPTION_2}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {sender.nickname || LabelStringSet.NO_NAME}\n        </Label>\n        <div className={`${className}__body__text-balloon`}>\n          <Label\n            className={`${className}__body__text-balloon__header`}\n            type={LabelTypography.BODY_1}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {LabelStringSet.UNKNOWN__UNKNOWN_MESSAGE_TYPE}\n          </Label>\n          <Label\n            className={`${className}__body__text-balloon__description`}\n            type={LabelTypography.BODY_1}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {LabelStringSet.UNKNOWN__CANNOT_READ_MESSAGE}\n          </Label>\n        </div>\n        <Label\n          className={`${className}__body__sent-at`}\n          type={LabelTypography.CAPTION_3}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {utils.getMessageCreatedAt(message)}\n        </Label>\n      </div>\n    </div>\n  );\n}\n\nOutgoingUnknownMessage.propTypes = {\n  message: PropTypes.shape({}).isRequired,\n  status: PropTypes.string.isRequired,\n  showRemove: PropTypes.func,\n};\n\nOutgoingUnknownMessage.defaultProps = {\n  showRemove: () => { },\n};\n\nIncomingUnknownMessage.propTypes = {\n  message: PropTypes.shape({\n    sender: PropTypes.shape({\n      nickname: PropTypes.string,\n      profileUrl: PropTypes.string,\n    }),\n  }).isRequired,\n};\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport Message from '../../../ui/Message';\nimport AdminMessage from '../../../ui/AdminMessage';\nimport ThumbnailMessage from '../../../ui/ThumbnailMessage';\nimport FileMessage from '../../../ui/FileMessage';\nimport DateSeparator from '../../../ui/DateSeparator';\nimport Label, { LabelTypography, LabelColors } from '../../../ui/Label';\nimport MessageInput from '../../../ui/MessageInput';\nimport FileViewer from '../../../ui/FileViewer';\nimport RemoveMessageModal from './RemoveMessage';\nimport UnknownMessage from '../../../ui/UnknownMessage';\n\nimport { isImage, isVideo } from '../../../ui/FileViewer/types';\n\nexport default function MessageHoc({\n  message,\n  userId,\n  disabled,\n  editDisabled,\n  hasSeperator,\n  deleteMessage,\n  updateMessage,\n  status,\n  resendMessage,\n  useReaction,\n  emojiAllList,\n  emojiAllMap,\n  membersMap,\n  toggleReaction,\n}) {\n  const { sender = {} } = message;\n  const [showEdit, setShowEdit] = useState(false);\n  const [showRemove, setShowRemove] = useState(false);\n  const [showFileViewer, setShowFileViewer] = useState(false);\n  const editMessageInputRef = useRef(null);\n\n  const isByMe = (userId === sender.userId)\n    || (message.requestState === 'pending')\n    || (message.requestState === 'failed');\n\n  if (showEdit) {\n    return (\n      <MessageInput\n        isEdit\n        disabled={editDisabled}\n        ref={editMessageInputRef}\n        name={message.messageId}\n        onSendMessage={updateMessage}\n        onCancelEdit={() => { setShowEdit(false); }}\n        value={message.message}\n      />\n    );\n  }\n\n  return (\n    <div className=\"sendbird-msg-hoc sendbird-msg--scroll-ref\">\n      {/* date-seperator */}\n      {\n        hasSeperator && (\n          <DateSeparator>\n            <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n              {moment(message.createdAt).format('LL')}\n            </Label>\n          </DateSeparator>\n        )\n      }\n      {/* file message */}\n      {\n        ((message.isFileMessage && message.isFileMessage()) || message.messageType === 'file') && (\n          <>\n            {\n              isImage(message.type) || isVideo(message.type)\n                ? (\n                  <ThumbnailMessage\n                    disabled={disabled}\n                    message={message}\n                    userId={userId}\n                    isByMe={isByMe}\n                    showRemove={setShowRemove}\n                    resendMessage={resendMessage}\n                    onClick={setShowFileViewer}\n                    status={status}\n                    useReaction={useReaction}\n                    emojiAllList={emojiAllList}\n                    emojiAllMap={emojiAllMap}\n                    membersMap={membersMap}\n                    toggleReaction={toggleReaction}\n                  />\n                )\n                : (\n                  <FileMessage\n                    message={message}\n                    userId={userId}\n                    disabled={disabled}\n                    isByMe={isByMe}\n                    showRemove={setShowRemove}\n                    resendMessage={resendMessage}\n                    status={status}\n                    useReaction={useReaction}\n                    emojiAllList={emojiAllList}\n                    emojiAllMap={emojiAllMap}\n                    membersMap={membersMap}\n                    toggleReaction={toggleReaction}\n                  />\n                )\n            }\n          </>\n        )\n      }\n      {/* admin message */}\n      {\n        message.isAdminMessage && message.isAdminMessage() && (\n          <AdminMessage message={message} />\n        )\n      }\n      {/* user message */}\n      {\n        ((message.isUserMessage && message.isUserMessage()) || message.messageType === 'user')\n        && (\n          <Message\n            message={message}\n            disabled={disabled}\n            isByMe={isByMe}\n            userId={userId}\n            showEdit={setShowEdit}\n            showRemove={setShowRemove}\n            resendMessage={resendMessage}\n            status={status}\n            useReaction={useReaction}\n            emojiAllList={emojiAllList}\n            emojiAllMap={emojiAllMap}\n            membersMap={membersMap}\n            toggleReaction={toggleReaction}\n          />\n        )\n      }\n      {/* Modal */}\n      {\n        showRemove && (\n          <RemoveMessageModal\n            onCloseModal={() => setShowRemove(false)}\n            onDeleteMessage={() => {\n              deleteMessage(message, () => {\n                setShowRemove(false);\n              });\n            }}\n          />\n        )\n      }\n      {\n        showFileViewer && (\n          <FileViewer\n            onClose={() => setShowFileViewer(false)}\n            message={message}\n            onDelete={() => {\n              deleteMessage(message, () => {\n                setShowFileViewer(false);\n              });\n            }}\n            isByMe={isByMe}\n          />\n        )\n      }\n      {\n        !((message.isFileMessage && message.isFileMessage()) || message.messageType === 'file')\n        && !(message.isAdminMessage && message.isAdminMessage())\n        && !(((message.isUserMessage && message.isUserMessage()) || message.messageType === 'user'))\n        && !(showFileViewer)\n        && (\n          <UnknownMessage\n            message={message}\n            status={status}\n            isByMe={isByMe}\n            showRemove={setShowRemove}\n          />\n        )\n      }\n    </div>\n  );\n}\n\nMessageHoc.propTypes = {\n  userId: PropTypes.string,\n  message: PropTypes.shape({\n    isFileMessage: PropTypes.func,\n    isAdminMessage: PropTypes.func,\n    isUserMessage: PropTypes.func,\n    isDateSeperator: PropTypes.func,\n    // should be a number, but there's a bug in SDK shich returns string\n    messageId: PropTypes.number,\n    type: PropTypes.string,\n    createdAt: PropTypes.number,\n    message: PropTypes.string,\n    requestState: PropTypes.string,\n    messageType: PropTypes.string,\n    sender: PropTypes.shape({ userId: PropTypes.string }),\n  }),\n  hasSeperator: PropTypes.bool,\n  disabled: PropTypes.bool,\n  editDisabled: PropTypes.bool,\n  deleteMessage: PropTypes.func.isRequired,\n  updateMessage: PropTypes.func.isRequired,\n  resendMessage: PropTypes.func.isRequired,\n  status: PropTypes.string,\n  useReaction: PropTypes.bool.isRequired,\n  emojiAllList: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  emojiAllMap: PropTypes.instanceOf(Map).isRequired,\n  membersMap: PropTypes.instanceOf(Map).isRequired,\n  toggleReaction: PropTypes.func,\n};\n\nMessageHoc.defaultProps = {\n  userId: '',\n  editDisabled: false,\n  message: {},\n  hasSeperator: false,\n  disabled: false,\n  status: '',\n  toggleReaction: () => { },\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport './conversation-scroll.scss';\nimport * as messageActionTypes from '../dux/actionTypes';\n\nimport MessageHOC from './MessageHOC';\nimport { getParsedStatus } from '../utils';\n\nexport default class ConversationScroll extends Component {\n  onScroll = (e) => {\n    const {\n      scrollRef,\n      hasMore,\n      messagesDispatcher,\n      messageSource,\n      currentGroupChannel,\n      swapParams,\n    } = this.props;\n\n    const element = e.target;\n    const {\n      scrollTop,\n      clientHeight,\n      scrollHeight,\n    } = element;\n    if (scrollTop === 0) {\n      if (!hasMore) {\n        return;\n      }\n      const nodes = scrollRef.current.querySelectorAll('.sendbird-msg--scroll-ref');\n      const first = nodes[0];\n      messageSource.load((response, err) => {\n        let messages = response;\n        let error = err;\n        if (swapParams) {\n          messages = error;\n          error = response;\n        }\n        if (error) {\n          return;\n        }\n        messagesDispatcher({\n          type: messageActionTypes.GET_PREV_MESSAGES_SUCESS,\n          payload: {\n            messages,\n            hasMore: messageSource.hasMore,\n          },\n        });\n        setTimeout(() => {\n          // https://github.com/scabbiaza/react-scroll-position-on-updating-dom\n          first.scrollIntoView();\n        });\n      });\n    }\n\n    setTimeout(() => {\n      // mark as read if scroll is at end\n      if (clientHeight + scrollTop === scrollHeight) {\n        messagesDispatcher({\n          type: messageActionTypes.MARK_AS_READ,\n        });\n        currentGroupChannel.markAsRead();\n      }\n    }, 500);\n  }\n\n  render() {\n    const {\n      scrollRef,\n      initialized,\n      editDisabled,\n      allMessages,\n      userId,\n      disabled,\n      deleteMessage,\n      updateMessage,\n      readStatus,\n      currentGroupChannel,\n      resendMessage,\n      renderChatItem,\n      useReaction,\n      emojiContainer,\n      emojiAllMap,\n      emojiAllList,\n      membersMap,\n      toggleReaction,\n    } = this.props;\n    return (\n      <div className=\"sendbird-conversation__messages\">\n        <div\n          ref={scrollRef}\n          className=\"sendbird-conversation__scroll-container\"\n          onScroll={this.onScroll}\n        >\n          <div className=\"sendbird-conversation__padding\" />\n          {/*\n            To do: Implement windowing\n            Implement windowing if you are dealing with large number of messages/channels\n            https://github.com/bvaughn/react-window -> recommendation\n            We hesitate to bring one more dependency to our library,\n            we are planning to implement it inside the library\n          */}\n          <div className=\"sendbird-conversation__messages-padding\">\n            {\n              initialized\n              && allMessages.map(\n                (m, idx) => {\n                  const prev = allMessages[idx - 1];\n                  const prevCreatedAt = prev && prev.createdAt;\n                  const currentCreatedAt = m.createdAt;\n                  // https://stackoverflow.com/a/41855608\n                  const hasSeperator = !(prevCreatedAt && (\n                    moment(currentCreatedAt).isSame(moment(prevCreatedAt), 'day')\n                  ));\n                  if (renderChatItem) {\n                    return (\n                      <div\n                        key={m.messageId || m.reqId}\n                        className=\"sendbird-msg--scroll-ref\"\n                      >\n                        {\n                          renderChatItem({\n                            message: m,\n                            onDeleteMessage: deleteMessage,\n                            onUpdateMessage: updateMessage,\n                            onResendMessage: resendMessage,\n                            emojiContainer,\n                          })\n                        }\n                      </div>\n                    );\n                  }\n\n                  return (\n                    <MessageHOC\n                      // show status for pending/failed messages\n                      status={readStatus[m.messageId] || getParsedStatus(m, currentGroupChannel)}\n                      key={m.messageId || m.reqId}\n                      message={m}\n                      userId={userId}\n                      disabled={disabled}\n                      editDisabled={editDisabled}\n                      hasSeperator={hasSeperator}\n                      deleteMessage={deleteMessage}\n                      updateMessage={updateMessage}\n                      useReaction={useReaction}\n                      resendMessage={resendMessage}\n                      emojiAllList={emojiAllList}\n                      emojiAllMap={emojiAllMap}\n                      membersMap={membersMap}\n                      toggleReaction={toggleReaction}\n                    />\n                  );\n                },\n              )\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nConversationScroll.propTypes = {\n  // https://stackoverflow.com/a/52646941\n  scrollRef: PropTypes.shape({\n    current: PropTypes.oneOfType([\n      PropTypes.element,\n      PropTypes.shape({}),\n    ]),\n  }).isRequired,\n  hasMore: PropTypes.bool,\n  messagesDispatcher: PropTypes.func.isRequired,\n  messageSource: PropTypes.shape({\n    load: PropTypes.func,\n    hasMore: PropTypes.bool,\n  }),\n  initialized: PropTypes.bool,\n  editDisabled: PropTypes.bool,\n  disabled: PropTypes.bool,\n  userId: PropTypes.string,\n  allMessages: PropTypes.arrayOf(PropTypes.shape({\n    createdAt: PropTypes.number,\n  })).isRequired,\n  deleteMessage: PropTypes.func.isRequired,\n  resendMessage: PropTypes.func.isRequired,\n  updateMessage: PropTypes.func.isRequired,\n  readStatus: PropTypes.shape({}).isRequired,\n  currentGroupChannel: PropTypes.shape({\n    markAsRead: PropTypes.func,\n    members: PropTypes.arrayOf(PropTypes.shape({})),\n  }).isRequired,\n  renderChatItem: PropTypes.element,\n  swapParams: PropTypes.bool,\n  useReaction: PropTypes.bool,\n  emojiContainer: PropTypes.shape({}),\n  emojiAllMap: PropTypes.instanceOf(Map),\n  emojiAllList: PropTypes.arrayOf(PropTypes.shape({})),\n  membersMap: PropTypes.instanceOf(Map),\n  toggleReaction: PropTypes.func,\n};\n\nConversationScroll.defaultProps = {\n  hasMore: false,\n  editDisabled: false,\n  disabled: false,\n  initialized: false,\n  userId: '',\n  renderChatItem: null,\n  messageSource: null,\n  swapParams: false,\n  useReaction: true,\n  emojiContainer: {},\n  emojiAllMap: new Map(),\n  emojiAllList: [],\n  membersMap: new Map(),\n  toggleReaction: () => { },\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './notification.scss';\n\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../../ui/Icon';\n\nexport default function Notification({\n  count,\n  time,\n  onClick,\n}) {\n  const timeArray = time.split(' ');\n  timeArray.splice(-2, 0, LabelStringSet.CHANNEL__MESSAGE_LIST__NOTIFICATION__ON);\n  return (\n    // eslint-disable-next-line\n    <div className=\"sendbird-notification\" onClick={onClick}>\n      <Label className=\"sendbird-notification__text\" color={LabelColors.ONCONTENT_1} type={LabelTypography.CAPTION_2}>\n        {`${count} `}\n        {LabelStringSet.CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE}\n        {` ${timeArray.join(' ')}`}\n      </Label>\n      <Icon\n        width=\"24px\"\n        height=\"24px\"\n        type={IconTypes.SHEVRON_DOWN}\n        fillColor={IconColors.CONTENT}\n      />\n    </div>\n  );\n}\n\nNotification.propTypes = {\n  count: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  time: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\n\nNotification.defaultProps = {\n  count: 0,\n  time: '',\n};\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { uuidv4 } from '../../../utils/uuid';\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../../../ui/Label';\n\nconst generateTypingIndicatorString = (members) => {\n  if (!members || members.length === 0) {\n    return '';\n  }\n\n  if (members && members.length === 1) {\n    return `${members[0].nickname} ${LabelStringSet.TYPING_INDICATOR__IS_TYPING}`;\n  }\n\n  if (members && members.length === 2) {\n    return `${members[0].nickname} ${LabelStringSet.TYPING_INDICATOR__AND} ${members[1].nickname} ${LabelStringSet.TYPING_INDICATOR__ARE_TYPING}`;\n  }\n\n  return LabelStringSet.TYPING_INDICATOR__MULTIPLE_TYPING;\n};\n\nfunction TypingIndicator({ channelUrl, sb, logger }) {\n  const [handlerId, setHandlerId] = useState(uuidv4());\n  const [typingMembers, setTypingMembers] = useState([]);\n\n  useEffect(() => {\n    if (sb && sb.ChannelHandler) {\n      sb.removeChannelHandler(handlerId);\n      const newHandlerId = uuidv4();\n      const handler = new sb.ChannelHandler();\n      // there is a possible warning in here - setState called after unmount\n      handler.onTypingStatusUpdated = (groupChannel) => {\n        logger.info('Channel > Typing Indicator: onTypingStatusUpdated', groupChannel);\n        const members = groupChannel.getTypingMembers();\n        if (groupChannel.url === channelUrl) {\n          setTypingMembers(members);\n        }\n      };\n      sb.addChannelHandler(newHandlerId, handler);\n      setHandlerId(newHandlerId);\n    }\n\n    return () => {\n      if (sb && sb.removeChannelHandler) {\n        sb.removeChannelHandler(handlerId);\n      }\n    };\n  }, [channelUrl]);\n\n  return (\n    <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n      {generateTypingIndicatorString(typingMembers)}\n    </Label>\n  );\n}\n\nTypingIndicator.propTypes = {\n  channelUrl: PropTypes.string.isRequired,\n  sb: PropTypes.shape({\n    ChannelHandler: PropTypes.func,\n    removeChannelHandler: PropTypes.func,\n    addChannelHandler: PropTypes.func,\n  }).isRequired,\n  logger: PropTypes.shape({\n    info: PropTypes.func,\n  }).isRequired,\n};\n\nexport default TypingIndicator;\n","import React from 'react';\n\nimport Label, {\n  LabelStringSet,\n  LabelTypography,\n  LabelColors,\n} from '../Label';\nimport Icon, { IconTypes, IconColors } from '../Icon';\n\nimport './index.scss';\n\nfunction ConnectionStatus() {\n  return (\n    <div\n      className=\"sendbird-conversation__connection-status\"\n    >\n      <Label type={LabelTypography.BODY_2} color={LabelColors.ONBACKGROUND_2}>\n        { LabelStringSet.TRYING_TO_CONNECT }\n      </Label>\n      <Icon\n        type={IconTypes.DISCONNECTED}\n        fillColor={IconColors.SENT}\n        height=\"14px\"\n        width=\"14px\"\n      />\n    </div>\n  );\n}\n\nexport default ConnectionStatus;\n","import Moment from 'moment';\nimport { LabelStringSet } from '../Label';\n\nexport const prettyDate = (date) => (Moment(date, 'x').fromNow());\n\nexport const getChannelAvatarSource = (channel, currentUserId) => {\n  if (channel && channel.coverUrl) {\n    if (channel.coverUrl !== 'https://static.sendbird.com/sample/cover/cover_') {\n      return channel.coverUrl;\n    }\n  }\n  return channel && channel.members\n    ? channel.members\n      .filter((member) => member.userId !== currentUserId)\n      .map(({ profileUrl }) => profileUrl)\n    : [];\n};\n\nexport const getOthersLastSeenAt = (channel) => {\n  if (!channel || !channel.getReadStatus || !channel.members || channel.members.length !== 2) {\n    return '';\n  }\n  const lastSeenAt = [...Object.values(channel.getReadStatus())][0].last_seen_at;\n  if (lastSeenAt === 0) {\n    return '';\n  }\n  return prettyDate(lastSeenAt);\n};\n\nexport const getChannelTitle = (channel = {}, currentUserId) => {\n  if (!channel || (!channel.name && !channel.members)) {\n    return LabelStringSet.NO_TITLE;\n  }\n  if (channel.name && channel.name !== 'Group Channel') {\n    return channel.name;\n  }\n\n  if (channel.members.length === 1) {\n    return LabelStringSet.NO_MEMBERS;\n  }\n\n  return channel.members\n    .filter(({ userId }) => userId !== currentUserId)\n    .map(({ nickname }) => (nickname || LabelStringSet.NO_NAME))\n    .join(', ');\n};\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function AutoRefresh({\n  repeatFunc,\n}) {\n  const [label, setLabel] = useState(repeatFunc());\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (label !== repeatFunc()) {\n        setLabel(repeatFunc());\n      }\n    }, 10000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, []);\n\n  return (<div className=\"sendbird-repeat-text\">{label}</div>);\n}\n\nAutoRefresh.propTypes = {\n  repeatFunc: PropTypes.func.isRequired,\n};\n","import React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport * as utils from './utils';\n\nimport Avatar from '../Avatar';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport AutoRefresh from '../AutoRefresh';\n\nexport default function ChatHeader(props) {\n  const {\n    currentGroupChannel,\n    currentUser,\n    title,\n    subTitle,\n    isActive,\n    isMuted,\n    onActionClick,\n  } = props;\n  const { userId } = currentUser;\n\n  const memoizedAvatar = useMemo(() => (\n    <Avatar\n      className=\"sendbird-chat-header__avatar\"\n      src={utils.getChannelAvatarSource(currentGroupChannel, userId)}\n      width=\"32px\"\n      height=\"32px\"\n    />\n  ), [currentGroupChannel]);\n\n  return (\n    <div className=\"sendbird-chat-header\">\n      <div className=\"sendbird-chat-header__left\">\n        {memoizedAvatar}\n        <Label\n          className=\"sendbird-chat-header__title\"\n          type={LabelTypography.H_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {title || utils.getChannelTitle(currentGroupChannel, userId)}\n        </Label>\n        {\n          (typeof isActive === 'string' && isActive === 'true') || (typeof isActive === 'boolean' && isActive)\n            ? <div className=\"sendbird-chat-header__active\" />\n            : null\n        }\n        <Label\n          className=\"sendbird-chat-header__subtitle\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {\n            subTitle\n            || <AutoRefresh repeatFunc={() => utils.getOthersLastSeenAt(currentGroupChannel)} />\n          }\n        </Label>\n      </div>\n      <div className=\"sendbird-chat-header__right\">\n        {\n          (typeof isMuted === 'string' && isMuted === 'true') || (typeof isMuted === 'boolean' && isMuted)\n            ? <Icon className=\"sendbird-chat-header__mute\" type={IconTypes.MUTE} width=\"24px\" height=\"24px\" />\n            : null\n        }\n        <IconButton\n          className=\"sendbird-chat-header__info\"\n          width=\"32px\"\n          height=\"32px\"\n          onClick={onActionClick}\n        >\n          <Icon type={IconTypes.INFO} fillColor={IconColors.PRIMARY} width=\"24px\" height=\"24px\" />\n        </IconButton>\n      </div>\n    </div>\n  );\n}\n\nChatHeader.propTypes = {\n  currentGroupChannel: PropTypes.shape({}),\n  currentUser: PropTypes.shape({\n    userId: PropTypes.string,\n  }),\n  title: PropTypes.string,\n  subTitle: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.string,\n  ]),\n  isActive: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n  ]),\n  isMuted: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n  ]),\n  onActionClick: PropTypes.func,\n};\n\nChatHeader.defaultProps = {\n  currentGroupChannel: {},\n  title: '',\n  subTitle: '',\n  isActive: false,\n  isMuted: false,\n  currentUser: {},\n  onActionClick: () => { },\n};\n","import React, {\n  useEffect,\n  useState,\n  useRef,\n  useReducer,\n  useMemo,\n} from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport * as utils from './utils';\n\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\nimport * as messageActionTypes from './dux/actionTypes';\nimport messagesInitialState from './dux/initialState';\nimport messagesReducer from './dux/reducers';\nimport eventHandler from './dux/eventListener';\n\nimport ConversationScroll from './components/ConversationScroll';\nimport Notification from './components/Notification';\nimport TypingIndicator from './components/TypingIndicator';\nimport ConnectionStatus from '../../ui/ConnectionStatus';\nimport ChatHeader from '../../ui/ChatHeader';\nimport MessageInput from '../../ui/MessageInput';\nimport { uuidv4 } from '../../utils/uuid';\nimport PlaceHolder from '../../ui/PlaceHolder';\nimport PlaceHolderTypes from '../../ui/PlaceHolder/type';\nimport { LabelStringSet } from '../../ui/Label';\n\nconst noop = () => { };\n\nexport const ConversationPanel = (props) => {\n  const {\n    channelUrl,\n    stores: { sdkStore, userStore },\n    config: {\n      userId,\n      logger,\n      pubSub,\n      isOnline,\n    },\n    dispatchers: {\n      reconnect,\n    },\n    renderChatItem,\n    onChatHeaderActionClick,\n    onBeforeSendUserMessage,\n    onBeforeSendFileMessage,\n    onBeforeUpdateUserMessage,\n  } = props;\n  const { sdk } = sdkStore;\n  const sdkError = sdkStore.error;\n  const sdkInit = sdkStore.initialized;\n  const { user } = userStore;\n\n  const [messagesStore, messagesDispatcher] = useReducer(messagesReducer, messagesInitialState);\n  const [messageSource, setMessageSource] = useState(null);\n  const [invalidChannel, setInvalidChannel] = useState(false);\n  const [channelHandlerId, setChannelHandlerId] = useState(uuidv4());\n  // map to update read status of messages\n  const [readStatus, setReadStatus] = useState({});\n  const [messageReciverId, setMessageReciverId] = useState();\n  const [currentGroupChannel, setCurrentGroupChannel] = useState({});\n  const [emojiContainer, setEmojiContainer] = useState({});\n  const messageInputRef = useRef(null);\n  const scrollRef = useRef(null);\n\n  // hack to rerender header when channel info changes\n  // ChatHeader doesnt seem to recoganize changes in currentGroupChannel\n  const [hash, setHash] = useState(uuidv4());\n\n  // const { appInfo = {} } = sdk;\n  const useReaction = false;\n\n  const {\n    allMessages,\n    loading,\n    hasMore,\n    initialized,\n    unreadCount,\n    unreadSince,\n  } = messagesStore;\n\n  const emojiAllMap = useMemo(() => (\n    useReaction\n      ? utils.getAllEmojisMapFromEmojiContainer(emojiContainer)\n      : new Map()\n  ), [emojiContainer]);\n  const emojiAllList = useMemo(() => (\n    useReaction\n      ? utils.getAllEmojisFromEmojiContainer(emojiContainer)\n      : []\n  ), [emojiContainer]);\n  const nicknamesMap = useMemo(() => (\n    useReaction\n      ? utils.getNicknamesMapFromMembers(currentGroupChannel.members)\n      : new Map()\n  ), [currentGroupChannel.members]);\n\n  // to create message-datasource\n  useEffect(() => {\n    logger.info('Channel: Setup started');\n    messagesDispatcher({\n      type: messageActionTypes.RESET_MESSAGES,\n    });\n    let prevMessageListQuery = null;\n\n    if (!sdkInit) {\n      logger.warning('Channel: SDK not ready');\n      setMessageSource(null);\n    }\n    if (channelUrl && sdkInit) {\n      logger.info('Channel: Set current channel', channelUrl);\n      messagesDispatcher({\n        type: messageActionTypes.SET_CURRENT_CHANNEL,\n        payload: channelUrl,\n      });\n      // remove previous handler\n      // to do - move to cleanup fn\n      if (sdk && sdk.removeChannelHandler) {\n        logger.info('Channel: Remove previous event handler');\n        sdk.removeChannelHandler(channelHandlerId);\n      }\n      if (!sdk || !sdk.GroupChannel) { return; }\n      sdk.GroupChannel.getChannel(channelUrl, (groupChannel) => {\n        logger.info('Channel: Fetched channel', groupChannel);\n        if (!groupChannel) {\n          logger.warning('Channel: Invalid channel');\n          setInvalidChannel(true);\n          return;\n        }\n\n        setInvalidChannel(false);\n        setCurrentGroupChannel(groupChannel);\n\n        // for handling read status on the go\n        const handler = new sdk.ChannelHandler();\n        const handleMessageStatus = (c) => {\n          if (channelUrl === c.url) {\n            const allReadStatus = allMessages.reduce((accumulator, msg) => {\n              if (msg.messageId !== 0) {\n                return {\n                  ...accumulator,\n                  [msg.messageId]: utils.getParsedStatus(msg, groupChannel),\n                };\n              }\n              return accumulator;\n            }, {});\n            setReadStatus(allReadStatus);\n          }\n        };\n        handler.onDeliveryReceiptUpdated = handleMessageStatus;\n        handler.onReadReceiptUpdated = handleMessageStatus;\n        handler.onChannelChanged = () => {\n          setHash(uuidv4());\n        };\n\n        handler.onChannelFrozen = (groupChannel_) => {\n          setCurrentGroupChannel(groupChannel_);\n        };\n        handler.onChannelUnFrozen = (groupChannel_) => {\n          setCurrentGroupChannel(groupChannel_);\n        };\n\n        const newHandlerId = uuidv4();\n        sdk.addChannelHandler(newHandlerId, handler);\n        setChannelHandlerId(newHandlerId);\n\n        logger.info('Channel: Mark as read', groupChannel);\n        // this order is important - this mark as read should update the event handler up above\n        groupChannel.markAsRead();\n\n        // There should only be one single instance per channel view.\n        prevMessageListQuery = groupChannel.createPreviousMessageListQuery();\n        prevMessageListQuery.limit = 30;\n        prevMessageListQuery.reverse = false;\n        prevMessageListQuery.includeReaction = true;\n        // should set includeReaction true in below cases\n        // https://sendbird.atlassian.net/wiki/spaces/SDK/pages/89981992/Message+reaction\n\n        setMessageSource(prevMessageListQuery);\n\n        logger.info('Channel: Fetching messages', groupChannel);\n        messagesDispatcher({\n          type: messageActionTypes.GET_PREV_MESSAGES_START,\n        });\n\n        // Retrieving previous messages.\n        prevMessageListQuery.load((response, err) => {\n          if (prevMessageListQuery.deprecatedRun) {\n            logger.warning('Donot run prevMessageListQuery, because channel has been switched',\n              prevMessageListQuery);\n            return;\n          }\n          const swapParams = sdk.getErrorFirstCallback();\n          let messages = response;\n          let error = err;\n          if (swapParams) {\n            messages = error;\n            error = response;\n          }\n          if (error) {\n            logger.error('Channel: Fetching messages failed', error);\n            return;\n          }\n          logger.info('Channel: Fetching messages success', messages);\n\n          messagesDispatcher({\n            type: messageActionTypes.GET_PREV_MESSAGES_SUCESS,\n            payload: {\n              messages,\n              hasMore: prevMessageListQuery.hasMore,\n            },\n          });\n          setTimeout(() => utils.scrollIntoLast('.sendbird-msg--scroll-ref'));\n        });\n      });\n    }\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      if (sdk && sdk.removeChannelHandler) {\n        logger.info('Channel: Removing channel handler', channelHandlerId);\n        sdk.removeChannelHandler(channelHandlerId);\n      }\n\n      if (prevMessageListQuery) {\n        prevMessageListQuery.deprecatedRun = true;\n      }\n    };\n  }, [channelUrl, sdkInit]);\n\n  // todo: cleanup internal state - this is for removing messages from other person\n  useEffect(() => {\n    setMessageReciverId(uuidv4());\n    if (channelUrl && sdk) {\n      eventHandler({ messagesDispatcher, sdk, logger });\n    }\n    return () => {\n      if (sdk && sdk.removeChannelHandler) {\n        logger.info('Channel: Removing message reciver handler', messageReciverId);\n        sdk.removeChannelHandler(messageReciverId);\n      }\n    };\n  }, [channelUrl, sdkInit]);\n\n  // handles API calls from withSendbird\n  useEffect(() => {\n    const subScriber = utils.pubSubHandler(channelUrl, pubSub, messagesDispatcher);\n    return () => {\n      utils.pubSubHandleRemover(subScriber);\n    };\n  }, [channelUrl, sdkInit]);\n\n  useEffect(() => {\n    if (!sdk || !sdk.getAllEmoji) {\n      return;\n    }\n    sdk.getAllEmoji((emojiContainer_, err) => {\n      if (err) {\n        logger.error('Channel: Getting emojis failed', err);\n        return;\n      }\n      logger.info('Channel: Getting emojis success', emojiContainer_);\n      setEmojiContainer(emojiContainer_);\n    });\n  }, [channelUrl, sdkInit]);\n\n  // to create initial read status\n  useEffect(() => {\n    if (allMessages.length > 0) {\n      const allReadStatus = allMessages.reduce((accumulator, msg) => {\n        if (msg.messageId !== 0) {\n          return {\n            ...accumulator,\n            [msg.messageId]: utils.getParsedStatus(msg, currentGroupChannel),\n          };\n        }\n        return accumulator;\n      }, {});\n      setReadStatus(allReadStatus);\n    }\n  }, [allMessages]);\n\n  // handling connection breaks\n  useEffect(() => {\n    const wasOffline = !isOnline;\n    return () => {\n      let prevMessageListQuery = null;\n      // state changed from offline to online\n      if (wasOffline) {\n        logger.info('Refreshing conversation state');\n        if (!currentGroupChannel || !currentGroupChannel.createPreviousMessageListQuery) {\n          return;\n        }\n        prevMessageListQuery = currentGroupChannel.createPreviousMessageListQuery();\n        prevMessageListQuery.limit = 30;\n        prevMessageListQuery.reverse = false;\n        prevMessageListQuery.includeReaction = true;\n\n        setMessageSource(prevMessageListQuery);\n\n        // Retrieving previous messages.\n        prevMessageListQuery.load((response, err) => {\n          if (prevMessageListQuery.deprecatedRun) {\n            logger.warning('Donot run prevMessageListQuery, because channel has been switched',\n              prevMessageListQuery);\n            return;\n          }\n          const swapParams = sdk.getErrorFirstCallback();\n          let messages = response;\n          let error = err;\n          if (swapParams) {\n            messages = error;\n            error = response;\n          }\n          if (error) {\n            logger.error('Channel: Fetching messages failed', error);\n            return;\n          }\n          logger.info('Channel: Fetching messages success', messages);\n\n          messagesDispatcher({\n            type: messageActionTypes.CLEAR_SENT_MESSAGES,\n          });\n\n          messagesDispatcher({\n            type: messageActionTypes.GET_PREV_MESSAGES_SUCESS,\n            payload: {\n              messages,\n              hasMore: prevMessageListQuery.hasMore,\n            },\n          });\n          setTimeout(() => utils.scrollIntoLast('.sendbird-msg--scroll-ref'));\n        });\n      }\n    };\n  }, [isOnline]);\n\n  if (sdkError) {\n    return (\n      <div className=\"sendbird-conversation\">\n        <PlaceHolder\n          type={PlaceHolderTypes.WRONG}\n          retryToConnect={() => {\n            logger.info('Channel: reconnecting');\n            reconnect();\n          }}\n        />\n      </div>\n    );\n  }\n  if (!channelUrl) {\n    return (<div className=\"sendbird-conversation\"><PlaceHolder type={PlaceHolderTypes.NO_CHANNELS} /></div>);\n  }\n  if (loading) {\n    return (<div className=\"sendbird-conversation\"><PlaceHolder type={PlaceHolderTypes.LOADING} /></div>);\n  }\n  if (invalidChannel) {\n    return (<div className=\"sendbird-conversation\"><PlaceHolder type={PlaceHolderTypes.WRONG} /></div>);\n  }\n\n  return (\n    <div className=\"sendbird-conversation\">\n      <ChatHeader\n        hash={hash}\n        currentGroupChannel={currentGroupChannel}\n        currentUser={user}\n        onActionClick={onChatHeaderActionClick}\n        subTitle={currentGroupChannel.members && currentGroupChannel.members.length !== 2}\n        isActive={false}\n        isMuted={false}\n      />\n      {\n        unreadCount > 0 && (\n          <Notification\n            count={unreadCount}\n            onClick={() => {\n              utils.scrollIntoLast('.sendbird-msg--scroll-ref');\n              // there is no scroll\n              if (scrollRef.current.scrollTop === 0) {\n                currentGroupChannel.markAsRead();\n                messagesDispatcher({\n                  type: messageActionTypes.MARK_AS_READ,\n                });\n              }\n            }}\n            time={unreadSince}\n          />\n        )\n      }\n      <ConversationScroll\n        swapParams={\n          sdk && sdk.getErrorFirstCallback && sdk.getErrorFirstCallback()\n        }\n        scrollRef={scrollRef}\n        hasMore={hasMore}\n        disabled={!isOnline}\n        messagesDispatcher={messagesDispatcher}\n        messageSource={messageSource}\n        initialized={initialized}\n        allMessages={allMessages}\n        userId={userId}\n        editDisabled={utils.isDisabledBecauseFrozen(currentGroupChannel)}\n        readStatus={readStatus}\n        currentGroupChannel={currentGroupChannel}\n        renderChatItem={renderChatItem}\n        useReaction={useReaction}\n        emojiContainer={emojiContainer}\n        emojiAllList={emojiAllList}\n        emojiAllMap={emojiAllMap}\n        membersMap={nicknamesMap}\n        deleteMessage={(message, cb) => {\n          logger.info('Channel: Deleting message', message);\n          const { requestState } = message;\n          logger.info('Channel: Deleting message requestState:', requestState);\n\n          // Message is only on local\n          if (requestState === 'failed') {\n            logger.info('Channel: Deleted message from local:', message);\n            messagesDispatcher({\n              type: messageActionTypes.ON_MESSAGE_DELETED_BY_REQ_ID,\n              payload: message.reqId,\n            });\n            if (cb) { cb(); }\n            return;\n          }\n\n          // Message is on server\n          currentGroupChannel.deleteMessage(message, (err) => {\n            logger.info('Channel: Deleting message from remote:', requestState);\n            if (cb) { cb(err); }\n            if (!err) {\n              logger.info('Channel: Deleting message success!', message);\n              messagesDispatcher({\n                type: messageActionTypes.ON_MESSAGE_DELETED,\n                payload: message.messageId,\n              });\n            } else {\n              logger.warning('Channel: Deleting message failed!', err);\n            }\n          });\n        }}\n        updateMessage={(messageId, text, cb) => {\n          const createParamsDefault = (txt) => {\n            const params = new sdk.UserMessageParams();\n            params.message = txt;\n            return params;\n          };\n\n          const createCustomPrams = onBeforeUpdateUserMessage\n            && typeof onBeforeUpdateUserMessage === 'function';\n\n          if (createCustomPrams) {\n            logger.info('Channel: creting params using onBeforeUpdateUserMessage', onBeforeUpdateUserMessage);\n          }\n\n          const params = onBeforeUpdateUserMessage\n            ? onBeforeUpdateUserMessage(text)\n            : createParamsDefault(text);\n\n          currentGroupChannel.updateUserMessage(messageId, params, (r, e) => {\n            logger.info('Channel: Updating message!', params);\n            const swapParams = sdk.getErrorFirstCallback();\n            let message = r;\n            let err = e;\n            if (swapParams) {\n              message = e;\n              err = r;\n            }\n            if (cb) {\n              cb(err, message);\n            }\n            if (!err) {\n              logger.info('Channel: Updating message success!', message);\n              messagesDispatcher({\n                type: messageActionTypes.ON_MESSAGE_UPDATED,\n                payload: message,\n              });\n            } else {\n              logger.warning('Channel: Updating message failed!', err);\n            }\n          });\n        }}\n        resendMessage={(failedMessage) => {\n          logger.info('Channel: Resending message has started', failedMessage);\n          const { messageType, file } = failedMessage;\n          if (failedMessage && typeof failedMessage.isResendable === 'function'\n            && failedMessage.isResendable()\n          ) {\n            // eslint-disable-next-line no-param-reassign\n            failedMessage.requestState = 'pending';\n            messagesDispatcher({\n              type: messageActionTypes.RESEND_MESSAGEGE_START,\n              payload: failedMessage,\n            });\n\n            // userMessage\n            if (messageType === 'user') {\n              currentGroupChannel\n                .resendUserMessage(failedMessage)\n                .then((message) => {\n                  logger.info('Channel: Resending message success!', { message });\n                  messagesDispatcher({\n                    type: messageActionTypes.SEND_MESSAGEGE_SUCESS,\n                    payload: message,\n                  });\n                })\n                .catch((e) => {\n                  logger.warning('Channel: Resending message failed!', { e });\n                  // eslint-disable-next-line no-param-reassign\n                  failedMessage.requestState = 'failed';\n                  messagesDispatcher({\n                    type: messageActionTypes.SEND_MESSAGEGE_FAILURE,\n                    payload: failedMessage,\n                  });\n                });\n\n              // eslint-disable-next-line no-param-reassign\n              failedMessage.requestState = 'pending';\n              messagesDispatcher({\n                type: messageActionTypes.RESEND_MESSAGEGE_START,\n                payload: failedMessage,\n              });\n              return;\n            }\n\n            if (messageType === 'file') {\n              currentGroupChannel\n                .resendFileMessage(failedMessage, file)\n                .then((message) => {\n                  logger.info('Channel: Resending file message success!', { message });\n                  messagesDispatcher({\n                    type: messageActionTypes.SEND_MESSAGEGE_SUCESS,\n                    payload: message,\n                  });\n                })\n                .catch((e) => {\n                  logger.warning('Channel: Resending file message failed!', { e });\n                  // eslint-disable-next-line no-param-reassign\n                  failedMessage.requestState = 'failed';\n                  messagesDispatcher({\n                    type: messageActionTypes.SEND_MESSAGEGE_FAILURE,\n                    payload: failedMessage,\n                  });\n                });\n\n              // eslint-disable-next-line no-param-reassign\n              failedMessage.requestState = 'pending';\n              messagesDispatcher({\n                type: messageActionTypes.RESEND_MESSAGEGE_START,\n                payload: failedMessage,\n              });\n            }\n          } else {\n            // to alert user on console\n            // eslint-disable-next-line no-console\n            console.error('Message is not resendable');\n            logger.warning('Message is not resendable', failedMessage);\n          }\n        }}\n        toggleReaction={(message, key, isReacted) => {\n          if (isReacted) {\n            currentGroupChannel.deleteReaction(message, key)\n              .then((res) => {\n                logger.info('Delete reaction success', res);\n              })\n              .catch((err) => {\n                logger.warning('Delete reaction failed', err);\n              });\n            return;\n          }\n          currentGroupChannel.addReaction(message, key)\n            .then((res) => {\n              logger.info('Add reaction success', res);\n            })\n            .catch((err) => {\n              logger.warning('Add reaction failed', err);\n            });\n        }}\n      />\n      <div className=\"sendbird-conversation__footer\">\n        <MessageInput\n          placeholder={utils.isDisabledBecauseFrozen(currentGroupChannel)\n            && LabelStringSet.CHANNEL__MESSAGE_INPUT__PLACE_HOLDER__DISABLED}\n          ref={messageInputRef}\n          disabled={!initialized || utils.isDisabledBecauseFrozen(currentGroupChannel) || !isOnline}\n          onStartTyping={() => {\n            currentGroupChannel.startTyping();\n          }}\n          onSendMessage={() => {\n            const text = messageInputRef.current.value;\n            const createParamsDefault = (txt) => {\n              const params = new sdk.UserMessageParams();\n              params.message = txt;\n              return params;\n            };\n\n            const createCustomPrams = onBeforeSendUserMessage\n              && typeof onBeforeSendUserMessage === 'function';\n\n            if (createCustomPrams) {\n              logger.info('Channel: creting params using onBeforeSendUserMessage', onBeforeSendUserMessage);\n            }\n\n            const params = onBeforeSendUserMessage\n              ? onBeforeSendUserMessage(text)\n              : createParamsDefault(text);\n\n            logger.info('Channel: Sending message has started', params);\n            const pendingMsg = currentGroupChannel.sendUserMessage(params, (res, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = res;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n              // sending params instead of pending message\n              // to make sure that we can resend the message once it fails\n              if (error) {\n                logger.warning('Channel: Sending message failed!', { message });\n                messagesDispatcher({\n                  type: messageActionTypes.SEND_MESSAGEGE_FAILURE,\n                  payload: message,\n                });\n                return;\n              }\n              logger.info('Channel: Sending message success!', message);\n              messagesDispatcher({\n                type: messageActionTypes.SEND_MESSAGEGE_SUCESS,\n                payload: message,\n              });\n            });\n            messagesDispatcher({\n              type: messageActionTypes.SEND_MESSAGEGE_START,\n              payload: pendingMsg,\n            });\n            setTimeout(() => utils.scrollIntoLast('.sendbird-msg--scroll-ref'));\n          }}\n          onFileUpload={(file) => {\n            const createParamsDefault = (file_) => {\n              const params = new sdk.FileMessageParams();\n              params.file = file_;\n              return params;\n            };\n\n            const createCustomPrams = onBeforeSendFileMessage\n              && typeof onBeforeSendFileMessage === 'function';\n\n            if (createCustomPrams) {\n              logger.info('Channel: creting params using onBeforeSendFileMessage', onBeforeSendFileMessage);\n            }\n\n            const params = onBeforeSendFileMessage\n              ? onBeforeSendFileMessage(file)\n              : createParamsDefault(file);\n\n            logger.info('Channel: Uploading file message start!', params);\n            const pendingMsg = currentGroupChannel.sendFileMessage(params, (response, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = response;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = response;\n              }\n              if (error) {\n                // sending params instead of pending message\n                // to make sure that we can resend the message once it fails\n                logger.error('Channel: Sending file message failed!', message);\n                message.url = URL.createObjectURL(file);\n                message.file = file;\n                messagesDispatcher({\n                  type: messageActionTypes.SEND_MESSAGEGE_FAILURE,\n                  payload: message,\n                });\n                return;\n              }\n              logger.info('Channel: Sending message success!', message);\n              messagesDispatcher({\n                type: messageActionTypes.SEND_MESSAGEGE_SUCESS,\n                payload: message,\n              });\n            });\n            messagesDispatcher({\n              type: messageActionTypes.SEND_MESSAGEGE_START,\n              payload: {\n                ...pendingMsg,\n                url: URL.createObjectURL(file),\n                // pending thumbnail message seems to be failed\n                requestState: 'pending',\n              },\n            });\n            setTimeout(() => utils.scrollIntoLast('.sendbird-msg--scroll-ref'), 1000);\n          }}\n        />\n        <div className=\"sendbird-conversation__typing-indicator\">\n          <TypingIndicator channelUrl={channelUrl} sb={sdk} logger={logger} />\n        </div>\n        {\n          !isOnline && (\n            <ConnectionStatus sdkInit={sdkInit} sb={sdk} logger={logger} />\n          )\n        }\n      </div>\n    </div>\n  );\n};\n\nConversationPanel.propTypes = {\n  channelUrl: PropTypes.string,\n  stores: PropTypes.shape({\n    sdkStore: PropTypes.shape({\n      initialized: PropTypes.bool,\n      sdk: PropTypes.shape({\n        getErrorFirstCallback: PropTypes.func,\n        removeChannelHandler: PropTypes.func,\n        GroupChannel: PropTypes.any,\n        ChannelHandler: PropTypes.any,\n        addChannelHandler: PropTypes.func,\n        UserMessageParams: PropTypes.any,\n        FileMessageParams: PropTypes.any,\n        getAllEmoji: PropTypes.func,\n        appInfo: PropTypes.shape({}),\n      }),\n      error: PropTypes.bool,\n    }),\n    userStore: PropTypes.shape({\n      user: PropTypes.shape({}),\n    }),\n  }).isRequired,\n  dispatchers: PropTypes.shape({\n    reconnect: PropTypes.func,\n  }).isRequired,\n  config: PropTypes.shape({\n    userId: PropTypes.string.isRequired,\n    isOnline: PropTypes.bool.isRequired,\n    logger: PropTypes.shape({\n      info: PropTypes.func,\n      error: PropTypes.func,\n      warning: PropTypes.func,\n    }),\n    pubSub: PropTypes.shape({\n      subscribe: PropTypes.func,\n      publish: PropTypes.func,\n    }),\n  }).isRequired,\n  onBeforeSendUserMessage: PropTypes.func, // onBeforeSendUserMessage(text)\n  onBeforeSendFileMessage: PropTypes.func, // onBeforeSendFileMessage(File)\n  onBeforeUpdateUserMessage: PropTypes.func,\n  renderChatItem: PropTypes.element,\n  onChatHeaderActionClick: PropTypes.func,\n};\n\nConversationPanel.defaultProps = {\n  channelUrl: null,\n  onBeforeSendUserMessage: null,\n  onBeforeSendFileMessage: null,\n  onBeforeUpdateUserMessage: null,\n  renderChatItem: null,\n  onChatHeaderActionClick: noop,\n};\n\nexport const {\n  getEmojiCategoriesFromEmojiContainer,\n  getAllEmojisFromEmojiContainer,\n  getEmojisFromEmojiContainer,\n} = utils;\n\nexport default withSendbirdContext(ConversationPanel);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport './index.scss';\n\nexport const InputLabel = ({ children }) => (\n  <Label\n    type={LabelTypography.CAPTION_3}\n    color={LabelColors.ONBACKGROUND_1}\n    className=\"sendbird-input-label\"\n  >\n    {children}\n  </Label>\n);\n\nInputLabel.propTypes = {\n  children: PropTypes.string.isRequired,\n};\n\n// future: add validations? onChange? more props etc etc\nconst Input = React.forwardRef((props, ref) => {\n  const {\n    value,\n    placeHolder,\n    disabled,\n    name,\n    required,\n  } = props;\n  const [inputValue, setInputValue] = useState(value);\n  return (\n    <div className=\"sendbird-input\">\n      <input\n        required={required}\n        ref={ref}\n        name={name}\n        disabled={disabled}\n        value={inputValue}\n        className=\"sendbird-input--input\"\n        onChange={(e) => {\n          setInputValue(e.target.value);\n        }}\n      />\n      {(placeHolder && !inputValue) && (\n        <Label\n          className=\"sendbird-input--placeholder\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_3}\n        >\n          {placeHolder}\n        </Label>\n      )}\n    </div>\n  );\n});\n\nInput.propTypes = {\n  value: PropTypes.string,\n  placeHolder: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  required: PropTypes.bool,\n};\n\nInput.defaultProps = {\n  value: '',\n  placeHolder: '',\n  disabled: false,\n  required: false,\n};\n\nexport default Input;\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './edit-details.scss';\nimport Modal from '../../../ui/Modal';\nimport Input, { InputLabel } from '../../../ui/Input';\nimport Avatar from '../../../ui/Avatar';\nimport { Type as ButtonType } from '../../../ui/Button/type';\nimport Label, { LabelColors, LabelTypography, LabelStringSet } from '../../../ui/Label';\nimport TextButton from '../../../ui/TextButton';\n\nconst EditDetails = (props) => {\n  const {\n    onSubmit,\n    onCancel,\n    avatar,\n    title,\n  } = props;\n  const inputRef = useRef(null);\n  const formRef = useRef(null);\n  const hiddenInputRef = useRef(null);\n  const [currentImg, setCurrentImg] = useState(avatar);\n  const [newFile, setNewFile] = useState(null);\n  return (\n    <Modal\n      titleText={LabelStringSet.MODAL__CHANNEL_INFORMATION__TITLE}\n      submitText={LabelStringSet.BUTTON__SAVE}\n      onCancel={onCancel}\n      onSubmit={() => {\n        if (title !== '' && !inputRef.current.value) {\n          if (formRef.current.reportValidity) { // might not work in explorer\n            formRef.current.reportValidity();\n          }\n          return;\n        }\n        onSubmit(newFile, inputRef.current.value);\n        onCancel();\n      }}\n      type={ButtonType.PRIMARY}\n    >\n      <form\n        className=\"channel-profile-form\"\n        ref={formRef}\n        onSubmit={(e) => { e.preventDefault(); }}\n      >\n        <div className=\"channel-profile-form__img-section\">\n          <InputLabel>\n            {LabelStringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE}\n          </InputLabel>\n          <div className=\"channel-profile-form__avatar\">\n            <Avatar\n              height=\"80px\"\n              width=\"80px\"\n              src={currentImg}\n            />\n          </div>\n          <input\n            ref={hiddenInputRef}\n            type=\"file\"\n            accept=\"image/gif, image/jpeg, image/png\"\n            style={{ display: 'none' }}\n            onChange={(e) => {\n              setCurrentImg(URL.createObjectURL(e.target.files[0]));\n              setNewFile(e.target.files[0]);\n              hiddenInputRef.current.value = '';\n            }}\n          />\n          <TextButton\n            className=\"channel-profile-form__avatar-button\"\n            onClick={() => hiddenInputRef.current.click()}\n            notUnderline\n          >\n            <Label type={LabelTypography.BUTTON_1} color={LabelColors.PRIMARY}>\n              {LabelStringSet.MODAL__CHANNEL_INFORMATION__UPLOAD}\n            </Label>\n          </TextButton>\n        </div>\n        <div className=\"channel-profile-form__name-section\">\n          <InputLabel>\n            {LabelStringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_NAME}\n          </InputLabel>\n          <Input\n            required={title !== ''}\n            name=\"channel-profile-form__name\"\n            ref={inputRef}\n            value={title}\n            placeHolder={LabelStringSet.MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER}\n          />\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nEditDetails.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  avatar: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]).isRequired,\n  title: PropTypes.string.isRequired,\n};\n\nexport default EditDetails;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './channel-profile.scss';\n\nimport Avatar from '../../../ui/Avatar';\nimport Label, { LabelColors, LabelTypography, LabelStringSet } from '../../../ui/Label';\nimport EditDetailsModal from './EditDetails';\nimport TextButton from '../../../ui/TextButton';\n\nconst ChannelProfile = (props) => {\n  const {\n    avatar,\n    disabled,\n    title,\n    onChannelInfoChange,\n  } = props;\n  const [showModal, setShowModal] = useState(false);\n\n  return (\n    <div className=\"sendbird-channel-profile\">\n      <div className=\"sendbird-channel-profile--inner\">\n        <div className=\"sendbird-channel-profile__avatar\">\n          <Avatar src={avatar} />\n        </div>\n        <Label\n          type={LabelTypography.SUBTITLE_2}\n          color={LabelColors.ONBACKGROUND_1}\n          className=\"sendbird-channel-profile__title\"\n        >\n          {title}\n        </Label>\n        <TextButton\n          disabled={disabled}\n          className=\"sendbird-channel-profile__edit\"\n          onClick={() => {\n            if (disabled) { return; }\n            setShowModal(true);\n          }}\n          notUnderline\n        >\n          <Label\n            type={LabelTypography.BUTTON_1}\n            color={disabled ? LabelColors.ONBACKGROUND_2 : LabelColors.PRIMARY}\n          >\n            {LabelStringSet.CHANNEL_SETTING__PROFILE__EDIT}\n          </Label>\n        </TextButton>\n        {\n          showModal && (\n            <EditDetailsModal\n              onCancel={() => setShowModal(false)}\n              onSubmit={onChannelInfoChange}\n              avatar={avatar}\n              title={title}\n            />\n          )\n        }\n      </div>\n    </div>\n  );\n};\n\nChannelProfile.propTypes = {\n  avatar: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  disabled: PropTypes.bool,\n  title: PropTypes.string,\n  onChannelInfoChange: PropTypes.func,\n};\n\nChannelProfile.defaultProps = {\n  avatar: '',\n  title: '',\n  disabled: false,\n  onChannelInfoChange: () => { },\n};\n\nexport default ChannelProfile;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './members-accordion.scss';\n\nimport Button from '../../../ui/Button';\nimport {\n  Type as ButtonTypes,\n  Size as ButtonSizes,\n} from '../../../ui/Button/type';\nimport Avatar from '../../../ui/Avatar';\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../../../ui/Label';\nimport Modal from '../../../ui/Modal';\nimport InviteMembers from '../../InviteMembers';\n\nconst SHOWN_MEMBER_MAX = 10;\n\nconst MemebersAccordion = ({\n  members,\n  disabled,\n  userQueryCreator,\n  onInviteMemebers,\n  swapParams,\n}) => {\n  const [showMoreModal, setShowMoreModal] = useState(false);\n  const [showAddUserModal, setShowAddUserModal] = useState(false);\n  return (\n    <div className=\"sendbird-members-accordion\">\n      <div className=\"sendbird-members-accordion__list\">\n        {\n          members.slice(0, SHOWN_MEMBER_MAX).map((member) => (\n            <div className=\"sendbird-members-accordion__member\" key={member.userId}>\n              <div className=\"sendbird-members-accordion__member-avatar\">\n                <Avatar height=\"24px\" width=\"24px\" src={member.profileUrl} />\n              </div>\n              <Label type={LabelTypography.SUBTITLE_2} color={LabelColors.ONBACKGROUND_1}>\n                {member.nickname || LabelStringSet.NO_NAME}\n              </Label>\n            </div>\n          ))\n        }\n      </div>\n      <div className=\"sendbird-members-accordion__footer\">\n        {\n          members.length >= SHOWN_MEMBER_MAX && (\n            <Button\n              className=\"sendbird-members-accordion__footer__all-members\"\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => setShowMoreModal(true)}\n            >\n              {LabelStringSet.CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS}\n            </Button>\n          )\n        }\n        {\n          members.length >= SHOWN_MEMBER_MAX && showMoreModal && (\n            <Modal\n              hideFooter\n              onCancel={() => setShowMoreModal(false)}\n              onSubmit={() => { }}\n              titleText={`${members.length} ${LabelStringSet.MODAL__USER_LIST__TITLE}`}\n            >\n              <div className=\"sendbird-more-members__popup-scroll\">\n                {\n                  members.map((member) => (\n                    <div key={member.userId} className=\"sendbird-more-members__popup-member\">\n                      <div className=\"sendbird-more-members__popup-avatar\">\n                        <Avatar src={member.profileUrl} height=\"40px\" width=\"40px\" />\n                      </div>\n                      <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n                        {member.nickname || LabelStringSet.NO_NAME}\n                      </Label>\n                    </div>\n                  ))\n                }\n              </div>\n            </Modal>\n          )\n        }\n        <Button\n          className=\"sendbird-members-accordion__footer__invite-users\"\n          type={ButtonTypes.SECONDARY}\n          size={ButtonSizes.SMALL}\n          disabled={disabled}\n          onClick={() => {\n            if (disabled) { return; }\n            setShowAddUserModal(true);\n          }}\n        >\n          {LabelStringSet.CHANNEL_SETTING__MEMBERS__INVITE_MEMBER}\n        </Button>\n        {\n          showAddUserModal && (\n            <InviteMembers\n              swapParams={swapParams}\n              titleText={LabelStringSet.MODAL__INVITE_MEMBER__TITLE}\n              submitText={LabelStringSet.BUTTON__INVITE}\n              closeModal={() => setShowAddUserModal(false)}\n              idsToFilter={members.map((member) => (member.userId))}\n              userQueryCreator={userQueryCreator}\n              onSubmit={onInviteMemebers}\n            />\n          )\n        }\n      </div>\n    </div>\n  );\n};\n\nMemebersAccordion.propTypes = {\n  swapParams: PropTypes.bool,\n  disabled: PropTypes.bool,\n  members: PropTypes.arrayOf(PropTypes.shape({})),\n  userQueryCreator: PropTypes.func.isRequired,\n  onInviteMemebers: PropTypes.func.isRequired,\n};\n\nMemebersAccordion.defaultProps = {\n  swapParams: false,\n  disabled: false,\n  members: [],\n};\n\nexport default MemebersAccordion;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\n\nimport './index.scss';\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon';\n\nimport ChannelProfile from './components/ChannelProfile';\nimport MemebersAccordion from './components/MemebersAccordion';\nimport LeaveChannelModal from './components/LeaveChannel';\nimport PlaceHolder from '../../ui/PlaceHolder';\nimport PlaceHolderTypes from '../../ui/PlaceHolder/type';\nimport { uuidv4 } from '../../utils/uuid';\nimport { getChannelAvatarSource } from '../../ui/ChannelPreview/utils';\n\nfunction ChannelSettings(props) {\n  const {\n    onCloseClick,\n    channelUrl,\n    onChannelModified,\n    onBeforeUpdateChannel,\n  } = props;\n\n  const {\n    stores: { sdkStore },\n    config: {\n      userListQuery,\n      userId,\n      logger,\n      isOnline,\n    },\n  } = props;\n\n  const { sdk, initialized } = sdkStore;\n\n  // hack to kepp track of channel updates by triggering useEffect\n  const [channelUpdateId, setChannelUpdateId] = useState(uuidv4());\n  const [channel, setChannel] = useState(null);\n  const [invalidChannel, setInvalidChannel] = useState(false);\n  const [showAccordion, setShowAccordion] = useState(false);\n  const [showLeaveChannelModal, setShowLeaveChannelModal] = useState(false);\n\n  useEffect(() => {\n    logger.info('ChannelSettings: Setting up');\n    if (!channelUrl || !initialized || !sdk) {\n      logger.warning('ChannelSettings: Setting up failed', 'No channelUrl or sdk uninitialized');\n      setInvalidChannel(false);\n    } else {\n      if (!sdk || !sdk.GroupChannel) {\n        logger.warning('ChannelSettings: No GroupChannel');\n        return;\n      }\n      sdk.GroupChannel.getChannel(channelUrl, (groupChannel) => {\n        if (!groupChannel) {\n          logger.warning('ChannelSettings: Channel not found');\n          setInvalidChannel(true);\n        } else {\n          logger.info('ChannelSettings: Fetched group channel', groupChannel);\n          setInvalidChannel(false);\n          setChannel(groupChannel);\n        }\n      });\n    }\n  }, [channelUrl, initialized, channelUpdateId]);\n\n  if (!channel || invalidChannel) {\n    return (\n      <div className=\"sendbird-channel-settings\">\n        <div className=\"sendbird-channel-settings__header\">\n          <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n            {LabelStringSet.CHANNEL_SETTING__HEADER__TITLE}\n          </Label>\n          <Icon\n            type={IconTypes.CLOSE}\n            className=\"sendbird-channel-settings__close-icon\"\n            height=\"24px\"\n            width=\"24px\"\n            onClick={() => {\n              logger.info('ChannelSettings: Click close');\n              onCloseClick();\n            }}\n          />\n        </div>\n        <div>\n          <PlaceHolder type={PlaceHolderTypes.WRONG} />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"sendbird-channel-settings\">\n      <div className=\"sendbird-channel-settings__header\">\n        <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n          {LabelStringSet.CHANNEL_SETTING__HEADER__TITLE}\n        </Label>\n        <Icon\n          type={IconTypes.CLOSE}\n          className=\"sendbird-channel-settings__close-icon\"\n          height=\"24px\"\n          width=\"24px\"\n          onClick={() => {\n            logger.info('ChannelSettings: Click close');\n            onCloseClick();\n          }}\n        />\n      </div>\n      <div className=\"sendbird-channel-settings__scroll-area\">\n        <ChannelProfile\n          disabled={!isOnline}\n          avatar={getChannelAvatarSource(channel, userId)}\n          title={channel.name}\n          onChannelInfoChange={(currentImg, currentTitle) => {\n            logger.info('ChannelSettings: Channel information being updated');\n            const swapParams = sdk.getErrorFirstCallback();\n            if (onBeforeUpdateChannel) {\n              const params = onBeforeUpdateChannel(currentTitle, currentImg, channel.data);\n              // swapParams\n              channel.updateChannel(params, (response, error) => {\n                let groupChannel = response;\n                if (swapParams) {\n                  groupChannel = error;\n                }\n\n                onChannelModified(groupChannel);\n                setChannelUpdateId(uuidv4());\n              });\n              return;\n            }\n            channel.updateChannel(currentTitle, currentImg, channel.data, (response, error) => {\n              let groupChannel = response;\n              if (swapParams) {\n                groupChannel = error;\n              }\n              logger.info('ChannelSettings: Channel information updated', groupChannel);\n              onChannelModified(groupChannel);\n              setChannelUpdateId(uuidv4());\n            });\n          }}\n        />\n        <div\n          role=\"switch\"\n          aria-checked={showAccordion}\n          tabIndex={0}\n          onKeyDown={() => setShowAccordion(!showAccordion)}\n          className=\"sendbird-channel-settings__panel-item\"\n          onClick={() => setShowAccordion(!showAccordion)}\n        >\n          <Icon\n            type={IconTypes.MEMBERS}\n            className=\"sendbird-channel-settings__panel-icon-left\"\n            height=\"24px\"\n            width=\"24px\"\n            fillColor={IconColors.PRIMARY}\n          />\n          <Label\n            type={LabelTypography.SUBTITLE_1}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {`${LabelStringSet.CHANNEL_SETTING__MEMBERS__TITLE} (${channel.members.length})`}\n          </Label>\n          <Icon\n            type={IconTypes.SHEVRON}\n            className={[\n              'sendbird-channel-settings__panel-icon-right',\n              'sendbird-channel-settings__panel-icon--chevron',\n              (showAccordion ? 'sendbird-channel-settings__panel-icon--open' : ''),\n            ].join(' ')}\n            height=\"24px\"\n            width=\"24px\"\n          />\n        </div>\n        {\n          showAccordion && (\n            <MemebersAccordion\n              disabled={!isOnline}\n              // eslint-disable-next-line\n              userQueryCreator={\n                (userListQuery && typeof userListQuery === 'function')\n                  ? userListQuery\n                  : sdk.createApplicationUserListQuery.bind(sdk)\n              }\n              swapParams={\n                sdk && sdk.getErrorFirstCallback && sdk.getErrorFirstCallback()\n              }\n              members={channel.members}\n              onInviteMemebers={(selectedMemebers) => {\n                logger.info('ChannelSettings: Inviting new users');\n                channel.inviteWithUserIds(selectedMemebers)\n                  .then((res) => {\n                    onChannelModified(res);\n                    setChannelUpdateId(uuidv4());\n                    logger.info('ChannelSettings: Inviting new users success!', res);\n                  });\n              }}\n            />\n          )\n        }\n        <div\n          className={\n            `sendbird-channel-settings__panel-item\n              ${!isOnline ? 'sendbird-channel-settings__panel-item__disabled' : ''}`\n          }\n          role=\"button\"\n          tabIndex={0}\n          disabled\n          onKeyDown={() => {\n            if (!isOnline) { return; }\n            setShowLeaveChannelModal(true);\n          }}\n          onClick={() => {\n            if (!isOnline) { return; }\n            setShowLeaveChannelModal(true);\n          }}\n        >\n          <Icon\n            type={IconTypes.LEAVE}\n            className={[\n              'sendbird-channel-settings__panel-icon-left',\n              'sendbird-channel-settings__panel-icon__leave',\n            ].join(' ')}\n            height=\"24px\"\n            width=\"24px\"\n          />\n          <Label\n            type={LabelTypography.SUBTITLE_1}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {LabelStringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE}\n          </Label>\n        </div>\n        {\n          showLeaveChannelModal && (\n            <LeaveChannelModal\n              onCloseModal={() => setShowLeaveChannelModal(false)}\n              onLeaveChannel={() => {\n                logger.info('ChannelSettings: Leaving channel', channel);\n                channel.leave()\n                  .then(() => {\n                    logger.info('ChannelSettings: Leaving channel successful!', channel);\n                    onCloseClick();\n                  });\n              }}\n            />\n          )\n        }\n      </div>\n    </div>\n  );\n}\n\nChannelSettings.propTypes = {\n  onCloseClick: PropTypes.func,\n  onChannelModified: PropTypes.func,\n  onBeforeUpdateChannel: PropTypes.func,\n  channelUrl: PropTypes.string.isRequired,\n  // from withSendbirdContext\n  stores: PropTypes.shape({\n    sdkStore: PropTypes.shape({\n      sdk: PropTypes.shape({\n        getErrorFirstCallback: PropTypes.func,\n        GroupChannel: PropTypes.oneOfType([\n          PropTypes.shape({\n            getChannel: PropTypes.func,\n          }),\n          PropTypes.func,\n        ]),\n        createApplicationUserListQuery: PropTypes.any,\n      }),\n      initialized: PropTypes.bool,\n    }),\n  }).isRequired,\n  config: PropTypes.shape({\n    userId: PropTypes.string,\n    userListQuery: PropTypes.func,\n    isOnline: PropTypes.bool,\n    logger: PropTypes.shape({\n      info: PropTypes.func,\n      error: PropTypes.func,\n      warning: PropTypes.func,\n    }),\n  }).isRequired,\n};\n\nChannelSettings.defaultProps = {\n  onBeforeUpdateChannel: null,\n  onCloseClick: () => { },\n  onChannelModified: () => { },\n};\n\nexport default withSendbirdContext(ChannelSettings);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Sendbird from '../../lib/Sendbird';\n\nimport ChannelList from '../ChannelList';\nimport Conversation from '../Conversation';\nimport ChannelSettings from '../ChannelSettings';\nimport ModalRoot from '../../hooks/useModal/ModalRoot';\nimport { MenuRoot } from '../../ui/ContextMenu';\n\nimport './index.scss';\n\nexport default function App(props) {\n  const {\n    appId,\n    userId,\n    accessToken,\n    theme,\n    userListQuery,\n    nickname,\n    profileUrl,\n    config = {},\n  } = props;\n  const [currentChannelUrl, setCurrentChannelUrl] = useState(null);\n  const [showSettings, setShowSettings] = useState(false);\n  return (\n    <Sendbird\n      appId={appId}\n      userId={userId}\n      accessToken={accessToken}\n      theme={theme}\n      nickname={nickname}\n      profileUrl={profileUrl}\n      userListQuery={userListQuery}\n      config={config}\n    >\n      <div className=\"sendbird-app__wrap\">\n        <div className=\"sendbird-app__channellist-wrap\">\n          <ChannelList\n            onChannelSelect={(channel) => {\n              if (channel && channel.url) {\n                setCurrentChannelUrl(channel.url);\n              } else {\n                setCurrentChannelUrl('');\n              }\n            }}\n          />\n        </div>\n        <div className=\"sendbird-app__conversation-wrap\">\n          <Conversation\n            channelUrl={currentChannelUrl}\n            onChatHeaderActionClick={() => { setShowSettings(true); }}\n          />\n        </div>\n      </div>\n      {showSettings && (\n        <div className=\"sendbird-app__settingspanel-wrap\">\n          <ChannelSettings\n            channelUrl={currentChannelUrl}\n            onCloseClick={() => { setShowSettings(false); }}\n          />\n        </div>\n      )}\n      <ModalRoot />\n      <MenuRoot />\n    </Sendbird>\n  );\n}\n\nApp.propTypes = {\n  appId: PropTypes.string.isRequired,\n  userId: PropTypes.string.isRequired,\n  accessToken: PropTypes.string,\n  theme: PropTypes.string,\n  userListQuery: PropTypes.func,\n  nickname: PropTypes.string,\n  profileUrl: PropTypes.string,\n  config: PropTypes.shape({\n    // None Error Warning Info 'All/Debug'\n    logLevel: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string),\n    ]),\n  }),\n};\n\nApp.defaultProps = {\n  accessToken: '',\n  theme: 'light',\n  nickname: '',\n  profileUrl: '',\n  userListQuery: null,\n  config: {},\n};\n","import * as topics from './pubSub/topics';\n\nexport const getSdk = (store) => {\n  const { stores = {} } = store;\n  const { sdkStore = {} } = stores;\n  const { sdk } = sdkStore;\n  return sdk;\n};\n\nexport const getPubSub = (store) => {\n  const { config = {} } = store;\n  const { pubSub } = config;\n  return pubSub;\n};\n\n// SendBird disconnect. Invalidates currentUser\n// eslint-disable-next-line max-len\nexport const getConnect = (store) => (userId, accessToken) => new Promise((resolve, reject) => {\n  const sdk = getSdk(store);\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  if (!accessToken) {\n    sdk.connect(userId)\n      .then((res) => resolve(res))\n      .catch((err) => reject(err));\n  } else {\n    sdk.connect(userId, accessToken)\n      .then((res) => resolve(res))\n      .catch((err) => reject(err));\n  }\n});\n\n// SendBird disconnect. Invalidates currentUser\nexport const getDisconnect = (store) => () => new Promise((resolve, reject) => {\n  const sdk = getSdk(store);\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  sdk.disconnect()\n    .then((res) => resolve(res))\n    .catch((err) => reject(err));\n});\n\n// Using the updateCurrentUserInfo() method\n// you can update a user's nickname and profile image with a URL\n// eslint-disable-next-line max-len\nexport const getUpdateUserInfo = (store) => (nickName, profileUrl) => new Promise((resolve, reject) => {\n  const sdk = getSdk(store);\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  sdk.updateCurrentUserInfo(nickName, profileUrl)\n    .then((res) => resolve(res))\n    .catch((err) => reject(err));\n});\n\nexport const getSendUserMessage = (store) => (channelUrl, userMessageParams) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const promisify = () => {\n          let pendingMsg = null;\n          const pendingPromise = new Promise((resolve_, reject_) => {\n            pendingMsg = channel.sendUserMessage(userMessageParams, (res, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = res;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n              if (error) {\n                reject_(error);\n                return;\n              }\n              resolve_(message);\n              pubsub.publish(\n                topics.SEND_USER_MESSAGE,\n                {\n                  message,\n                  channel,\n                },\n              );\n            });\n            pubsub.publish(\n              topics.SEND_MESSAGE_START,\n              {\n                message: pendingMsg,\n                channel,\n              },\n            );\n          });\n          pendingPromise.get = () => pendingMsg;\n          return pendingPromise;\n        };\n        resolve(promisify());\n      })\n      .catch(reject);\n  });\n};\nexport const getSendFileMessage = (store) => (channelUrl, fileMessageParams) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const promisify = () => {\n          let pendingMsg = null;\n          const pendingPromise = new Promise((resolve_, reject_) => {\n            pendingMsg = channel.sendFileMessage(fileMessageParams, (res, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = res;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n\n              if (error) {\n                reject_(error);\n                return;\n              }\n              resolve_(message);\n              pubsub.publish(\n                topics.SEND_FILE_MESSAGE,\n                {\n                  message,\n                  channel,\n                },\n              );\n            });\n          });\n          // eslint-disable-next-line no-param-reassign\n          pendingMsg.url = URL.createObjectURL(fileMessageParams.file);\n          // eslint-disable-next-line no-param-reassign\n          pendingMsg.requestState = 'pending';\n          pubsub.publish(\n            topics.SEND_MESSAGE_START,\n            {\n              message: pendingMsg,\n              channel,\n            },\n          );\n          pendingPromise.get = () => pendingMsg;\n          return pendingPromise;\n        };\n        resolve(promisify());\n      })\n      .catch(reject);\n  });\n};\nexport const getUpdateUserMessage = (store) => (channelUrl, messageId, params) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.updateUserMessage(messageId, params, (res, err) => {\n          const swapParams = sdk.getErrorFirstCallback();\n          let message = res;\n          let error = err;\n          if (swapParams) {\n            message = err;\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n          resolve(message);\n          pubsub.publish(\n            topics.UPDATE_USER_MESSAGE,\n            {\n              message,\n              channel,\n            },\n          );\n        });\n      })\n      .catch(reject);\n  });\n};\nexport const getDeleteMessage = (store) => (channelUrl, message) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const { messageId } = message;\n        channel.deleteMessage(message, (res, err) => {\n          const swapParams = sdk.getErrorFirstCallback();\n          let error = err;\n          if (swapParams) {\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n          resolve(message);\n          pubsub.publish(\n            topics.DELETE_MESSAGE,\n            {\n              messageId,\n              channel,\n            },\n          );\n        });\n      })\n      .catch(reject);\n  });\n};\n\nexport const getResendUserMessage = (store) => (channelUrl, failedMessage) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.resendUserMessage(failedMessage)\n          .then((message) => {\n            pubsub.publish(\n              topics.SEND_USER_MESSAGE,\n              {\n                message,\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getResendFileMessage = (store) => (channelUrl, failedMessage) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.resendFileMessage(failedMessage)\n          .then((message) => {\n            pubsub.publish(\n              topics.SEND_FILE_MESSAGE,\n              {\n                message,\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getCreateChannel = (store) => (params) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.createChannel(params)\n      .then((channel) => {\n        resolve(channel);\n        pubsub.publish(\n          topics.CREATE_CHANNEL,\n          {\n            channel,\n          },\n        );\n      })\n      .catch(reject);\n  });\n};\n\nexport const getLeaveChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.leave()\n          .then(() => {\n            resolve(channel);\n            pubsub.publish(\n              topics.LEAVE_CHANNEL,\n              {\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport default {\n  getSdk,\n  getConnect,\n  getDisconnect,\n  getUpdateUserInfo,\n  getSendUserMessage,\n  getSendFileMessage,\n  getUpdateUserMessage,\n  getDeleteMessage,\n  getResendUserMessage,\n  getResendFileMessage,\n  getCreateChannel,\n  getLeaveChannel,\n};\n"],"names":["SendbirdSdkContext","React","createContext","withSendbirdContext","OriginalComponent","mapStoreToProps","ContextAwareComponent","props","context","console","warn","mergedProps","componentName","displayName","name","INIT_SDK","SET_SDK_LOADING","RESET_SDK","SDK_ERROR","INIT_USER","RESET_USER","UPDATE_USER_INFO","APP_VERSION_STRING","disconnectSdk","sdkDispatcher","userDispatcher","sdk","onDisconnect","type","payload","disconnect","then","finally","handleConnection","dispatchers","userId","appId","nickname","profileUrl","accessToken","logger","info","newSdk","Sb","addExtension","connectCbSucess","user","newNickName","newProfileUrl","updateCurrentUserInfo","namedUser","connectCbError","e","error","connect","res","catch","err","warning","initialized","loading","reducer","state","action","sdkActions","initialState","actions","uuidv4","replace","c","r","Math","random","v","toString","useConnectionStatus","useState","isOnline","setIsOnline","useEffect","uniqueHandlerId","handler","ConnectionHandler","onReconnectStarted","onReconnectSucceeded","onReconnectFailed","reconnect","addConnectionHandler","removeConnectionHandler","tryReconnect","getConnectionState","window","addEventListener","removeEventListener","body","document","querySelector","classList","add","remove","LOG_LEVELS","DEBUG","WARNING","ERROR","INFO","ALL","colorLog","level","printLog","title","description","log","Date","toISOString","getDefaultLogger","LoggerFactory","lvl","customInterface","logInterface","lvlArray","Array","isArray","applyLog","lgLvl","reduce","accumulator","currentLvl","topics","hOP","hasOwnProperty","__getTopics","subscribe","topic","listener","call","index","push","publish","forEach","item","undefined","Sendbird","children","theme","userListQuery","config","logLevel","setLogger","pubSub","setPubSub","useReducer","sdkReducers","sdkInitialState","sdkStore","userReducers","userInitialState","userStore","pubSubFactory","appentElemWithId","id","elem","createElement","setAttribute","appendChild","modalRoot","menuRoot","useOnlineStatus","stores","propTypes","PropTypes","string","isRequired","oneOfType","element","arrayOf","any","func","shape","defaultProps","RESET_CHANNEL_LIST","CREATE_CHANNEL","LEAVE_CHANNEL_SUCCESS","SET_CURRENT_CHANNEL","SHOW_CHANNEL_SETTINGS","HIDE_CHANNEL_SETTINGS","FETCH_CHANNELS_START","FETCH_CHANNELS_SUCCESS","FETCH_CHANNELS_FAILURE","INIT_CHANNELS_START","INIT_CHANNELS_SUCCESS","INIT_CHANNELS_FAILURE","ON_USER_JOINED","ON_CHANNEL_DELETED","ON_LAST_MESSAGE_UPDATED","ON_USER_LEFT","ON_CHANNEL_CHANGED","ON_READ_RECEIPT_UPDATED","ON_DELIVERY_RECEIPT_UPDATED","allChannels","currentChannel","showSettings","length","url","currentChannels","map","filteredChannels","filter","find","channel","newAllChannels","myMemberState","unreadMessageCount","lastMessage","currentUnReadCount","ImageRenderer","alt","width","height","className","defaultComponent","circle","injectingClassName","unshift","realElement","setRealElement","join","backgroundRepeat","backgroundPosition","backgroundSize","backgroundImage","borderRadius","number","bool","DefaultAvatarDark","DefaultAvatarLight","imageRendererClassName","AvatarInner","src","slice","i","Avatar","Typography","H_1","H_2","SUBTITLE_1","SUBTITLE_2","BODY_1","BODY_2","BUTTON_1","BUTTON_2","CAPTION_1","CAPTION_2","CAPTION_3","Colors","ONBACKGROUND_1","ONBACKGROUND_2","ONBACKGROUND_3","ONCONTENT_1","PRIMARY","changeTypographyToClassName","changeColorToClassName","color","getStringSet","lang","stringSet","en","TRYING_TO_CONNECT","CHANNEL_LIST__TITLE","CHANNEL__MESSAGE_INPUT__PLACE_HOLDER","CHANNEL__MESSAGE_INPUT__PLACE_HOLDER__DISABLED","CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE","CHANNEL__MESSAGE_LIST__NOTIFICATION__ON","CHANNEL_SETTING__HEADER__TITLE","CHANNEL_SETTING__PROFILE__EDIT","CHANNEL_SETTING__MEMBERS__TITLE","CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS","CHANNEL_SETTING__MEMBERS__INVITE_MEMBER","CHANNEL_SETTING__LEAVE_CHANNEL__TITLE","BUTTON__CANCEL","BUTTON__DELETE","BUTTON__SAVE","BUTTON__CREATE","BUTTON__INVITE","BUTTON__CLOSE","BADGE__OVER","MODAL__DELETE_MESSAGE__TITLE","MODAL__CHANNEL_INFORMATION__TITLE","MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE","MODAL__CHANNEL_INFORMATION__UPLOAD","MODAL__CHANNEL_INFORMATION__CHANNEL_NAME","MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER","MODAL__INVITE_MEMBER__TITLE","MODAL__INVITE_MEMBER__SELECTEC","MODAL__CREATE_CHANNEL__TITLE","MODAL__CREATE_CHANNEL__SELECTED","MODAL__USER_LIST__TITLE","TYPING_INDICATOR__IS_TYPING","TYPING_INDICATOR__AND","TYPING_INDICATOR__ARE_TYPING","TYPING_INDICATOR__MULTIPLE_TYPING","MESSAGE_STATUS__SENDING_FAILED","MESSAGE_STATUS__TRY_AGAIN","MESSAGE_STATUS__OR","MESSAGE_STATUS__DELETE","PLACE_HOLDER__NO_CHANNEL","PLACE_HOLDER__WRONG","PLACE_HOLDER__RETRY_TO_CONNECT","NO_TITLE","NO_NAME","NO_MEMBERS","TOOLTIP__AND_YOU","TOOLTIP__YOU","TOOLTIP__UNKOWN_USER","UNKNOWN__UNKNOWN_MESSAGE_TYPE","UNKNOWN__CANNOT_READ_MESSAGE","CLASS_NAME","Label","oneOf","Object","keys","LabelTypography","LabelColors","LabelStringSet","Badge","count","maxLevel","maximumNumber","parseInt","repeat","truncate","fullStr","strLen","separator","sepLen","charsToShow","frontChars","ceil","backChars","floor","substr","getChannelAvatarSource","currentUserId","coverUrl","members","member","getChannelTitle","getLastMessageCreatedAt","moment","Moment","createdAt","calendar","split","format","getTotalMembers","memberCount","getPrettyLastMessage","message","MAXLEN","messageType","truncateFileName","getLastMessage","getChannelUnreadMessageCount","ChannelPreview","isActive","ChannelAction","onClick","tabIndex","currentUser","utils","IconButton","forwardRef","ref","disabled","pressed","setPressed","ChannelHeader","iconButton","instanceOf","Types","LOADING","NO_CHANNELS","WRONG","ADD","ATTACH","ARROW_LEFT","AVATAR_DARK","AVATAR_LIGHT","CAMERA","MORE","MUTE","CHECKBOX","CHECKBOX_OFF","CLOSE","COPY","CHAT","CREATE","DELETE","DISCONNECTED","DUMMY","EDIT","ERROR_FILLED","EMOJI_FAILED","EMOJI_REACTIONS_ADD","EMOJI_REACTIONS_ADD_GRAY","DELIVERED","DOCUMENT","DOWNLOAD","FILE_AUDIO","FILE_DOCUMENT","GIF","LEAVE","MEMBERS","NOTIFICATIONS","PHOTO","PLAY","PLUS","READ","REFRESH","SEND","SENT","SHEVRON","SHEVRON_DOWN","SPINNER","USER","DEFAULT","SECONDARY","CONTENT","CONTENT_INVERSE","WHITE","changeTypeToIconComponent","Type","IconAdd","IconArrowLeft","IconCamera","IconAttach","IconAvatarDark","IconAvatarLight","IconMore","IconMute","IconCheckbox","IconCheckboxOff","IconClose","IconCopy","IconChat","IconCreate","IconDelete","IconDisconnected","IconDummy","IconEdit","IconError","IconErrorFilled","IconEmojiFailed","IconEmojiReactionsAdd","IconEmojiReactionsAddGray","IconDelivered","IconDocument","IconDownload","IconFileAudio","IconFileDocument","IconGif","IconInfo","IconLeave","IconMembers","IconNotifications","IconPhoto","IconPlay","IconPlus","IconRead","IconRefresh","IconSend","IconSent","IconShevron","IconShevronDown","IconSpinner","IconUser","Icon","fillColor","style","IconTypes","IconColors","MODAL_ROOT","DANGER","DISABLED","Size","BIG","SMALL","changeTypeToClassName","changeSizeToClassName","size","Button","injectingClassNames","ModalHeader","titleText","ModalBody","ModalFooter","onSubmit","onCancel","submitText","ButtonTypes","Modal","hideFooter","createPortal","getElementById","Checkbox","checked","onChange","isChecked","setCheck","filterUser","idsToFilter","currentId","includes","InviteMembers","userQueryCreator","closeModal","swapParams","users","setUsers","selectedUsers","setSelectedUsers","usersDataSource","setUsersDataSource","selectedCount","applicationUserListQuery","next","users_","selectedUserList","hasNext","fetchMore","target","clientHeight","scrollTop","scrollHeight","usersBatch","event","modifiedSelectedUsers","createChannel","onBeforeCreateChannel","Promise","resolve","reject","params","GroupChannel","response","getErrorFirstCallback","groupChannel","createChannelWithUserIds","AddChannel","channelListDispatcher","showModal","setshowModal","createApplicationUserListQuery","MenuItems","parentContainRef","current","closeDropdown","menuRef","handleClickOutside","contains","setState","parentRef","openLeft","parentRect","getBoundingClientRect","x","left","y","top","menuStyle","innerWidth","innerHeight","rect","createRef","setupEvents","getMenuPosition","showParent","cleanUpEvents","hideParent","display","position","round","Component","Element","componentClassName","SortByRow","maxItemCount","itemWidth","itemHeight","result","EmojiListItems","reactionRef","spaceFromTrigger","spaceFromTriggerX","spaceFromTriggerY","reactionStyle","maximumLeft","getBarPosition","MenuItems_","EmojiListItems_","MenuItem","keyCode","MenuRoot","ContextMenu","menuTrigger","menuItems","showMenu","setShowMenu","LeaveChannel","onCloseModal","onLeaveChannel","ChannelPreviewAction","useRef","setShowModal","stopPropagation","toggleDropdown","LeaveChannelModal","Loader","PlaceHolder","retryToConnect","PlaceHolderTypes","ChannelsPlaceholder","Placeholder","SEND_MESSAGE_START","SEND_USER_MESSAGE","SEND_FILE_MESSAGE","UPDATE_USER_MESSAGE","DELETE_MESSAGE","LEAVE_CHANNEL","createEventHandler","sdkChannelHandlerId","ChannelHandler","onChannelChanged","channelActions","onChannelDeleted","channelUrl","onUserJoined","onUserLeft","onReadStatus","onDeliveryReceiptUpdated","onMessageUpdated","isEqual","addChannelHandler","setupChannelList","setChannelSource","onChannelSelect","channelListQuery","createMyGroupChannelListQuery","includeEmpty","order","limit","channelList","markAsDelivered","pubSubHandleRemover","subscriber","s","pubSubHandler","subScriber","Map","set","msg","noop","ChannelList","renderChannelPreview","sdkError","sdkIntialized","channelListReducers","channelListInitialState","channelListStore","channelSource","setSdkChannelHandlerId","removeChannelHandler","channelListActions","getChannel","PlaceholderTypes","idx","cb","leave","MessageStatusType","PENDING","FAILED","RESET_MESSAGES","CLEAR_SENT_MESSAGES","GET_PREV_MESSAGES_START","GET_PREV_MESSAGES_SUCESS","SEND_MESSAGEGE_START","SEND_MESSAGEGE_SUCESS","SEND_MESSAGEGE_FAILURE","RESEND_MESSAGEGE_START","ON_MESSAGE_RECEIVED","ON_MESSAGE_UPDATED","ON_MESSAGE_DELETED","ON_MESSAGE_DELETED_BY_REQ_ID","MARK_AS_READ","ON_REACTION_UPDATED","dispatcher","messageId","scrollIntoLast","selector","intialTry","MAX_TRIES","currentTry","nodes","querySelectorAll","last","scrollIntoView","setTimeout","getParsedStatus","currentGroupChannel","requestState","unreadCount","getReadReceipt","isDelivered","getDeliveryReceipt","isOperator","myRole","isDisabledBecauseFrozen","isFrozen","getEmojiCategoriesFromEmojiContainer","emojiContainer","emojiCategories","getAllEmojisFromEmojiContainer","allEmojis","categoryIndex","emojis","emojiIndex","getEmojisFromEmojiContainer","emojiCategoryId","emojiCategory","allMessages","hasMore","unreadSince","isEmpty","val","a","b","aString","bString","actionTypes","m","sendingStatus","recivedMessages","messages","filteredAllMessages","compareIds","reqId","failed","indexOf","isAdminMessage","applyReactionEvent","messagesDispatcher","uniqueId","onMessageReceived","messageActions","_","onMessageDeleted","onReactionUpdated","reactionEvent","ReactionButton","selected","getMessageCreatedAt","getSenderName","sender","friendName","getSenderProfileUrl","MessageStatusTypes","MessageStatus","status","onDelete","onResend","canResend","isResendable","label","icon","objectOf","array","object","ReactionBadge","isAdd","Tooltip","SPACE_FROM_TRIGGER","TooltipWrapper","hoverTooltip","showHoverTooltip","setShowHoverTooltip","childrenRef","bottom","offsetWidth","EmojiReactions","emojiAllMap","emojiAllList","membersMap","toggleReaction","imageWidth","imageHeight","emojiReactionAddRef","reactions","messageReactions","reaction","userIds","emojiUrl","get","key","reactedUserCount","reactedByMe","nicknames","stringSetForMe","emoji","reactedReaction","isReacted","copyToClipboard","text","clipboardData","setData","queryCommandSupported","textarea","textContent","select","execCommand","ex","removeChild","SPACE_BETWEEN_MORE","MORE_WIDTH","Message","isByMe","resendMessage","showEdit","showRemove","useReaction","OutgoingUserMessage","parentRefReactions","parentRefMenus","paddingLeft","IncomingUserMessage","showReactionAddButton","paddingRight","AdminMessage","SUPPORTED_MIMES","IMAGE","VIDEO","isImage","isVideo","unSupported","ThumbnailMessage","reactionAddRef","isMoreActive","right","ONBACKGROUND_4","TextButton","notUnderline","MAX_TRUNCATE_LENGTH","checkFileType","fileUrl","imageFile","audioFile","test","OutgoingFileMessage","openFileUrl","open","reactionAddButtonRef","IncomingFileMessage","MessageSwitch","DateSeparator","separatorColor","LINE_HEIGHT","KeyCode","SHIFT","ENTER","handleUploadFile","callback","files","value","MessageInput","isEdit","placeholder","maxLength","onFileUpload","onSendMessage","onCancelEdit","onStartTyping","fileInputRef","inputValue","setInputValue","isShiftPressed","setIsShiftPressed","setHeight","MAX_HEIGHT","offsetHeight","sendMessage","trimmedInputValue","trim","preventDefault","click","FileViewerComponent","onClose","FileViewer","RemoveMessage","onDeleteMessage","UnknownMessage","OutgoingUnknownMessage","IncomingUnknownMessage","MessageHoc","editDisabled","hasSeperator","deleteMessage","updateMessage","setShowEdit","setShowRemove","showFileViewer","setShowFileViewer","editMessageInputRef","isFileMessage","FileMessage","isUserMessage","RemoveMessageModal","isDateSeperator","ConversationScroll","scrollRef","messageSource","first","load","messageActionTypes","markAsRead","readStatus","renderChatItem","onScroll","prev","prevCreatedAt","currentCreatedAt","isSame","onUpdateMessage","onResendMessage","MessageHOC","Notification","time","timeArray","splice","generateTypingIndicatorString","TypingIndicator","sb","handlerId","setHandlerId","typingMembers","setTypingMembers","newHandlerId","onTypingStatusUpdated","getTypingMembers","ConnectionStatus","prettyDate","date","fromNow","getOthersLastSeenAt","getReadStatus","lastSeenAt","values","last_seen_at","AutoRefresh","repeatFunc","setLabel","interval","setInterval","clearInterval","ChatHeader","subTitle","isMuted","onActionClick","memoizedAvatar","useMemo","ConversationPanel","onChatHeaderActionClick","onBeforeSendUserMessage","onBeforeSendFileMessage","onBeforeUpdateUserMessage","sdkInit","messagesReducer","messagesInitialState","messagesStore","setMessageSource","invalidChannel","setInvalidChannel","channelHandlerId","setChannelHandlerId","setReadStatus","messageReciverId","setMessageReciverId","setCurrentGroupChannel","setEmojiContainer","messageInputRef","hash","setHash","nicknamesMap","prevMessageListQuery","handleMessageStatus","allReadStatus","onReadReceiptUpdated","onChannelFrozen","groupChannel_","onChannelUnFrozen","createPreviousMessageListQuery","reverse","includeReaction","deprecatedRun","eventHandler","getAllEmoji","emojiContainer_","wasOffline","createParamsDefault","txt","UserMessageParams","createCustomPrams","updateUserMessage","failedMessage","file","resendUserMessage","resendFileMessage","deleteReaction","addReaction","startTyping","pendingMsg","sendUserMessage","file_","FileMessageParams","sendFileMessage","URL","createObjectURL","appInfo","InputLabel","Input","placeHolder","required","EditDetails","avatar","inputRef","formRef","hiddenInputRef","currentImg","setCurrentImg","newFile","setNewFile","reportValidity","ButtonType","ChannelProfile","onChannelInfoChange","EditDetailsModal","SHOWN_MEMBER_MAX","MemebersAccordion","onInviteMemebers","showMoreModal","setShowMoreModal","showAddUserModal","setShowAddUserModal","ButtonSizes","ChannelSettings","onCloseClick","onChannelModified","onBeforeUpdateChannel","channelUpdateId","setChannelUpdateId","setChannel","showAccordion","setShowAccordion","showLeaveChannelModal","setShowLeaveChannelModal","currentTitle","data","updateChannel","bind","selectedMemebers","inviteWithUserIds","App","currentChannelUrl","setCurrentChannelUrl","setShowSettings","getSdk","store","getPubSub","getConnect","Error","getDisconnect","getUpdateUserInfo","nickName","getSendUserMessage","userMessageParams","pubsub","promisify","pendingPromise","resolve_","reject_","getSendFileMessage","fileMessageParams","getUpdateUserMessage","getDeleteMessage","getResendUserMessage","getResendFileMessage","getCreateChannel","getLeaveChannel"],"mappings":"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"}