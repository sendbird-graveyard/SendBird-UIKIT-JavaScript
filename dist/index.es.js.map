{"version":3,"file":"index.es.js","sources":["../src/ui/Label/types.js","../src/ui/Label/utils.js","../src/ui/Label/stringSet.js","../src/ui/Label/index.jsx","../src/ui/ContextMenu/index.jsx","../src/hooks/useModal/ModalRoot/index.jsx","../src/lib/SendbirdSdkContext.jsx","../src/lib/dux/sdk/actionTypes.js","../src/lib/dux/user/actionTypes.js","../src/lib/dux/sdk/thunks.js","../src/lib/dux/sdk/reducers.js","../src/lib/dux/user/reducers.js","../src/lib/dux/sdk/initialState.js","../src/lib/dux/user/initialState.js","../src/lib/Sendbird.jsx","../src/smart-components/ChannelList/dux/actionTypes.js","../src/smart-components/ChannelList/dux/initialState.js","../src/smart-components/ChannelList/dux/reducers.js","../src/utils/uuid.js","../src/ui/Avatar/index.jsx","../src/ui/Badge/index.jsx","../src/ui/ChannelPreview/utils.js","../src/ui/ChannelPreview/index.jsx","../src/ui/IconButton/index.jsx","../src/ui/ChannelHeader/index.jsx","../src/ui/PlaceHolder/type.js","../src/hooks/useModal/Components.jsx","../src/hooks/useModal/index.jsx","../src/ui/Button/type.js","../src/ui/Button/utils.js","../src/ui/Button/index.jsx","../src/ui/Icon/type.js","../src/ui/Icon/index.jsx","../src/smart-components/ChannelList/components/utils.js","../src/ui/Checkbox/index.jsx","../src/smart-components/ChannelList/components/AddChannel.jsx","../src/ui/Modal/index.jsx","../src/smart-components/ChannelSettings/components/LeaveChannel.jsx","../src/smart-components/ChannelList/components/ChannelPreviewAction.jsx","../src/ui/Loader/index.jsx","../src/utils/color.js","../src/ui/PlaceHolder/index.jsx","../src/smart-components/ChannelList/components/Placeholder.jsx","../src/smart-components/ChannelList/utils.js","../src/smart-components/ChannelList/index.jsx","../src/smart-components/Conversation/dux/actionTypes.js","../src/smart-components/Conversation/dux/initialState.js","../src/smart-components/Conversation/dux/reducers.js","../src/smart-components/Conversation/dux/eventListener.js","../src/utils/utils.js","../src/ui/MessageStatus/type.js","../src/ui/MessageStatus/index.jsx","../src/ui/UserMessage/util.js","../src/ui/UserMessage/index.jsx","../src/ui/Message/index.jsx","../src/ui/AdminMessage/index.jsx","../src/ui/FileViewer/types.js","../src/ui/ThumbnailMessage/index.jsx","../src/ui/TextButton/index.jsx","../src/ui/FileMessage/utils.js","../src/ui/FileMessage/index.jsx","../src/ui/DateSeparator/index.jsx","../src/ui/MessageInput/index.jsx","../src/ui/FileViewer/index.jsx","../src/smart-components/Conversation/components/RemoveMessage.jsx","../src/smart-components/Conversation/components/MessageHOC.jsx","../src/smart-components/Conversation/utils.js","../src/smart-components/Conversation/components/ConversationScroll.jsx","../src/smart-components/Conversation/components/TypingIndicator.jsx","../src/ui/AutoRefresh/index.jsx","../src/ui/ChatHeader/index.jsx","../src/smart-components/Conversation/index.jsx","../src/ui/Input/index.jsx","../src/smart-components/ChannelSettings/components/EditDetails.jsx","../src/smart-components/ChannelSettings/components/ChannelProfile.jsx","../src/smart-components/InviteMembers/index.jsx","../src/smart-components/ChannelSettings/components/MemebersAccordion.jsx","../src/smart-components/ChannelSettings/index.jsx","../src/smart-components/App/index.jsx","../src/lib/selectors.js","../src/index.js"],"sourcesContent":["export const Typography = {\n  H_1: 'H_1',\n  H_2: 'H_2',\n  SUBTITLE_1: 'SUBTITLE_1',\n  SUBTITLE_2: 'SUBTITLE_2',\n  BODY_1: 'BODY_1',\n  BODY_2: 'BODY_2',\n  BUTTON_1: 'BUTTON_1',\n  BUTTON_2: 'BUTTON_2',\n  CAPTION_1: 'CAPTION_1',\n  CAPTION_2: 'CAPTION_2',\n  CAPTION_3: 'CAPTION_3',\n};\n\nexport const Colors = {\n  ONBACKGROUND_1: 'ONBACKGROUND_1',\n  ONBACKGROUND_2: 'ONBACKGROUND_2',\n  ONBACKGROUND_3: 'ONBACKGROUND_3',\n  ONCONTENT_1: 'ONCONTENT_1',\n  PRIMARY: 'PRIMARY',\n  ERROR: 'ERROR',\n};\n","import { Typography, Colors } from './types';\n\nexport function changeTypographyToClassName(type) {\n  switch (type) {\n    case Typography.H_1: return 'sendbird-label--h-1';\n    case Typography.H_2: return 'sendbird-label--h-2';\n    case Typography.SUBTITLE_1: return 'sendbird-label--subtitle-1';\n    case Typography.SUBTITLE_2: return 'sendbird-label--subtitle-2';\n    case Typography.BODY_1: return 'sendbird-label--body-1';\n    case Typography.BODY_2: return 'sendbird-label--body-2';\n    case Typography.BUTTON_1: return 'sendbird-label--button-1';\n    case Typography.BUTTON_2: return 'sendbird-label--button-2';\n    case Typography.CAPTION_1: return 'sendbird-label--caption-1';\n    case Typography.CAPTION_2: return 'sendbird-label--caption-2';\n    case Typography.CAPTION_3: return 'sendbird-label--caption-3';\n    default: return null;\n  }\n}\n\nexport function changeColorToClassName(color) {\n  switch (color) {\n    case Colors.ONBACKGROUND_1: return 'sendbird-label--color-onbackground-1';\n    case Colors.ONBACKGROUND_2: return 'sendbird-label--color-onbackground-2';\n    case Colors.ONBACKGROUND_3: return 'sendbird-label--color-onbackground-3';\n    case Colors.ONCONTENT_1: return 'sendbird-label--color-oncontent-1';\n    case Colors.PRIMARY: return 'sendbird-label--color-primary';\n    case Colors.ERROR: return 'sendbird-label--color-error';\n    default: return null;\n  }\n}\n","const getStringSet = (lang) => {\n  const stringSet = {\n    en: {\n      CHANNEL_LIST__TITLE: 'Channels',\n      CHANNEL__MESSAGE_INPUT__PLACE_HOLDER: 'Type a message',\n      CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE: 'new message since', // NOT USED\n      CHANNEL__MESSAGE_LIST__NOTIFICATION__ON: 'on', // NOT USED\n      CHANNEL_SETTING__HEADER__TITLE: 'Channel details',\n      CHANNEL_SETTING__PROFILE__EDIT: 'Edit',\n      CHANNEL_SETTING__MEMBERS__TITLE: 'Members',\n      CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS: 'See all members',\n      CHANNEL_SETTING__MEMBERS__INVITE_MEMBER: 'Invite member',\n      CHANNEL_SETTING__LEAVE_CHANNEL__TITLE: 'Leave channel',\n      BUTTON__CANCEL: 'Cancel',\n      BUTTON__DELETE: 'Delete',\n      BUTTON__SAVE: 'Save',\n      BUTTON__OK: 'OK',\n      BUTTON__CLOSE: 'Close',\n      BADGE__OVER: '+',\n      MODAL__DELETE_MESSAGE__TITLE: 'Delete message?',\n      MODAL__CHANNEL_INFORMATION__TITLE: 'Channel information',\n      MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE: 'Channel image',\n      MODAL__CHANNEL_INFORMATION__UPLOAD: 'Upload',\n      MODAL__CHANNEL_INFORMATION__CHANNEL_NAME: 'Channel name',\n      MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER: 'User input text',\n      MODAL__INVITE_MEMBER__TITLE: 'Invite member',\n      MODAL__INVITE_MEMBER__SELECTEC: 'selected',\n      MODAL__CREATE_CHANNEL__TITLE: 'Create new channel',\n      MODAL__CREATE_CHANNEL__SELECTED: 'seledted',\n      MODAL__USER_LIST__TITLE: 'members',\n      TYPING_INDICATOR__IS_TYPING: 'is typing...',\n      TYPING_INDICATOR__AND: 'and',\n      TYPING_INDICATOR__ARE_TYPING: 'are typing...',\n      TYPING_INDICATOR__MULTIPLE_TYPING: 'Multiple people are typing...',\n      MESSAGE_STATUS__SENDING_FAILED: 'Sending failed.',\n      MESSAGE_STATUS__TRY_AGAIN: 'Try again',\n      MESSAGE_STATUS__OR: 'or',\n      MESSAGE_STATUS__DELETE: 'Delete',\n      PLACE_HOLDER__NO_CHANNEL: 'There are no channels',\n      PLACE_HOLDER__WRONG: 'Something is wrong',\n      PLACE_HOLDER__RETRY_TO_CONNECT: 'Retry to connect',\n    },\n  };\n  return (stringSet && stringSet[lang]) ? stringSet[lang] : {};\n};\n\nexport default getStringSet;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { Typography, Colors } from './types';\nimport { changeTypographyToClassName, changeColorToClassName } from './utils';\nimport getStringSet from './stringSet';\n\nconst StringSet = getStringSet('en');\n\nexport { Typography, Colors, StringSet };\nexport default function Label({\n  type,\n  color,\n  children,\n  className,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      className={\n        [\n          ...injectingClassName,\n          'sendbird-label',\n          changeTypographyToClassName(type),\n          changeColorToClassName(color),\n        ].join(' ')\n      }\n    >\n      {children}\n    </div>\n  );\n}\n\nLabel.propTypes = {\n  type: PropTypes.oneOf(Object.keys(Typography)),\n  color: PropTypes.oneOf(Object.keys(Colors)),\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.element,\n  ]).isRequired,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nLabel.defaultProps = {\n  type: Typography.H_1,\n  color: Colors.ONBACKGROUND_1,\n  className: [],\n};\n","import React, { Component, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport Label from '../Label';\nimport { Typography, Colors } from '../Label/types';\n\nexport const MenuItem = ({ children, onClick }) => (\n  <li\n    tabIndex={0}\n    className=\"sendbird-dropdown__menu-item\"\n    onClick={onClick}\n    onKeyPress={(e) => {\n      if (e.keyCode === 13) {\n        onClick(e);\n      }\n    }}\n    role=\"menuitem\"\n  >\n    <Label\n      type={Typography.SUBTITLE_2}\n      color={Colors.ONBACKGROUND_1}\n      className=\"sendbird-dropdown__menu-item__text\"\n    >\n      {children}\n    </Label>\n  </li>\n);\n\nMenuItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n};\n\n\nexport const MenuRoot = () => (\n  <div id=\"sendbird-dropdown-portal\" />\n);\n\nexport class MenuItems extends Component {\n  constructor(props) {\n    super(props);\n    this.menuRef = React.createRef();\n    this.state = {\n      menuStyle: {},\n      handleClickOutside: () => {},\n    };\n  }\n\n  componentDidMount() {\n    this.setupEvents();\n    this.getMenuPosition();\n  }\n\n  componentWillUnmount() {\n    this.cleanUpEvents();\n  }\n\n  setupEvents = () => {\n    const { closeDropdown } = this.props;\n    const { menuRef } = this;\n    const handleClickOutside = (event) => {\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\n        closeDropdown();\n      }\n    };\n    this.setState({\n      handleClickOutside,\n    });\n\n    document.addEventListener('mousedown', handleClickOutside);\n  }\n\n  cleanUpEvents = () => {\n    const {\n      handleClickOutside,\n    } = this.state;\n    document.removeEventListener('mousedown', handleClickOutside);\n  }\n\n  getMenuPosition = () => {\n    const { parentRef } = this.props;\n    const parentRect = parentRef.current.getBoundingClientRect();\n    const { x, y } = parentRect;\n    const menuStyle = {\n      top: y,\n      left: x,\n    };\n\n    if (!this.menuRef.current) return menuStyle;\n\n    const { innerWidth, innerHeight } = window;\n    const rect = this.menuRef.current.getBoundingClientRect();\n\n    if (y + rect.height > innerHeight) {\n      menuStyle.top -= rect.height;\n    }\n\n    if (x + rect.width > innerWidth) {\n      menuStyle.left -= rect.width;\n    }\n\n    if (menuStyle.top < 0) {\n      menuStyle.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n    }\n\n    if (menuStyle.left < 0) {\n      menuStyle.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n    }\n    return this.setState({ menuStyle });\n  }\n\n  render() {\n    const { menuStyle } = this.state;\n    const { children } = this.props;\n    return (\n      createPortal(\n        (\n          <>\n            <div className=\"sendbird-dropdown__menu-backdrop\" />\n            <ul\n              className=\"sendbird-dropdown__menu\"\n              ref={this.menuRef}\n              style={{\n                display: 'inline-block',\n                position: 'fixed',\n                left: `${Math.round(menuStyle.left)}.px`,\n                top: `${Math.round(menuStyle.top)}.px`,\n              }}\n            >\n              { children }\n            </ul>\n          </>\n        ),\n        document.getElementById('sendbird-dropdown-portal'),\n      )\n    );\n  }\n}\nMenuItems.propTypes = {\n  closeDropdown: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]).isRequired,\n  // https://stackoverflow.com/a/51127130\n  parentRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) }),\n  ]).isRequired,\n};\n\nexport default function ContextMenu(props) {\n  const [showMenu, setShowMenu] = useState(false);\n  const { menuTrigger, menuItems } = props;\n\n  return (\n    <div style={{ display: 'inline' }}>\n      { menuTrigger(() => setShowMenu(!showMenu)) }\n      { showMenu && menuItems(() => setShowMenu(false)) }\n    </div>\n  );\n}\n\nContextMenu.propTypes = {\n  menuTrigger: PropTypes.func.isRequired,\n  menuItems: PropTypes.func.isRequired,\n};\n","// simple component to be used as modal root\nimport React from 'react';\n\nexport const MODAL_ROOT = 'sendbird-modal-root';\n\nexport default () => (\n  <div id={MODAL_ROOT} />\n);\n","import React from 'react';\n\nexport const SendbirdSdkContext = React.createContext();\n\nconst withSendbirdContext = (OriginalComponent, mapStoreToProps) => {\n  const ContextAwareComponent = (props) => (\n    <SendbirdSdkContext.Consumer>\n      {(context) => {\n        if (mapStoreToProps && typeof mapStoreToProps !== 'function') {\n          // eslint-disable-next-line no-console\n          console.warn('Second parameter to withSendbirdContext must be a pure function');\n        }\n        const mergedProps = (mapStoreToProps && typeof mapStoreToProps === 'function')\n          ? { ...mapStoreToProps(context), ...props }\n          : { ...context, ...props };\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        return <OriginalComponent {...mergedProps} />;\n      }}\n    </SendbirdSdkContext.Consumer>\n  );\n\n  const componentName = OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = `SendbirdAware${componentName}`;\n\n  return ContextAwareComponent;\n};\n\nexport default withSendbirdContext;\n","export const INIT_SDK = 'INIT_SDK';\nexport const UNLOAD_SDK = 'UNLOAD_SDK';\nexport const SET_SDK_LOADING = 'SET_SDK_LOADING';\n","export const INIT_USER = 'INIT_USER';\nexport const UNLOAD_USER = 'UNLOAD_USER';\nexport const SET_USER_LOADING = 'SET_USER_LOADING';\nexport const UPDATE_USER_INFO = 'UPDATE_USER_INFO';\n","import Sb from 'sendbird';\n\nimport { INIT_SDK, SET_SDK_LOADING } from './actionTypes';\nimport { INIT_USER, UPDATE_USER_INFO } from '../user/actionTypes';\n\nexport const disconnectSDK = () => {\n  // cleanup\n};\n\nexport const connectToSDK = ({\n  userId,\n  appId,\n  sdkStore,\n  nickname,\n}, dispatchers) => {\n  const {\n    sdkDispatcher,\n    userDispatcher,\n  } = dispatchers;\n\n  sdkDispatcher({ type: SET_SDK_LOADING, payload: true });\n  if (sdkStore && sdkStore.disconnect) {\n    disconnectSDK();\n  }\n  // to do: accessToken\n  if (userId && appId) {\n    const sdk = new Sb({ appId });\n    sdk.connect(userId, (user, error) => {\n      if (!error) {\n        sdkDispatcher({ type: INIT_SDK, payload: sdk });\n        userDispatcher({ type: INIT_USER, paylod: user });\n        if (nickname) {\n          sdk.updateCurrentUserInfo(nickname, user.profileUrl, (namedUser, err) => {\n            if (!err) {\n              userDispatcher({ type: UPDATE_USER_INFO, payload: namedUser });\n            }\n          });\n        }\n      } else {\n        // to do: error handling\n        // eslint-disable-next-line no-console\n        console.warn('Error', { error });\n      }\n    });\n  }\n};\n","import * as sdkActions from './actionTypes';\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case sdkActions.SET_SDK_LOADING:\n      return {\n        ...state,\n        loading: action.payload,\n      };\n    case sdkActions.INIT_SDK:\n      return {\n        sdk: action.payload,\n        initialized: true,\n        loading: false,\n      };\n    default:\n      return state;\n  }\n}\n","import * as actions from './actionTypes';\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case actions.INIT_USER:\n      return {\n        initialized: true,\n        loading: false,\n        user: action.payload,\n      };\n    case actions.UPDATE_USER_INFO:\n      return {\n        ...state,\n        user: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","export default {\n  initialized: false,\n  loading: false,\n  sb: null,\n};\n","export default {\n  initialized: false,\n  loading: false,\n  user: null,\n};\n","import React, { useEffect, useReducer } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { SendbirdSdkContext } from './SendbirdSdkContext';\nimport { connectToSDK } from './dux/sdk/thunks';\n\nimport sdkReducers from './dux/sdk/reducers';\nimport userReducers from './dux/user/reducers';\n\nimport sdkInitialState from './dux/sdk/initialState';\nimport userInitialState from './dux/user/initialState';\n\nexport default function Sendbird(props) {\n  const {\n    userId,\n    appId,\n    accessToken,\n    children,\n    theme,\n    nickname,\n  } = props;\n\n  const [sdkStore, sdkDispatcher] = useReducer(sdkReducers, sdkInitialState);\n  const [userStore, userDispatcher] = useReducer(userReducers, userInitialState);\n\n  useEffect(() => {\n    // dispatch action\n    connectToSDK({\n      userId,\n      appId,\n      accessToken,\n      sdkStore,\n      nickname,\n    }, {\n      sdkDispatcher,\n      userDispatcher,\n    });\n\n    return () => {\n      // todo-cleanup\n    };\n  }, [userId, appId, accessToken]);\n\n  // to create DOM elements for appending modal & context menu\n  // might fail on server side render\n  useEffect(() => {\n    const appentElemWithId = (id) => {\n      const elem = document.createElement('div');\n      elem.setAttribute('id', id);\n      const body = document.querySelector('body');\n      body.appendChild(elem);\n    };\n    const modalRoot = 'sendbird-modal-root';\n    const menuRoot = 'sendbird-dropdown-portal';\n    appentElemWithId(modalRoot);\n    appentElemWithId(menuRoot);\n  }, []);\n  return (\n    <SendbirdSdkContext.Provider\n      value={{\n        stores: {\n          sdkStore,\n          userStore,\n        },\n        dispatchers: {\n          sdkDispatcher,\n          userDispatcher,\n        },\n        config: {\n          userId,\n          appId,\n          accessToken,\n          theme,\n        },\n      }}\n    >\n      <div className={`sendbird-theme--${theme}`}>\n        {children}\n      </div>\n    </SendbirdSdkContext.Provider>\n  );\n}\n\nSendbird.propTypes = {\n  userId: PropTypes.string.isRequired,\n  appId: PropTypes.string.isRequired,\n  accessToken: PropTypes.string,\n  children: PropTypes.element.isRequired,\n  theme: PropTypes.string,\n  nickname: PropTypes.string,\n};\n\nSendbird.defaultProps = {\n  accessToken: '',\n  theme: 'light',\n  nickname: '',\n};\n","export const RESET_CHANNEL_LIST = 'RESET_CHANNEL_LIST';\nexport const CREATE_CHANNEL = 'CREATE_CHANNEL';\nexport const UNLOAD_CHANNELS = 'UNLOAD_CHANNELS';\nexport const SET_CHANNEL_LOADING = 'SET_CHANNEL_LOADING';\nexport const LEAVE_CHANNEL_SUCCESS = 'LEAVE_CHANNEL_SUCCESS';\n\nexport const SET_CURRENT_CHANNEL = 'SET_CURRENT_CHANNEL';\n\nexport const SHOW_CHANNEL_SETTINGS = 'SHOW_CHANNEL_SETTINGS';\nexport const HIDE_CHANNEL_SETTINGS = 'HIDE_CHANNEL_SETTINGS';\n\nexport const FETCH_CHANNELS_START = 'FETCH_CHANNELS_START';\nexport const FETCH_CHANNELS_SUCCESS = 'FETCH_CHANNELS_SUCCESS';\nexport const FETCH_CHANNELS_FAILURE = 'FETCH_CHANNELS_FAILURE';\n\nexport const INIT_CHANNELS_START = 'INIT_CHANNELS_START';\nexport const INIT_CHANNELS_SUCCESS = 'INIT_CHANNELS_SUCCESS';\nexport const INIT_CHANNELS_FAILURE = 'INIT_CHANNELS_FAILURE';\n\nexport const INVITE_MEMBERS_SUCESS = 'INVITE_MEMBERS_SUCESS';\n\nexport const ON_USER_JOINED = 'ON_USER_JOINED';\nexport const ON_CHANNEL_DELETED = 'ON_CHANNEL_DELETED';\nexport const ON_USER_LEFT = 'ON_USER_LEFT';\nexport const ON_CHANNEL_CHANGED = 'ON_CHANNEL_CHANGED';\n\nexport const ON_READ_RECEIPT_UPDATED = 'ON_READ_RECEIPT_UPDATED';\nexport const ON_DELIVERY_RECEIPT_UPDATED = 'ON_DELIVERY_RECEIPT_UPDATED';\n","export default {\n  // we might not need this initialized state -> should remove\n  initialized: false,\n  loading: false,\n  allChannels: [],\n  currentChannel: null,\n  showSettings: false,\n};\n","import * as actions from './actionTypes';\nimport initialState from './initialState';\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case actions.INIT_CHANNELS_START:\n      return {\n        ...state,\n        loading: true,\n      };\n    case actions.RESET_CHANNEL_LIST:\n      return initialState;\n    case actions.INIT_CHANNELS_SUCCESS:\n      return {\n        ...state,\n        initialized: true,\n        loading: false,\n        allChannels: action.payload,\n        currentChannel: (action.payload && action.payload.length && action.payload.length > 0)\n          ? action.payload[0].url\n          : null,\n      };\n    case actions.FETCH_CHANNELS_SUCCESS: {\n      const currentChannels = state.allChannels.map((c) => c.url);\n      const filteredChannels = action.payload.filter(\n        ({ url }) => !(currentChannels.find((c) => c === url)),\n      );\n      return {\n        ...state,\n        allChannels: [\n          ...state.allChannels,\n          ...filteredChannels,\n        ],\n      };\n    }\n    case actions.CREATE_CHANNEL:\n      return {\n        ...state,\n        allChannels: [\n          action.payload,\n          ...state.allChannels.filter(\n            (channel) => channel.url !== action.payload.url,\n          )],\n        currentChannel: action.payload.url,\n      };\n    case actions.LEAVE_CHANNEL_SUCCESS:\n    case actions.ON_CHANNEL_DELETED: {\n      const newAllChannels = state.allChannels.filter(({ url }) => url !== action.payload);\n      const currentChannel = newAllChannels.length > 0\n        ? newAllChannels[0].url\n        : '';\n\n      return {\n        ...state,\n        currentChannel,\n        allChannels: newAllChannels,\n      };\n    }\n    case actions.ON_USER_LEFT: {\n      const channel = action.payload;\n      const { myMemberState, url } = channel;\n      // I left\n      const newAllChannels = state.allChannels.filter((c) => c.url !== url);\n      const currentChannel = newAllChannels.length > 0\n        ? newAllChannels[0].url\n        : '';\n      if (myMemberState === 'none') {\n        return {\n          ...state,\n          currentChannel,\n          allChannels: newAllChannels,\n        };\n      }\n      // other user left\n      return {\n        ...state,\n        currentChannel,\n        allChannels: [\n          action.payload,\n          ...newAllChannels,\n        ],\n      };\n    }\n    case actions.ON_CHANNEL_CHANGED:\n    case actions.ON_USER_JOINED:\n    case actions.ON_READ_RECEIPT_UPDATED:\n    case actions.ON_DELIVERY_RECEIPT_UPDATED:\n      return {\n        ...state,\n        allChannels: [\n          action.payload,\n          ...state.allChannels.filter(({ url }) => url !== action.payload.url),\n        ],\n      };\n    case actions.SET_CURRENT_CHANNEL:\n      return {\n        ...state,\n        currentChannel: action.payload,\n      };\n    case actions.SHOW_CHANNEL_SETTINGS:\n      return {\n        ...state,\n        showSettings: true,\n      };\n    case actions.HIDE_CHANNEL_SETTINGS:\n      return {\n        ...state,\n        showSettings: false,\n      };\n    default:\n      return state;\n  }\n}\n","/* eslint-disable no-bitwise */\n/* eslint-disable eqeqeq */\n/* eslint-disable no-mixed-operators */\n// https://stackoverflow.com/a/2117523\n// used mainly for dom key generation\nexport const uuidv4 = () => 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n  const r = Math.random() * 16 | 0; const\n    v = c === 'x' ? r : (r & 0x3 | 0x8);\n  return v.toString(16);\n});\n\nexport default uuidv4;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport DefaultAvatar from '../../svgs/no-image.svg';\n\nimport './index.scss';\nimport { uuidv4 } from '../../utils/uuid';\n\nexport const Img = ({\n  src,\n  height,\n  width,\n  alt,\n}) => (\n  src\n    ? (\n      <img\n        src={src}\n        alt={alt}\n        height={height}\n        width={width}\n        className=\"sendbird-avatar-img\"\n      />\n    )\n    : (\n      <div className=\"sendbird-avatar-img sendbird-default-avatar\">\n        <DefaultAvatar\n          alt={alt}\n          height={height}\n          width={width}\n        />\n      </div>\n    )\n);\n\nImg.propTypes = {\n  src: PropTypes.string.isRequired,\n  height: PropTypes.string.isRequired,\n  width: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n};\n\nexport const AvatarInner = ({\n  src,\n  height,\n  width,\n  alt,\n}) => {\n  if (typeof src === 'string') {\n    return <Img src={src} height={height} width={width} alt={alt} />;\n  }\n\n  if (src && src.length) {\n    if (src.length === 1) {\n      return <Img src={src[0]} height={height} width={width} alt={alt} />;\n    }\n\n    if (src.length === 2) {\n      return (\n        <div className=\"sendbird-avatar--inner__two-child\">\n          <Img src={src[0]} height={height} width={width} alt={alt} />\n          <Img src={src[1]} height={height} width={width} alt={alt} />\n        </div>\n      );\n    }\n\n    if (src.length === 3) {\n      return (\n        <>\n          <div className=\"sendbird-avatar--inner__three-child--upper\">\n            <Img src={src[0]} height={height} width={width} alt={alt} />\n          </div>\n          <div className=\"sendbird-avatar--inner__three-child--lower\">\n            <Img src={src[1]} height={height} width={width} alt={alt} />\n            <Img src={src[2]} height={height} width={width} alt={alt} />\n          </div>\n        </>\n      );\n    }\n\n    return (\n      <div className=\"sendbird-avatar--inner__four-child\">\n        {\n          src.slice(0, 4)\n            .map((i) => (\n              <Img src={i} height={height} width={width} alt={alt} key={uuidv4()} />\n            ))\n        }\n      </div>\n    );\n  }\n  // default img\n  return <Img height={height} width={width} alt={alt} />;\n};\n\nAvatarInner.propTypes = {\n  src: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  height: PropTypes.string.isRequired,\n  width: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n};\n\nAvatarInner.defaultProps = {\n  src: '',\n};\n\nexport default function Avatar({\n  src,\n  height,\n  width,\n  alt,\n  className,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      className={\n        [\n          ...injectingClassName,\n          'sendbird-avatar',\n        ].join(' ')\n      }\n      style={{ height, width }}\n    >\n      <AvatarInner src={src} height={height} width={width} alt={alt} />\n    </div>\n  );\n}\n\nAvatar.propTypes = {\n  src: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  height: PropTypes.string,\n  width: PropTypes.string,\n  alt: PropTypes.string,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nAvatar.defaultProps = {\n  height: '56px',\n  width: '56px',\n  alt: '',\n  src: '',\n  className: '',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { StringSet } from '../Label';\nimport { Typography, Colors } from '../Label/types';\n\nexport default function Badge({\n  count,\n  maxLevel,\n  className,\n}) {\n  const maximumNumber = parseInt('9'.repeat((maxLevel > 6) ? 6 : maxLevel), 10);\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div className={[...injectingClassName, 'sendbird-badge'].join(' ')}>\n      <div className=\"sendbird-badge__text\">\n        <Label type={Typography.CAPTION_2} color={Colors.ONCONTENT_1}>\n          {\n            (count > maximumNumber)\n              ? `${maximumNumber}${StringSet.BADGE__OVER}`\n              : count\n          }\n        </Label>\n      </div>\n    </div>\n  );\n}\n\nBadge.propTypes = {\n  count: PropTypes.number.isRequired,\n  maxLevel: PropTypes.number,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nBadge.defaultProps = {\n  maxLevel: 2,\n  className: [],\n};\n","import Moment from 'moment';\n\nexport const getChannelAvatarSource = (channel) => {\n  if (channel && channel.coverUrl) {\n    return channel.coverUrl;\n  }\n  return channel && channel.members\n    ? channel.members.map(({ profileUrl }) => profileUrl)\n    : [];\n};\n\nexport const getChannelTitle = (channel = {}) => {\n  if (!channel || (!channel.name && !channel.members)) {\n    return 'No Title';\n  }\n  if (channel.name) {\n    return channel.name;\n  }\n  return channel.members\n    .map(({ nickname }) => nickname)\n    .join(', ');\n};\n\nexport const prettyDate = (date) => (Moment(date, 'x').fromNow());\n\nexport const getLastSeenAt = (channel) => {\n  if (!channel || !channel.getReadStatus) {\n    return '';\n  }\n  const readStatus = channel.getReadStatus(true);\n  const keysOfReadStatus = Object.keys(readStatus);\n  return prettyDate(keysOfReadStatus.reduce((latest, key) => (\n    latest > readStatus[key].last_seen_at ? latest : readStatus[key].last_seen_at\n  ), 0));\n};\n\nexport const getTotalMembers = (channel) => (\n  channel && channel.memberCount\n    ? channel.memberCount\n    : 0\n);\n\nexport const getLastMessage = (channel) => (\n  channel && channel.lastMessage\n    ? channel.lastMessage.message\n    : ''\n);\n\nexport const getChannelUnreadMessageCount = (channel) => (\n  (channel && channel.unreadMessageCount)\n    ? channel.unreadMessageCount\n    : 0\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport Badge from '../Badge';\nimport Label from '../Label';\nimport { Typography, Colors } from '../Label/types';\n\n// import { generateBem } from \"../../utils/bem\";\n\nimport * as utils from './utils';\n\nexport default function ChannelPreview({\n  channel,\n  isActive,\n  ChannelAction,\n  onClick,\n  tabIndex,\n}) {\n  return (\n    <div\n      role=\"link\"\n      tabIndex={tabIndex}\n      onClick={onClick}\n      onKeyPress={onClick}\n      className={`\n        sendbird-channel-preview\n        ${isActive ? 'sendbird-channel-preview--active' : null}\n      `}\n    >\n      <div\n        className=\"sendbird-channel-preview__avatar\"\n      >\n        <Avatar src={utils.getChannelAvatarSource(channel)} />\n      </div>\n      <div\n        className=\"sendbird-channel-preview__content\"\n      >\n        <div className=\"sendbird-channel-preview__content__upper\">\n          <div className=\"sendbird-channel-preview__content__upper__header\">\n            <Label\n              className=\"sendbird-channel-preview__content__upper__header__channel-name\"\n              type={Typography.SUBTITLE_2}\n              color={Colors.ONBACKGROUND_1}\n            >\n              {utils.getChannelTitle(channel)}\n            </Label>\n            <Label\n              className=\"sendbird-channel-preview__content__upper__header__total-members\"\n              type={Typography.CAPTION_2}\n              color={Colors.ONBACKGROUND_2}\n            >\n              {utils.getTotalMembers(channel)}\n            </Label>\n          </div>\n          <Label\n            className=\"sendbird-channel-preview__content__upper__last-message-at\"\n            type={Typography.CAPTION_3}\n            color={Colors.ONBACKGROUND_2}\n          >\n            {utils.getLastSeenAt(channel)}\n          </Label>\n        </div>\n\n        <div className=\"sendbird-channel-preview__content__lower\">\n          <Label\n            className=\"sendbird-channel-preview__content__lower__last-message\"\n            type={Typography.BODY_2}\n            color={Colors.ONBACKGROUND_3}\n          >\n            {utils.getLastMessage(channel)}\n          </Label>\n          <div className=\"sendbird-channel-preview__content__lower__unread-message-count\">\n            {\n              utils.getChannelUnreadMessageCount(channel)\n                ? <Badge count={utils.getChannelUnreadMessageCount(channel)} />\n                : null\n            }\n          </div>\n        </div>\n      </div>\n      <div\n        className=\"sendbird-channel-preview__action\"\n      >\n        {ChannelAction}\n      </div>\n    </div>\n  );\n}\n\nChannelPreview.propTypes = {\n  isActive: PropTypes.bool,\n  channel: PropTypes.shape({}),\n  ChannelAction: PropTypes.element.isRequired,\n  onClick: PropTypes.func,\n  tabIndex: PropTypes.number,\n};\n\nChannelPreview.defaultProps = {\n  channel: {},\n  isActive: false,\n  onClick: () => { },\n  tabIndex: 0,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst IconButton = React.forwardRef((props, ref) => {\n  const {\n    children,\n    className,\n    disabled = false,\n    type,\n    height,\n    width,\n    onClick,\n  } = props;\n\n  return (\n    // eslint-disable-next-line react/button-has-type\n    <button\n      className={`sendbird-iconbutton ${className}`}\n      disabled={disabled}\n      ref={ref}\n      type={type}\n      style={{ height, width }}\n      onClick={onClick}\n    >\n      <span className=\"sendbird-iconbutton__inner\">\n        {children}\n      </span>\n    </button>\n  );\n});\n\nIconButton.propTypes = {\n  height: PropTypes.string,\n  width: PropTypes.string,\n  className: PropTypes.string,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]).isRequired,\n  type: PropTypes.string,\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nIconButton.defaultProps = {\n  height: '56px',\n  width: '56px',\n  className: '',\n  type: 'button',\n  disabled: false,\n  onClick: () => { },\n};\n\nexport default IconButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Label, { Typography, Colors, StringSet } from '../Label';\nimport IconButton from '../IconButton';\n\nimport './index.scss';\n\nexport default function ChannelHeader({ title, iconButton }) {\n  return (\n    <div className=\"sendbird-channel-header\">\n      <div className=\"sendbird-channel-header__title\">\n        <Label type={Typography.H_2} color={Colors.ONBACKGROUND_1}>\n          {title || StringSet.CHANNEL_LIST__TITLE}\n        </Label>\n      </div>\n      <div className=\"sendbird-channel-header__right-icon\">\n        {iconButton}\n      </div>\n    </div>\n  );\n}\n\nChannelHeader.propTypes = {\n  title: PropTypes.string,\n  iconButton: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.instanceOf(IconButton),\n  ]),\n};\n\nChannelHeader.defaultProps = {\n  title: '',\n  iconButton: null,\n};\n","export function Types() {\n  return {\n    LOADING: 'LOADING',\n    NO_CHANNELS: 'NO_CHANNELS',\n    WRONG: 'WRONG',\n  };\n}\n\nexport default Types();\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const ModalHeader = ({ children }) => (\n  <div className=\"sendbird-modal--header\">\n    { children }\n  </div>\n);\nModalHeader.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.element,\n  ]).isRequired,\n};\n\nexport const ModalClose = ({ children }) => (\n  <div className=\"sendbird-modal--close\">\n    { children }\n  </div>\n);\nModalClose.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.element,\n  ]).isRequired,\n};\n\nexport const ModalFooter = ({ children }) => (\n  <div className=\"sendbird-modal--footer\">\n    { children }\n  </div>\n);\nModalFooter.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.element,\n  ]).isRequired,\n};\n","// idea from https://github.com/shibe97/react-hooks-use-modal\nimport React, { useState, useCallback } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { MODAL_ROOT } from './ModalRoot';\n\nimport {\n  ModalHeader,\n  ModalClose,\n  ModalFooter,\n} from './Components';\n\nconst Modal = ({\n  children,\n  isOpen = false,\n  modalRoot = MODAL_ROOT,\n  className = '',\n}) => {\n  if (isOpen === false) {\n    return null;\n  }\n  return createPortal(\n    <div className={`sendbird-modal__wrapper ${className}`}>\n      <div className=\"sendbird-modal__mask\" />\n      <div className=\"sendbird-modal__container\">{children}</div>\n    </div>,\n    document.getElementById(modalRoot),\n  );\n};\n\nconst useModal = (className) => {\n  const [isOpen, setOpen] = useState(false);\n  const open = useCallback(() => setOpen(true), [setOpen]);\n  const close = useCallback(() => setOpen(false), [setOpen]);\n\n  const ModalWrapper = ({ children }) => (\n    <Modal isOpen={isOpen} close={close} className={className}>\n      {children}\n    </Modal>\n  );\n\n  ModalWrapper.propTypes = {\n    children: PropTypes.element.isRequired,\n  };\n\n  return [ModalWrapper, open, close];\n};\n\nexport default useModal;\nexport const ModalComponents = {\n  ModalHeader,\n  ModalClose,\n  ModalFooter,\n};\n","export const Type = {\n  PRIMARY: 'PRIMARY',\n  SECONDARY: 'SECONDARY',\n  DANGER: 'DANGER',\n  DISABLED: 'DISABLED',\n};\n\nexport const Size = {\n  BIG: 'BIG',\n  SMALL: 'SMALL',\n};\n","import { Type, Size } from './type';\n\nexport function changeTypeToClassName(type) {\n  switch (type) {\n    case Type.PRIMARY: return 'sendbird-button--primary';\n    case Type.SECONDARY: return 'sendbird-button--secondary';\n    case Type.DANGER: return 'sendbird-button--danger';\n    case Type.DISABLED: return 'sendbird-button--disabled';\n    default: return null;\n  }\n}\n\nexport function changeSizeToClassName(size) {\n  switch (size) {\n    case Size.BIG: return 'sendbird-button--big';\n    case Size.SMALL: return 'sendbird-button--small';\n    default: return null;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label from '../Label';\nimport { Typography, Colors } from '../Label/types';\nimport { Type, Size } from './type';\nimport { changeTypeToClassName, changeSizeToClassName } from './utils';\n\nexport default function Button({\n  type,\n  size,\n  children,\n  onClick,\n  className,\n}) {\n  const injectingClassNames = [\n    'sendbird-button',\n    changeTypeToClassName(type),\n    changeSizeToClassName(size),\n    ...((Array.isArray(className)) ? className : [className]),\n  ].join(' ');\n\n  return (\n    <button type=\"button\" className={injectingClassNames} onClick={onClick}>\n      <Label\n        className=\"sendbird-button__text\"\n        type={Typography.BUTTON_1}\n        color={Colors.ONCONTENT_1}\n      >\n        {children}\n      </Label>\n    </button>\n  );\n}\n\nButton.propTypes = {\n  children: PropTypes.string,\n  type: PropTypes.oneOf(Object.keys(Type)),\n  size: PropTypes.oneOf(Object.keys(Size)),\n  onClick: PropTypes.func,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nButton.defaultProps = {\n  children: 'Button',\n  type: Type.PRIMARY,\n  size: Size.BIG,\n  onClick: () => { },\n  className: '',\n};\n","export default {\n  ATTACH: 'ATTACH',\n  ADD: 'ADD',\n  ARROW_LEFT: 'ARROW_LEFT',\n  CAMERA: 'CAMERA',\n  MORE: 'MORE',\n  MUTE: 'MUTE',\n  CHECKBOX: 'CHECKBOX',\n  CHECKBOX_OFF: 'CHECKBOX_OFF',\n  CLOSE: 'CLOSE',\n  COPY: 'COPY',\n  CHAT: 'CHAT',\n  CREATE: 'CREATE',\n  DELETE: 'DELETE',\n  DUMMY: 'DUMMY',\n  EDIT: 'EDIT',\n  ERROR: 'ERROR',\n  ERROR_FILLED: 'ERROR_FILLED',\n  DELIVERED: 'DELIVERED',\n  DOCUMENT: 'DOCUMENT',\n  DOWNLOAD: 'DOWNLOAD',\n  FILE_AUDIO: 'FILE_AUDIO',\n  FILE_DOCUMENT: 'FILE_DOCUMENT',\n  GIF: 'GIF',\n  INFO: 'INFO',\n  LEAVE: 'LEAVE',\n  NEW_MESSAGE: 'NEW_MESSAGE',\n  MEMBERS: 'MEMBERS',\n  NOTIFICATIONS: 'NOTIFICATIONS',\n  PHOTO: 'PHOTO',\n  PLAY: 'PLAY',\n  PLUS: 'PLUS',\n  READ: 'READ',\n  REFRESH: 'REFRESH',\n  SEND: 'SEND',\n  SENT: 'SENT',\n  SHEVRON_RIGHT: 'SHEVRON_RIGHT',\n  SPINNER: 'SPINNER',\n  USER: 'USER',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Type from './type';\n\nimport IconAdd from '../../svgs/icon-add.svg';\nimport IconAttach from '../../svgs/icon-attach.svg';\nimport IconArrowLeft from '../../svgs/icon-arrow-left.svg';\nimport IconCamera from '../../svgs/icon-camera.svg';\nimport IconMore from '../../svgs/icon-more.svg';\nimport IconMute from '../../svgs/icon-mute.svg';\nimport IconCheckbox from '../../svgs/icon-checkbox.svg';\nimport IconCheckboxOff from '../../svgs/icon-checkbox-off.svg';\nimport IconClose from '../../svgs/icon-close.svg';\nimport IconCopy from '../../svgs/icon-copy.svg';\nimport IconChat from '../../svgs/icon-chat.svg';\nimport IconCreate from '../../svgs/icon-create.svg';\nimport IconDelete from '../../svgs/icon-delete.svg';\nimport IconDummy from '../../svgs/icon-dummy.svg';\nimport IconEdit from '../../svgs/icon-edit.svg';\nimport IconError from '../../svgs/icon-error.svg';\nimport IconErrorFilled from '../../svgs/icon-error-filled.svg';\nimport IconDelivered from '../../svgs/icon-delivered.svg';\nimport IconDocument from '../../svgs/icon-document.svg';\nimport IconDownload from '../../svgs/icon-download.svg';\nimport IconFileAudio from '../../svgs/icon-file-audio.svg';\nimport IconFileDocument from '../../svgs/icon-file-document.svg';\nimport IconGif from '../../svgs/icon-gif.svg';\nimport IconInfo from '../../svgs/icon-info.svg';\nimport IconLeave from '../../svgs/icon-leave.svg';\nimport IconNewMessage from '../../svgs/icon-new-message.svg';\nimport IconMembers from '../../svgs/icon-members.svg';\nimport IconNotifications from '../../svgs/icon-notifications.svg';\nimport IconPhoto from '../../svgs/icon-photo.svg';\nimport IconPlay from '../../svgs/icon-play.svg';\nimport IconPlus from '../../svgs/icon-plus.svg';\nimport IconRead from '../../svgs/icon-read.svg';\nimport IconRefresh from '../../svgs/icon-refresh.svg';\nimport IconSend from '../../svgs/icon-send.svg';\nimport IconSent from '../../svgs/icon-sent.svg';\nimport IconShevronRight from '../../svgs/icon-shevron-right.svg';\nimport IconSpinner from '../../svgs/icon-spinner-small.svg';\nimport IconUser from '../../svgs/icon-user.svg';\n\nfunction changeTypeToIconComponent(type) {\n  switch (type) {\n    case Type.ADD: return <IconAdd />;\n    case Type.ARROW_LEFT: return <IconArrowLeft />;\n    case Type.CAMERA: return <IconCamera />;\n    case Type.ATTACH: return <IconAttach />;\n    case Type.MORE: return <IconMore />;\n    case Type.MUTE: return <IconMute />;\n    case Type.CHECKBOX: return <IconCheckbox />;\n    case Type.CHECKBOX_OFF: return <IconCheckboxOff />;\n    case Type.CLOSE: return <IconClose />;\n    case Type.COPY: return <IconCopy />;\n    case Type.CHAT: return <IconChat />;\n    case Type.CREATE: return <IconCreate />;\n    case Type.DELETE: return <IconDelete />;\n    case Type.DUMMY: return <IconDummy />;\n    case Type.EDIT: return <IconEdit />;\n    case Type.ERROR: return <IconError />;\n    case Type.ERROR_FILLED: return <IconErrorFilled />;\n    case Type.DELIVERED: return <IconDelivered />;\n    case Type.DOCUMENT: return <IconDocument />;\n    case Type.DOWNLOAD: return <IconDownload />;\n    case Type.FILE_AUDIO: return <IconFileAudio />;\n    case Type.FILE_DOCUMENT: return <IconFileDocument />;\n    case Type.GIF: return <IconGif />;\n    case Type.INFO: return <IconInfo />;\n    case Type.LEAVE: return <IconLeave />;\n    case Type.NEW_MESSAGE: return <IconNewMessage />;\n    case Type.MEMBERS: return <IconMembers />;\n    case Type.NOTIFICATIONS: return <IconNotifications />;\n    case Type.PHOTO: return <IconPhoto />;\n    case Type.PLAY: return <IconPlay />;\n    case Type.PLUS: return <IconPlus />;\n    case Type.READ: return <IconRead />;\n    case Type.REFRESH: return <IconRefresh />;\n    case Type.SEND: return <IconSend />;\n    case Type.SENT: return <IconSent />;\n    case Type.SHEVRON_RIGHT: return <IconShevronRight />;\n    case Type.SPINNER: return <IconSpinner />;\n    case Type.USER: return <IconUser />;\n    default: return null;\n  }\n}\n\nexport default function Icon({\n  type,\n  width,\n  height,\n  children,\n  className,\n  onClick,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  const style = {\n    width: typeof width === 'string' ? width : `${width}px`,\n    height: typeof height === 'string' ? height : `${height}px`,\n  };\n  return (\n    <div\n      onClick={onClick}\n      onKeyDown={onClick}\n      role=\"button\"\n      tabIndex=\"0\"\n      className={[\n        ...injectingClassName,\n        'sendbird-icon',\n      ].join(' ')}\n      style={style}\n    >\n      {\n        children || changeTypeToIconComponent(type)\n      }\n    </div>\n  );\n}\n\nIcon.propTypes = {\n  type: PropTypes.oneOfType([\n    PropTypes.oneOf(Object.keys(Type)),\n    PropTypes.string,\n  ]),\n  width: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  height: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  onClick: PropTypes.func,\n  children: PropTypes.element,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nIcon.defaultProps = {\n  type: '',\n  onClick: () => { },\n  width: 26,\n  height: 26,\n  children: null,\n  className: '',\n};\n\nexport const Types = Type;\n","export const createChannel = (sdk, selectedUsers) => new Promise((resolve, reject) => {\n  sdk.GroupChannel.createChannelWithUserIds(\n    Object.keys(selectedUsers),\n    false, // 'distinct' is false\n    '', // NAME\n    '', // COVER_IMAGE_OR_URL\n    '', // DATA\n    (groupChannel, error) => {\n      if (error) {\n        reject(error);\n      }\n      resolve(groupChannel);\n    },\n  );\n});\n\nexport const getUsers = (sdk, setUsers, callback, setUsersDataSource, userListQuery) => {\n  const applicationUserListQuery = (userListQuery && typeof userListQuery === 'function')\n    ? userListQuery()\n    : sdk.createApplicationUserListQuery();\n  setUsersDataSource(applicationUserListQuery);\n  applicationUserListQuery.next((users, error) => {\n    if (error) {\n      return;\n    }\n    setUsers(users);\n    callback();\n  });\n};\n\nexport default createChannel;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nexport default function Checkbox({\n  id,\n  checked,\n  onChange,\n}) {\n  const [isChecked, setCheck] = useState(checked);\n  return (\n    <label className=\"sendbird-checkbox\" htmlFor={id}>\n      <input\n        id={id}\n        type=\"checkbox\"\n        checked={isChecked}\n        onClick={() => setCheck(!isChecked)}\n        onChange={onChange}\n      />\n      <span className=\"sendbird-checkbox--checkmark\" />\n    </label>\n  );\n}\n\nCheckbox.propTypes = {\n  id: PropTypes.string,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n};\n\nCheckbox.defaultProps = {\n  id: 'sendbird-checkbox-input',\n  checked: false,\n  onChange: () => { },\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './add-channel.scss';\n\nimport useModal, { ModalComponents } from '../../../hooks/useModal';\nimport IconButton from '../../../ui/IconButton';\nimport Avatar from '../../../ui/Avatar';\n\nimport Button from '../../../ui/Button';\nimport { Type } from '../../../ui/Button/type';\n\nimport Label, { StringSet } from '../../../ui/Label';\nimport { Typography, Colors } from '../../../ui/Label/types';\n\nimport Icon, { Types } from '../../../ui/Icon';\n\nimport { createChannel, getUsers } from './utils';\nimport { CREATE_CHANNEL } from '../dux/actionTypes';\nimport Checkbox from '../../../ui/Checkbox';\n\nexport default function AddChannel({\n  sdk,\n  channelListDispatcher,\n  userId,\n  userListQuery,\n}) {\n  const [Modal, openModal, closeModal] = useModal('sendbird-create-channel');\n  const [users, setUsers] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState({});\n  const [usersDataSource, setUsersDataSource] = useState({});\n  const selectedCount = Object.keys(selectedUsers).length;\n\n  return (\n    <IconButton height=\"32px\" width=\"32px\">\n      <Icon\n        type={Types.CREATE}\n        width=\"22px\"\n        height=\"22px\"\n        onClick={() => {\n          // reset selectedusers\n          setSelectedUsers({});\n          // todo - add loader(?)\n          getUsers(\n            sdk,\n            setUsers,\n            openModal,\n            setUsersDataSource,\n            userListQuery,\n          );\n        }}\n      />\n      <Modal>\n        <div className=\"sendbird-create-channel--content\">\n          <ModalComponents.ModalHeader>\n            <Label type={Typography.H_1} color={Colors.ONBACKGROUND_1}>\n              {StringSet.MODAL__CREATE_CHANNEL__TITLE}\n            </Label>\n            <ModalComponents.ModalClose>\n              <IconButton onClick={closeModal} height=\"32px\" width=\"32px\">\n                <Icon type={Types.CLOSE} width=\"22px\" height=\"22px\" />\n              </IconButton>\n            </ModalComponents.ModalClose>\n          </ModalComponents.ModalHeader>\n          <Label\n            color={(selectedCount > 0) ? Colors.PRIMARY : Colors.ONBACKGROUND_3}\n            type={Typography.CAPTION_1}\n          >\n            {`${selectedCount} ${StringSet.MODAL__CREATE_CHANNEL__SELECTED}`}\n          </Label>\n          <div\n            className=\"sendbird-create-channel--scroll\"\n            onScroll={(e) => {\n              const { hasNext } = usersDataSource;\n              const fetchMore = (\n                e.target.clientHeight + e.target.scrollTop === e.target.scrollHeight\n              );\n\n              if (hasNext && fetchMore) {\n                usersDataSource.next((usersBatch, error) => {\n                  if (error) {\n                    return;\n                  }\n                  setUsers([\n                    ...users,\n                    ...usersBatch,\n                  ]);\n                });\n              }\n            }}\n          >\n            {\n              users.map((user) => (user.userId !== userId) && (\n                <div key={user.userId} className=\"sendbird-create-channel--user-row\">\n                  <div className=\"sendbird-create-channel--user-row--avatar\">\n                    <Avatar height=\"40px\" width=\"40px\" src={user.profileUrl} />\n                  </div>\n                  <div className=\"sendbird-create-channel--user-row--label\">\n                    <Label type={Typography.SUBTITLE_1} color={Colors.ONBACKGROUND_1}>\n                      {user.nickname}\n                    </Label>\n                  </div>\n                  {/* eslint-disable-next-line jsx-a11y/label-has-associated-control */}\n                  <label htmlFor={user.userId} className=\"sendbird-create-channel--user-row--checkbox\">\n                    <Checkbox\n                      role=\"checkbox\"\n                      aria-labelledby={user.userId}\n                      id={user.userId}\n                      checked={selectedUsers[user.userId]}\n                      onChange={\n                        (event) => {\n                          const modifiedSelectedUsers = {\n                            ...selectedUsers,\n                            [event.target.id]: event.target.checked,\n                          };\n\n                          if (!event.target.checked) {\n                            delete modifiedSelectedUsers[event.target.id];\n                          }\n\n                          setSelectedUsers(modifiedSelectedUsers);\n                        }\n                      }\n                    />\n                  </label>\n                </div>\n              ))\n            }\n          </div>\n          <ModalComponents.ModalFooter>\n            <Button\n              className=\"sendbird-create-channel__footer__close\"\n              type={Type.SECONDARY}\n              onClick={closeModal}\n            >\n              {StringSet.BUTTON__CLOSE}\n            </Button>\n            <Button\n              className=\"sendbird-create-channel__footer__ok\"\n              type={Type.PRIMARY}\n              disabled={Object.keys(selectedUsers).length < 1}\n              onClick={\n                () => createChannel(sdk, selectedUsers)\n                  .then((channel) => {\n                    // maybe - do this in event listener\n                    channelListDispatcher({\n                      type: CREATE_CHANNEL,\n                      payload: channel,\n                    });\n                    closeModal();\n                  })\n                // show error toast?\n                // .catch((e) => {\n                //   console.warn(e);\n                // })\n              }\n            >\n              {StringSet.BUTTON__OK}\n            </Button>\n          </ModalComponents.ModalFooter>\n        </div>\n      </Modal>\n    </IconButton>\n  );\n}\n\nAddChannel.propTypes = {\n  sdk: PropTypes.shape({}).isRequired,\n  channelListDispatcher: PropTypes.func.isRequired,\n  userId: PropTypes.string.isRequired,\n  userListQuery: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nimport './index.scss';\n\nimport { MODAL_ROOT } from '../../hooks/useModal/ModalRoot';\nimport Icon, { Types as IconTypes } from '../Icon';\nimport Button from '../Button';\nimport { Type as ButtonTypes } from '../Button/type';\nimport Label, { StringSet } from '../Label';\nimport { Typography, Colors } from '../Label/types';\n\nexport const ModalHeader = ({ titleText }) => (\n  <div className=\"sendbird-modal-header\">\n    <Label type={Typography.H_1} color={Colors.ONBACKGROUND_1}>\n      {titleText}\n    </Label>\n  </div>\n);\nModalHeader.propTypes = {\n  titleText: PropTypes.string.isRequired,\n};\n\nexport const ModalBody = ({ children }) => (\n  <div className=\"sendbird-modal-body\">{children}</div>\n);\nModalBody.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element.isRequired,\n    PropTypes.arrayOf(PropTypes.element.isRequired),\n  ]).isRequired,\n};\n\nexport const ModalFooter = ({\n  onSubmit,\n  onCancel,\n  submitText,\n  type,\n}) => (\n  <div className=\"sendbird-modal-footer\">\n    <Button type={ButtonTypes.SECONDARY} onClick={onCancel}>\n      <Label type={Typography.BUTTON_1} color={Colors.ONBACKGROUND_1}>\n        {StringSet.BUTTON__CANCEL}\n      </Label>\n    </Button>\n    <Button type={type} onClick={onSubmit}>\n      {submitText}\n    </Button>\n  </div>\n);\nModalFooter.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  submitText: PropTypes.string.isRequired,\n  type: PropTypes.string,\n};\nModalFooter.defaultProps = {\n  type: ButtonTypes.DANGER,\n};\n\nfunction Modal(props) {\n  const {\n    children,\n    onCancel,\n    onSubmit,\n    submitText,\n    titleText,\n    hideFooter,\n    type,\n  } = props;\n  return createPortal((\n    <div className=\"sendbird-modal\">\n      <div className=\"sendbird-modal-content\">\n        <ModalHeader titleText={titleText} />\n        <ModalBody>{children}</ModalBody>\n        {\n          !hideFooter && (\n            <ModalFooter\n              onCancel={onCancel}\n              onSubmit={onSubmit}\n              submitText={submitText}\n              type={type}\n            />\n          )\n        }\n        <div className=\"sendbird-modal-close\">\n          <Icon type={IconTypes.CLOSE} onClick={onCancel} />\n        </div>\n      </div>\n      <div className=\"sendbird-modal-backdrop\" />\n    </div>\n  ), document.getElementById(MODAL_ROOT));\n}\n\nModal.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element.isRequired,\n    PropTypes.arrayOf(PropTypes.element.isRequired),\n  ]),\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  hideFooter: PropTypes.bool,\n  type: PropTypes.string,\n};\nModal.defaultProps = {\n  children: (<></>),\n  hideFooter: false,\n  type: ButtonTypes.DANGER,\n};\n\nexport default Modal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Modal from '../../../ui/Modal';\n\nconst LeaveChannel = (props) => {\n  const {\n    onCloseModal,\n    onLeaveChannel,\n  } = props;\n  return (\n    <Modal\n      onCancel={onCloseModal}\n      onSubmit={onLeaveChannel}\n      submitText=\"Leave\"\n      titleText=\"Leave this channel?\"\n    />\n  );\n};\n\nLeaveChannel.propTypes = {\n  onCloseModal: PropTypes.func.isRequired,\n  onLeaveChannel: PropTypes.func.isRequired,\n};\n\nexport default LeaveChannel;\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ContextMenu, { MenuItem, MenuItems } from '../../../ui/ContextMenu';\n\nimport IconButton from '../../../ui/IconButton';\nimport Icon, { Types } from '../../../ui/Icon';\nimport { StringSet } from '../../../ui/Label';\nimport LeaveChannelModal from '../../ChannelSettings/components/LeaveChannel';\n\nexport default function ChannelPreviewAction({ onLeaveChannel }) {\n  const parentRef = useRef(null);\n  const [showModal, setShowModal] = useState(false);\n\n  return (\n    <div\n      role=\"button\"\n      style={{ display: 'inline-block' }}\n      onKeyDown={(e) => { e.stopPropagation(); }}\n      tabIndex={0}\n      onClick={(e) => { e.stopPropagation(); }}\n    >\n      <ContextMenu\n        menuTrigger={(toggleDropdown) => (\n          <IconButton\n            ref={parentRef}\n            onClick={toggleDropdown}\n            height=\"32px\"\n            width=\"32px\"\n          >\n            <Icon type={Types.MORE} width=\"22px\" height=\"22px\" />\n          </IconButton>\n        )}\n        menuItems={(closeDropdown) => (\n          <MenuItems parentRef={parentRef} closeDropdown={closeDropdown}>\n            <MenuItem\n              onClick={() => {\n                setShowModal(true);\n                closeDropdown();\n              }}\n            >\n              {StringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE}\n            </MenuItem>\n          </MenuItems>\n        )}\n      />\n      {\n        showModal && (\n          <LeaveChannelModal\n            onCloseModal={() => setShowModal(false)}\n            onLeaveChannel={onLeaveChannel}\n          />\n        )\n      }\n    </div>\n  );\n}\n\nChannelPreviewAction.propTypes = {\n  onLeaveChannel: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Icon, { Types } from '../Icon';\n\nexport default function Loader({\n  children,\n  className,\n  width,\n  height,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      className={[...injectingClassName, 'sendbird-loader'].join(' ')}\n      style={{\n        width: typeof width === 'string' ? width : `${width}px`,\n        height: typeof height === 'string' ? height : `${height}px`,\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nLoader.propTypes = {\n  children: PropTypes.element,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  width: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  height: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n};\n\nLoader.defaultProps = {\n  children: <Icon\n    type={Types.SPINNER}\n    width=\"26px\"\n    height=\"26px\"\n  />,\n  className: '',\n  width: '26px',\n  height: '26px',\n};\n","import './color.scss';\n\nexport const Colors = {\n  ONBACKGROUND_1: 'ONBACKGROUND_1',\n  ONBACKGROUND_2: 'ONBACKGROUND_2',\n  ONBACKGROUND_3: 'ONBACKGROUND_3',\n  ONBACKGROUND_4: 'ONBACKGROUND_4',\n  ONCONTENT_1: 'ONCONTENT_1',\n  PRIMARY: 'PRIMARY',\n  ERROR: 'ERROR',\n};\n\nexport function changeColorToClassName(color) {\n  switch (color) {\n    case Colors.ONBACKGROUND_1: return 'sendbird-color--onbackground-1';\n    case Colors.ONBACKGROUND_2: return 'sendbird-color--onbackground-2';\n    case Colors.ONBACKGROUND_3: return 'sendbird-color--onbackground-3';\n    case Colors.ONBACKGROUND_4: return 'sendbird-color--onbackground-4';\n    case Colors.ONCONTENT_1: return 'sendbird-color--oncontent-1';\n    case Colors.PRIMARY: return 'sendbird-color--primary';\n    case Colors.ERROR: return 'sendbird-color--error';\n    default: return null;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Icon, { Types } from '../Icon';\nimport Loader from '../Loader';\nimport Label, { Typography, StringSet } from '../Label';\nimport PlaceHolderTypes from './type';\nimport { Colors } from '../../utils/color';\n\nexport default function PlaceHolder({\n  className,\n  type,\n  retryToConnect,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n\n  return (\n    <div className={[...injectingClassName, 'sendbird-place-holder'].join(' ')}>\n      {\n        type === PlaceHolderTypes.LOADING\n          ? (\n            <Loader width=\"48px\" height=\"48px\">\n              <Icon type={Types.SPINNER} width=\"48px\" height=\"48px\" />\n            </Loader>\n          )\n          : null\n      }\n      {\n        type === PlaceHolderTypes.NO_CHANNELS || type === PlaceHolderTypes.WRONG\n          ? (\n            <div className=\"sendbird-place-holder__body\">\n              <Icon className=\"sendbird-place-holder__body__icon\" type={Types.CHAT} width=\"64px\" height=\"64px\" />\n              <Label className=\"sendbird-place-holder__body__text\" type={Typography.BODY_1} color={Colors.ONBACKGROUND_2}>\n                {\n                  type === PlaceHolderTypes.NO_CHANNELS\n                    ? StringSet.PLACE_HOLDER__NO_CHANNEL\n                    : StringSet.PLACE_HOLDER__WRONG\n                }\n              </Label>\n              {\n                retryToConnect\n                  ? (\n                    <div\n                      className=\"sendbird-place-holder__body__reconnect\"\n                      role=\"button\"\n                      tabIndex={0}\n                      onClick={retryToConnect}\n                      onKeyPress={retryToConnect}\n                    >\n                      <Icon className=\"sendbird-place-holder__body__reconnect__icon\" type={Types.REFRESH} width=\"20px\" height=\"20px\" />\n                      <Label className=\"sendbird-place-holder__body__reconnect__text\" type={Typography.BUTTON_1} color={Colors.PRIMARY}>\n                        {StringSet.PLACE_HOLDER__RETRY_TO_CONNECT}\n                      </Label>\n                    </div>\n                  )\n                  : null\n              }\n            </div>\n          )\n          : null\n      }\n    </div>\n  );\n}\n\nPlaceHolder.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  type: PropTypes.oneOfType([\n    PropTypes.oneOf(Object.keys(PlaceHolderTypes)),\n    PropTypes.string,\n  ]).isRequired,\n  retryToConnect: PropTypes.func,\n};\n\nPlaceHolder.defaultProps = {\n  className: '',\n  retryToConnect: null,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Placeholder from '../../../ui/PlaceHolder';\n\nexport default function ChannelsPlaceholder({\n  type,\n}) {\n  return (\n    <div className=\"sendbird-channel-list\">\n      <Placeholder type={type} />\n    </div>\n  );\n}\n\nChannelsPlaceholder.propTypes = {\n  type: PropTypes.string.isRequired,\n};\n","import * as channelActions from './dux/actionTypes';\n\nconst createEventHandler = ({\n  sdk,\n  sdkChannelHandlerId,\n  channelListDispatcher,\n}) => {\n  const ChannelHandler = new sdk.ChannelHandler();\n\n  ChannelHandler.onChannelChanged = (channel) => {\n    channelListDispatcher({\n      type: channelActions.ON_CHANNEL_CHANGED,\n      payload: channel,\n    });\n  };\n  ChannelHandler.onChannelDeleted = (channelUrl) => {\n    channelListDispatcher({\n      type: channelActions.ON_CHANNEL_DELETED,\n      payload: channelUrl,\n    });\n  };\n\n  ChannelHandler.onUserJoined = (channel) => {\n    channelListDispatcher({\n      type: channelActions.ON_USER_JOINED,\n      payload: channel,\n    });\n  };\n\n  ChannelHandler.onUserLeft = (channel) => {\n    channelListDispatcher({\n      type: channelActions.ON_USER_LEFT,\n      payload: channel,\n    });\n  };\n\n  ChannelHandler.onReadStatus = (channel) => {\n    channelListDispatcher({\n      type: channelActions.ON_READ_RECEIPT_UPDATED,\n      payload: channel,\n    });\n  };\n\n  ChannelHandler.onDeliveryReceiptUpdated = (channel) => {\n    channelListDispatcher({\n      type: channelActions.ON_DELIVERY_RECEIPT_UPDATED,\n      payload: channel,\n    });\n  };\n\n  sdk.addChannelHandler(sdkChannelHandlerId, ChannelHandler);\n};\n\n/**\n * Setup event listener\n * create channel source query\n * addloading screen\n */\nfunction setupChannelList({\n  sdk,\n  sdkChannelHandlerId,\n  channelListDispatcher,\n  setChannelSource,\n  onChannelSelect,\n}) {\n  createEventHandler({\n    sdk,\n    channelListDispatcher,\n    sdkChannelHandlerId,\n  });\n\n  const channelListQuery = sdk.GroupChannel.createMyGroupChannelListQuery();\n  channelListQuery.includeEmpty = false;\n  channelListQuery.order = 'latest_last_message'; // 'chronological', 'latest_last_message', 'channel_name_alphabetical', and 'metadata_value_alphabetical'\n  channelListQuery.limit = 20; // The value of pagination limit could be set up to 100.\n\n  setChannelSource(channelListQuery);\n\n  channelListDispatcher({\n    type: channelActions.INIT_CHANNELS_START,\n  });\n\n  if (channelListQuery.hasNext) {\n    channelListQuery.next((channelList, error) => {\n      if (error) {\n        channelListDispatcher({\n          type: channelActions.INIT_CHANNELS_FAILURE,\n        });\n        return;\n      }\n      // select first channel\n      onChannelSelect(channelList[0]);\n      channelListDispatcher({\n        type: channelActions.INIT_CHANNELS_SUCCESS,\n        payload: channelList,\n      });\n    });\n  }\n}\n\nexport default setupChannelList;\n","import React, { useEffect, useState, useReducer } from 'react';\nimport PropTypes from 'prop-types';\n\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\n\nimport * as channelListActions from './dux/actionTypes';\nimport channelListInitialState from './dux/initialState';\nimport channelListReducers from './dux/reducers';\n\nimport ChannelPreview from '../../ui/ChannelPreview';\nimport ChannelHeader from '../../ui/ChannelHeader';\nimport PlaceholderTypes from '../../ui/PlaceHolder/type';\n\nimport AddChannel from './components/AddChannel';\nimport ChannelPreviewAction from './components/ChannelPreviewAction';\nimport PlaceHolder from './components/Placeholder';\n\nimport setupChannelList from './utils';\nimport { uuidv4 } from '../../utils/uuid';\n\nimport './index.scss';\n\nconst noop = () => {};\n\nfunction ChannelList(props) {\n  const {\n    stores: { sdkStore = {} },\n    config: { userId, userListQuery },\n    renderChannelPreview,\n    onChannelSelect,\n  } = props;\n  const { sdk } = sdkStore;\n  const sdkIntialized = sdkStore.initialized;\n  const [channelListStore, channelListDispatcher] = useReducer(\n    channelListReducers,\n    channelListInitialState,\n  );\n  const [channelSource, setChannelSource] = useState({});\n  const [sdkChannelHandlerId, setSdkChannelHandlerId] = useState(null);\n\n  const { loading, currentChannel } = channelListStore;\n\n  useEffect(() => {\n    setSdkChannelHandlerId(uuidv4);\n    if (sdkIntialized) {\n      setupChannelList({\n        sdk,\n        sdkChannelHandlerId,\n        channelListDispatcher,\n        setChannelSource,\n        onChannelSelect,\n      });\n    } else {\n      // remove previous channelHandlers\n      if (sdk) {\n        sdk.removeChannelHandler(sdkChannelHandlerId);\n      }\n      // remove channelSource\n      setChannelSource({});\n      // cleanup\n      channelListDispatcher({\n        type: channelListActions.RESET_CHANNEL_LIST,\n      });\n    }\n    return () => {\n      if (sdk) {\n        sdk.removeChannelHandler(sdkChannelHandlerId);\n      }\n    };\n  }, [sdkIntialized]);\n\n  const { allChannels } = channelListStore;\n\n  useEffect(() => {\n    if (!sdk) { return; }\n    sdk.GroupChannel.getChannel(currentChannel, (groupChannel) => {\n      if (groupChannel) {\n        onChannelSelect(groupChannel);\n      } else {\n        onChannelSelect(null);\n      }\n    });\n  }, [currentChannel]);\n  return (\n    <div className=\"sendbird-channel-list\">\n      <div className=\"sendbird-channel-list__header\">\n        <ChannelHeader\n          title=\"Channels\"\n          iconButton={(\n            <AddChannel\n              userListQuery={userListQuery}\n              sdk={sdk}\n              channelListDispatcher={channelListDispatcher}\n              userId={userId}\n            />\n          )}\n        />\n      </div>\n      <div\n        className=\"sendbird-channel-list__body\"\n        onScroll={(e) => {\n          const fetchMore = e.target.clientHeight + e.target.scrollTop === e.target.scrollHeight;\n          if (fetchMore && channelSource.hasNext) {\n            channelListDispatcher({\n              type: channelListActions.FETCH_CHANNELS_START,\n            });\n            channelSource.next((channelList, error) => {\n              if (error) {\n                channelListDispatcher({\n                  type: channelListActions.FETCH_CHANNELS_FAILURE,\n                  payload: channelList,\n                });\n                return;\n              }\n              channelListDispatcher({\n                type: channelListActions.FETCH_CHANNELS_SUCCESS,\n                payload: channelList,\n              });\n            });\n          }\n        }}\n      >\n        <div>\n          {\n            allChannels && allChannels.map((channel, idx) => {\n              const onLeaveChannel = (c, cb) => {\n                c.leave((response, error) => {\n                  if (cb) {\n                    cb(response, error);\n                  }\n                  if (!error) {\n                    channelListDispatcher({\n                      type: channelListActions.LEAVE_CHANNEL_SUCCESS,\n                      payload: channel.url,\n                    });\n                  }\n                });\n              };\n\n              const onClick = () => {\n                onChannelSelect(channel);\n                channelListDispatcher({\n                  type: channelListActions.SET_CURRENT_CHANNEL,\n                  payload: channel.url,\n                });\n              };\n\n              return (\n                (renderChannelPreview)\n                  ? (\n                    // eslint-disable-next-line\n                    <div key={channel.url} onClick={onClick}>\n                      { renderChannelPreview({ channel, onLeaveChannel }) }\n                    </div>\n                  )\n                  : (\n                    <ChannelPreview\n                      key={channel.url}\n                      tabIndex={idx}\n                      onClick={onClick}\n                      channel={channel}\n                      isActive={channel.url === currentChannel}\n                      // todo - potential performance hit refactor\n                      ChannelAction={(\n                        <ChannelPreviewAction\n                          onLeaveChannel={() => onLeaveChannel(channel)}\n                        />\n                      )}\n                    />\n                  )\n              );\n            })\n          }\n        </div>\n        {\n          (!sdkIntialized || loading) && (\n            <PlaceHolder type={PlaceholderTypes.LOADING} />\n          )\n        }\n        {\n          //  placeholder\n          (!allChannels || allChannels.length === 0) && (\n            <PlaceHolder type={PlaceholderTypes.NO_CHANNELS} />\n          )\n        }\n      </div>\n    </div>\n  );\n}\n\nChannelList.propTypes = {\n  stores: PropTypes.shape({\n    sdkStore: {\n      initialized: PropTypes.bool,\n    },\n  }).isRequired,\n  config: PropTypes.shape({\n    userId: PropTypes.string.isRequired,\n    userListQuery: PropTypes.func.isRequired,\n  }).isRequired,\n  renderChannelPreview: PropTypes.element,\n  onChannelSelect: PropTypes.func,\n};\n\nChannelList.defaultProps = {\n  renderChannelPreview: null,\n  onChannelSelect: noop,\n};\n\nexport default withSendbirdContext(ChannelList);\n","export const RESET_MESSAGES = 'RESET_MESSAGES';\n\nexport const GET_PREV_MESSAGES_START = 'GET_PREV_MESSAGES_START';\nexport const GET_PREV_MESSAGES_SUCESS = 'GET_PREV_MESSAGES_SUCESS';\nexport const GET_PREV_MESSAGES_FAILURE = 'GET_PREV_MESSAGES_FAILURE';\n\nexport const SEND_MESSAGEGE_START = 'SEND_MESSAGEGE_START';\nexport const SEND_MESSAGEGE_SUCESS = 'SEND_MESSAGEGE_SUCESS';\nexport const SEND_MESSAGEGE_FAILURE = 'SEND_MESSAGEGE_FAILURE';\n\nexport const ON_MESSAGE_RECEIVED = 'ON_MESSAGE_RECEIVED';\nexport const ON_MESSAGE_UPDATED = 'ON_MESSAGE_UPDATED';\nexport const ON_MESSAGE_DELETED = 'ON_MESSAGE_DELETED';\n\nexport const SET_CURRENT_CHANNEL = 'SET_CURRENT_CHANNEL';\n","export default {\n  initialized: false,\n  loading: false,\n  allMessages: [],\n  currentChannel: null,\n  hasMore: false,\n};\n","import * as actionTypes from './actionTypes';\nimport initialState from './initialState';\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case actionTypes.RESET_MESSAGES:\n      return initialState;\n    case actionTypes.GET_PREV_MESSAGES_START:\n      return {\n        ...state,\n        loading: true,\n      };\n    case actionTypes.GET_PREV_MESSAGES_SUCESS:\n      return {\n        ...state,\n        loading: false,\n        initialized: true,\n        hasMore: action.payload.hasMore,\n        allMessages: [\n          // todo: how to add date seperator?\n          ...action.payload.messages,\n          ...state.allMessages,\n        ],\n      };\n    case actionTypes.SEND_MESSAGEGE_START:\n      return {\n        ...state,\n        allMessages: [\n          ...state.allMessages,\n          { ...action.payload },\n        ],\n      };\n    case actionTypes.SEND_MESSAGEGE_SUCESS:\n      return {\n        ...state,\n        allMessages: state.allMessages.map((m) => (\n          m.reqId === action.payload.reqId\n            ? action.payload\n            : m\n        )),\n      };\n    // todo: implement complex cases\n    case actionTypes.SEND_MESSAGEGE_FAILURE:\n      return {\n        ...state,\n        allMessages: state.allMessages.map((m) => (\n          m.reqId === action.payload.reqId\n            ? { ...action.payload, failed: true }\n            : m\n        )),\n      };\n    case actionTypes.SET_CURRENT_CHANNEL: {\n      return {\n        ...state,\n        currentChannel: action.payload,\n      };\n    }\n    case actionTypes.ON_MESSAGE_RECEIVED: {\n      const { channel, message } = action.payload;\n      const { currentChannel } = state;\n      if (channel.url !== currentChannel) {\n        return state;\n      }\n      return {\n        ...state,\n        allMessages: [...state.allMessages, message],\n      };\n    }\n    case actionTypes.ON_MESSAGE_UPDATED:\n      return {\n        ...state,\n        allMessages: state.allMessages.map((m) => (\n          m.messageId === action.payload.messageId\n            ? action.payload\n            : m\n        )),\n      };\n    case actionTypes.ON_MESSAGE_DELETED:\n      return {\n        ...state,\n        allMessages: state.allMessages.filter((m) => (\n          m.messageId !== action.payload\n        )),\n      };\n    default:\n      return state;\n  }\n}\n","import * as messageActions from './actionTypes';\n\n// to do - in parallel - integrate to SDK\nexport default ({ messagesDispatcher, sdk, uniqueId }) => {\n  const ChannelHandler = new sdk.ChannelHandler();\n\n  ChannelHandler.onMessageReceived = (channel, message) => {\n    messagesDispatcher({\n      type: messageActions.ON_MESSAGE_RECEIVED,\n      payload: { channel, message },\n    });\n  };\n\n  ChannelHandler.onMessageUpdated = (_, message) => {\n    messagesDispatcher({\n      type: messageActions.ON_MESSAGE_UPDATED,\n      payload: message,\n    });\n  };\n\n  ChannelHandler.onMessageDeleted = (_, messageId) => {\n    messagesDispatcher({\n      type: messageActions.ON_MESSAGE_DELETED,\n      payload: messageId,\n    });\n  };\n\n  // Add this channel event handler to the SendBird object.\n  sdk.addChannelHandler(uniqueId, ChannelHandler);\n};\n","import Moment from 'moment';\n\nexport const getMessageCreatedAt = (message) => Moment(message.createdAt).format('LT');\n\nexport const getSenderName = (message) => (\n  message.sender && (\n    message.sender.friendName\n    || message.sender.nickname\n    || message.sender.userId\n  )\n);\n\nexport const getSenderProfileUrl = (message) => message.sender && message.sender.profileUrl;\n\nexport default {\n  getMessageCreatedAt,\n  getSenderName,\n  getSenderProfileUrl,\n};\n","const MessageStatusType = {\n  PENDING: 'PENDING',\n  SENT: 'SENT',\n  DELIVERED: 'DELIVERED',\n  READ: 'READ',\n  FAILED: 'FAILED',\n};\n\nexport default MessageStatusType;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Icon, { Types } from '../Icon';\nimport Label, { Typography, StringSet } from '../Label';\nimport Loader from '../Loader';\nimport MessageStatusType from './type';\n\nimport { Colors } from '../../utils/color';\nimport { getMessageCreatedAt } from '../../utils/utils';\n\nexport default function MessageStatus({\n  message,\n  status,\n  className,\n  onClickEvents,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n\n  const label = () => {\n    switch (status) {\n      case MessageStatusType.PENDING: {\n        return null;\n      }\n      case MessageStatusType.SENT:\n      case MessageStatusType.DELIVERED:\n      case MessageStatusType.READ: {\n        return (\n          <Label\n            className=\"sendbird-message-status__text\"\n            type={Typography.CAPTION_3}\n            color={Colors.ONBACKGROUND_2}\n          >\n            {getMessageCreatedAt(message)}\n          </Label>\n        );\n      }\n      case MessageStatusType.FAILED: {\n        // check onClickEvents\n        return (\n          <Label\n            className=\"sendbird-message-status__text\"\n            type={Typography.CAPTION_3}\n            color={Colors.ERROR}\n          >\n            {StringSet.MESSAGE_STATUS__SENDING_FAILED}\n            <span\n              className=\"sendbird-message-status__text__try-again\"\n              role=\"button\"\n              tabIndex={0}\n              onClick={onClickEvents[0]}\n              onKeyPress={onClickEvents[0]}\n            >\n              {StringSet.MESSAGE_STATUS__TRY_AGAIN}\n            </span>\n            {StringSet.MESSAGE_STATUS__OR}\n            <span\n              className=\"sendbird-message-status__text__delete\"\n              role=\"button\"\n              tabIndex={0}\n              onClick={onClickEvents[1]}\n              onKeyPress={onClickEvents[1]}\n            >\n              {StringSet.MESSAGE_STATUS__DELETE}\n            </span>\n          </Label>\n        );\n      }\n      default: return null;\n    }\n  };\n\n  const icon = {\n    PENDING: (\n      <Loader className=\"sendbird-message-status__icon\" width=\"16px\" height=\"16px\">\n        <Icon type={Types.SPINNER} width=\"16px\" height=\"16px\" />\n      </Loader>\n    ),\n    SENT: <Icon className=\"sendbird-message-status__icon\" width=\"16px\" height=\"16px\" type={Types.SENT} />,\n    DELIVERED: <Icon className=\"sendbird-message-status__icon\" width=\"16px\" height=\"16px\" type={Types.DELIVERED} />,\n    READ: <Icon className=\"sendbird-message-status__icon\" width=\"16px\" height=\"16px\" type={Types.READ} />,\n    FAILED: <Icon className=\"sendbird-message-status__icon\" width=\"16px\" height=\"16px\" type={Types.ERROR_FILLED} />,\n  };\n\n  return (\n    <div className={[...injectingClassName, 'sendbird-message-status'].join(' ')}>\n      {label(status)}\n      {icon[status]}\n    </div>\n  );\n}\n\nMessageStatus.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n  status: PropTypes.string,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  onClickEvents: PropTypes.arrayOf(PropTypes.func),\n};\n\nMessageStatus.defaultProps = {\n  message: null,\n  status: '',\n  className: '',\n  onClickEvents: [() => { }, () => { }],\n};\n","export const copyToClipboard = (text) => {\n  if (window.clipboardData && window.clipboardData.setData) {\n    // Internet Explorer-specific code path to prevent textarea being shown while dialog is visible.\n    return window.clipboardData.setData('Text', text);\n  }\n  if (document.queryCommandSupported && document.queryCommandSupported('copy')) {\n    const textarea = document.createElement('textarea');\n    textarea.textContent = text;\n    textarea.style.position = 'fixed'; // Prevent scrolling to bottom of page in Microsoft Edge.\n    document.body.appendChild(textarea);\n    textarea.select();\n    try {\n      return document.execCommand('copy'); // Security exception may be thrown by some browsers.\n    } catch (ex) {\n      return false;\n    } finally {\n      document.body.removeChild(textarea);\n    }\n  }\n  return false;\n};\n\nexport default copyToClipboard;\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { getMessageCreatedAt, getSenderProfileUrl, getSenderName } from '../../utils/utils';\nimport Avatar from '../Avatar';\nimport Label, { Typography, Colors } from '../Label';\nimport Icon, { Types } from '../Icon';\nimport IconButton from '../IconButton';\nimport MessageStatus from '../MessageStatus';\nimport ContextMenu, { MenuItem, MenuItems } from '../ContextMenu';\n\nimport { copyToClipboard } from './util';\n\nfunction OutgoingUserMessage({\n  message,\n  showEdit,\n  showRemove,\n  status,\n}) {\n  // TODO: when message.requestState is succeeded, consider if it's SENT or DELIVERED\n  const parentRef = useRef(null);\n  return (\n    <div className=\"sendbird-user-message--outgoing\">\n      <ContextMenu\n        menuTrigger={(toggleDropdown) => (\n          <IconButton\n            className=\"sendbird-user-message__more\"\n            width=\"32px\"\n            height=\"32px\"\n            onClick={toggleDropdown}\n          >\n            <Icon width=\"22px\" height=\"22px\" type={Types.MORE} />\n          </IconButton>\n        )}\n        menuItems={(closeDropdown) => (\n          <MenuItems parentRef={parentRef} closeDropdown={closeDropdown}>\n            <MenuItem\n              onClick={() => { copyToClipboard(message.message); closeDropdown(); }}\n            >\n              Copy\n            </MenuItem>\n            <MenuItem onClick={() => { showEdit(true); closeDropdown(); }}>\n              Edit\n            </MenuItem>\n            <MenuItem onClick={() => { showRemove(true); closeDropdown(); }}>\n              Delete\n            </MenuItem>\n          </MenuItems>\n        )}\n      />\n      <div className=\"sendbird-user-message__tooltip\" ref={parentRef}>\n        <Label\n          className=\"sendbird-user-message__tooltip__text\"\n          type={Typography.BODY_1}\n          color={Colors.ONBACKGROUND_1}\n        >\n          {message.message}\n        </Label>\n      </div>\n      <div className=\"sendbird-user-message__status\">\n        <MessageStatus message={message} status={status} />\n      </div>\n    </div>\n  );\n}\n\nfunction IncomingUserMessage({\n  message,\n}) {\n  const parentRef = useRef(null);\n  return (\n    <div className=\"sendbird-user-message--incoming\">\n      <Avatar\n        className=\"sendbird-user-message__avatar\"\n        src={getSenderProfileUrl(message)}\n        width=\"28px\"\n        height=\"28px\"\n      />\n      <Label\n        className=\"sendbird-user-message__sender-name\"\n        type={Typography.CAPTION_2}\n        color={Colors.ONBACKGROUND_2}\n      >\n        {getSenderName(message)}\n      </Label>\n      <div className=\"sendbird-user-message__tooltip\" ref={parentRef}>\n        <Label\n          className=\"sendbird-user-message__tooltip__text\"\n          type={Typography.BODY_1}\n          color={Colors.ONBACKGROUND_1}\n        >\n          {message.message}\n        </Label>\n      </div>\n      <Label\n        className=\"sendbird-user-message__sent-at\"\n        type={Typography.CAPTION_3}\n        color={Colors.ONBACKGROUND_2}\n      >\n        {getMessageCreatedAt(message)}\n      </Label>\n      <ContextMenu\n        menuTrigger={(toggleDropdown) => (\n          <IconButton\n            className=\"sendbird-user-message__more\"\n            width=\"32px\"\n            height=\"32px\"\n            onClick={toggleDropdown}\n          >\n            <Icon width=\"22px\" height=\"22px\" type={Types.MORE} />\n          </IconButton>\n        )}\n        menuItems={(closeDropdown) => (\n          <MenuItems parentRef={parentRef} closeDropdown={closeDropdown}>\n            <MenuItem\n              onClick={() => { copyToClipboard(message.message); closeDropdown(); }}\n            >\n              Copy\n            </MenuItem>\n          </MenuItems>\n        )}\n      />\n    </div>\n  );\n}\n\n\nIncomingUserMessage.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n};\n\nIncomingUserMessage.defaultProps = {\n  message: {},\n};\n\nOutgoingUserMessage.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n  showEdit: PropTypes.func.isRequired,\n  showRemove: PropTypes.func.isRequired,\n  status: PropTypes.string.isRequired,\n};\n\nOutgoingUserMessage.defaultProps = {\n  message: {},\n};\n\nexport {\n  OutgoingUserMessage,\n  IncomingUserMessage,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { OutgoingUserMessage, IncomingUserMessage } from '../UserMessage';\n\nconst noop = () => {};\n\nexport default function Message(props) {\n  const {\n    isByMe,\n    message,\n    className,\n    showEdit,\n    showRemove,\n    status,\n  } = props;\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  injectingClassName.push(`sendbird-message${isByMe ? '--outgoing' : '--incoming'}`);\n\n  if (!message) return null;\n\n  return (\n    <div className={[...injectingClassName, 'sendbird-message'].join(' ')}>\n      {\n        isByMe\n          ? (\n            <OutgoingUserMessage\n              message={message}\n              showEdit={showEdit}\n              showRemove={showRemove}\n              status={status}\n            />\n          )\n          : <IncomingUserMessage message={message} />\n        // file messages should be here\n      }\n    </div>\n  );\n}\n\nMessage.propTypes = {\n  isByMe: PropTypes.bool,\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])).isRequired,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  showEdit: PropTypes.func,\n  status: PropTypes.string.isRequired,\n  showRemove: PropTypes.func,\n};\n\nMessage.defaultProps = {\n  isByMe: false,\n  className: '',\n  showEdit: noop,\n  showRemove: noop,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { Typography } from '../Label';\nimport { Colors } from '../../utils/color';\n\nexport default function AdminMessage({\n  className,\n  message,\n}) {\n  if (!message.messageType || message.messageType !== 'admin') { // change to use message.isAdminMessage()\n    return null;\n  }\n\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div className={[...injectingClassName, 'sendbird-admin-message'].join(' ')}>\n      <Label className=\"sendbird-admin-message__text\" type={Typography.CAPTION_2} color={Colors.ONBACKGROUND_2}>\n        {message.message}\n      </Label>\n    </div>\n  );\n}\n\nAdminMessage.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nAdminMessage.defaultProps = {\n  message: {},\n  className: '',\n};\n","// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Complete_list_of_MIME_types\nconst SUPPORTED_MIMES = {\n  IMAGE: [\n    'image/jpeg',\n    'image/jpg',\n    'image/png',\n    'image/gif',\n    'image/webp', // not supported in IE\n  ],\n  VIDEO: [\n    'video/mpeg',\n    'video/ogg',\n    'video/webm',\n    'video/mp4',\n  ],\n};\n\nexport const isImage = (type) => SUPPORTED_MIMES.IMAGE.includes(type);\nexport const isVideo = (type) => SUPPORTED_MIMES.VIDEO.includes(type);\nexport const unSupported = (type) => !(isImage(type) || isVideo(type));\n\nexport default SUPPORTED_MIMES;\n","import React, { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport Label, { Typography, Colors } from '../Label';\nimport ContextMenu, { MenuItem, MenuItems } from '../ContextMenu';\nimport IconButton from '../IconButton';\nimport Icon, { Types } from '../Icon';\nimport MessageStatus from '../MessageStatus';\nimport {\n  isImage,\n  isVideo,\n  unSupported,\n} from '../FileViewer/types';\nimport {\n  getSenderName,\n  getSenderProfileUrl,\n} from '../../utils/utils';\n\nconst noop = () => { };\n\nexport default function ThumbnailMessage({\n  message = {},\n  isByMe,\n  onClick,\n  showRemove,\n  status,\n}) {\n  const {\n    type,\n    url,\n    name = '',\n  } = message;\n  const parentRef = useRef(null);\n  const [imgLoaded, setImgLoaded] = useState(false);\n  return (\n    <div\n      className={[\n        'sendbird-thumbnail',\n        (!isByMe ? 'sendbird-thumbnail--incoming' : ''),\n        (!imgLoaded ? 'sendbird-thumbnail--loading' : ''),\n      ].join(' ')}\n    >\n      {\n        !isByMe && (\n          <>\n            <Avatar\n              className=\"sendbird-thumbnail__avatar\"\n              src={getSenderProfileUrl(message)}\n              width=\"28px\"\n              height=\"28px\"\n            />\n            <Label\n              className=\"sendbird-thumbnail__sender-name\"\n              type={Typography.CAPTION_2}\n              color={Colors.ONBACKGROUND_2}\n            >\n              {getSenderName(message) || ''}\n            </Label>\n          </>\n        )\n      }\n      <div className=\"sendbird-thumbnail__body\">\n        {\n          isByMe && (\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                <IconButton\n                  className=\"sendbird-thumbnail__more\"\n                  width=\"32px\"\n                  height=\"32px\"\n                  onClick={toggleDropdown}\n                >\n                  <Icon width=\"22px\" height=\"22px\" type={Types.MORE} />\n                </IconButton>\n              )}\n              menuItems={(closeDropdown) => (\n                <MenuItems parentRef={parentRef} closeDropdown={closeDropdown}>\n                  <MenuItem onClick={() => { showRemove(true); closeDropdown(); }}>\n                    Delete\n                  </MenuItem>\n                </MenuItems>\n              )}\n            />\n          )\n        }\n        <div\n          ref={parentRef}\n          onClick={() => onClick(true)}\n          onKeyDown={() => onClick(true)}\n          tabIndex={0}\n          role=\"button\"\n          className=\"sendbird-thumbnail__wrap\"\n        >\n          {\n            isVideo(type) && (\n              // eslint-disable-next-line jsx-a11y/media-has-caption\n              <video\n                className=\"sendbird-thumbnail__video\"\n                onLoadedData={() => setImgLoaded(true)}\n              >\n                <source src={url} type={type} />\n              </video>\n            )\n          }\n          {\n            isImage(type) && (\n              <img\n                onLoad={() => setImgLoaded(true)}\n                src={url}\n                alt={name}\n                className=\"sendbird-thumbnail__img\"\n              />\n            )\n          }\n          {\n            unSupported(type) && (\n              <div className=\"sendbird-thumbnail__other\">\n                Unknown type\n              </div>\n            )\n          }\n          <div className=\"sendbird-thumbnail__wrap-overlay\" />\n        </div>\n        {isByMe && (\n          <div className=\"sendbird-thumbnail__status\">\n            <MessageStatus message={message} status={status} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nThumbnailMessage.propTypes = {\n  message: PropTypes.shape({\n    type: PropTypes.string,\n    url: PropTypes.string,\n    name: PropTypes.string,\n  }).isRequired,\n  status: PropTypes.string,\n  isByMe: PropTypes.bool,\n  onClick: PropTypes.func.isRequired,\n  showRemove: PropTypes.func,\n};\n\nThumbnailMessage.defaultProps = {\n  isByMe: false,\n  showRemove: noop,\n  status: '',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { changeColorToClassName, Colors } from '../../utils/color';\n\nexport default function TextButton({\n  color,\n  children,\n  className,\n  onClick,\n  notUnderline,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      className={[\n        ...injectingClassName,\n        changeColorToClassName(color),\n        (notUnderline ? 'sendbird-textbutton--not-underline' : 'sendbird-textbutton'),\n      ].join(' ')}\n      onClick={onClick}\n      onKeyPress={onClick}\n    >\n      {children}\n    </div>\n  );\n}\n\nTextButton.propTypes = {\n  color: PropTypes.string,\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  onClick: PropTypes.func,\n  notUnderline: PropTypes.bool,\n};\n\nTextButton.defaultProps = {\n  color: Colors.ONBACKGROUND_1,\n  className: '',\n  onClick: () => { },\n  notUnderline: false,\n};\n","export const truncate = (fullStr, strLen) => {\n  if (fullStr.length <= strLen) return fullStr;\n  const separator = '...';\n  const sepLen = separator.length;\n  const charsToShow = strLen - sepLen;\n  const frontChars = Math.ceil(charsToShow / 2);\n  const backChars = Math.floor(charsToShow / 2);\n  return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);\n};\n\nexport default truncate;\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Avatar from '../Avatar';\nimport IconButton from '../IconButton';\nimport Icon, { Types } from '../Icon';\nimport TextButton from '../TextButton';\nimport Label, { Typography } from '../Label';\nimport MessageStatus from '../MessageStatus';\nimport ContextMenu, { MenuItem, MenuItems } from '../ContextMenu';\n\nimport { Colors } from '../../utils/color';\nimport { getSenderProfileUrl, getSenderName, getMessageCreatedAt } from '../../utils/utils';\nimport { truncate } from './utils';\n\nconst MAX_TRUNCATE_LENGTH = 40;\nconst noop = () => { };\n\nfunction checkFileType(fileUrl) {\n  let result = null;\n  const imageFile = /(\\.gif|\\.jpg|\\.jpeg|\\.txt|\\.pdf)$/i;\n  const audioFile = /(\\.mp3)$/i;\n  if (imageFile.test(fileUrl)) {\n    result = Types.FILE_DOCUMENT;\n  } else if (audioFile.test(fileUrl)) {\n    result = Types.FILE_AUDIO;\n  }\n  return result;\n}\n\nexport function OutgoingFileMessage({\n  message,\n  status,\n  showRemove,\n}) {\n  const {\n    url,\n  } = message;\n  const openFileUrl = () => { window.open(url); };\n  const parentRef = useRef(null);\n  return (\n    <div className=\"sendbird-file-message__outgoing\" ref={parentRef}>\n      <ContextMenu\n        menuTrigger={(toggleDropdown) => (\n          <IconButton\n            className=\"sendbird-file-message__more\"\n            width=\"32px\"\n            height=\"32px\"\n            onClick={toggleDropdown}\n          >\n            <Icon width=\"22px\" height=\"22px\" type={Types.MORE} />\n          </IconButton>\n        )}\n        menuItems={(closeDropdown) => (\n          <MenuItems parentRef={parentRef} closeDropdown={closeDropdown}>\n            <MenuItem onClick={() => { showRemove(true); closeDropdown(); }}>\n              Delete\n            </MenuItem>\n          </MenuItems>\n        )}\n      />\n      <div className=\"sendbird-file-message__tooltip\">\n        {\n          checkFileType(url)\n            ? (\n              <Icon\n                className=\"sendbird-file-message__tooltip__icon\"\n                width=\"28px\"\n                height=\"28px\"\n                type={checkFileType(url)}\n              />\n            )\n            : null\n        }\n        <TextButton\n          className=\"sendbird-file-message__tooltip__text\"\n          onClick={openFileUrl}\n        >\n          <Label\n            type={Typography.BODY_1}\n            color={Colors.ONBACKGROUND_1}\n          >\n            {truncate(message.url, MAX_TRUNCATE_LENGTH)}\n          </Label>\n        </TextButton>\n      </div>\n      <div className=\"sendbird-file-message__status\">\n        <MessageStatus message={message} status={status} />\n      </div>\n    </div>\n  );\n}\n\nexport function IncomingFileMessage({\n  message,\n}) {\n  const openFileUrl = () => { window.open(message.url); };\n  return (\n    <div className=\"sendbird-file-message__incoming\">\n      <Avatar\n        className=\"sendbird-file-message__avatar\"\n        src={getSenderProfileUrl(message)}\n        width=\"28px\"\n        height=\"28px\"\n      />\n      <Label\n        className=\"sendbird-file-message__sender-name\"\n        type={Typography.CAPTION_2}\n        color={Colors.ONBACKGROUND_2}\n      >\n        {getSenderName(message)}\n      </Label>\n      <div className=\"sendbird-file-message__tooltip\">\n        {\n          checkFileType(message.url)\n            ? (\n              <Icon\n                className=\"sendbird-file-message__tooltip__icon\"\n                width=\"28px\"\n                height=\"28px\"\n                type={checkFileType(message.url)}\n              />\n            )\n            : null\n        }\n        <TextButton\n          className=\"sendbird-file-message__tooltip__text\"\n          onClick={openFileUrl}\n        >\n          <Label\n            type={Typography.BODY_1}\n            color={Colors.ONBACKGROUND_1}\n          >\n            {truncate(message.url, MAX_TRUNCATE_LENGTH)}\n          </Label>\n        </TextButton>\n      </div>\n      <Label\n        className=\"sendbird-file-message__sent-at\"\n        type={Typography.CAPTION_3}\n        color={Colors.ONBACKGROUND_2}\n      >\n        {getMessageCreatedAt(message)}\n      </Label>\n    </div>\n  );\n}\n\nOutgoingFileMessage.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n  status: PropTypes.string.isRequired,\n  showRemove: PropTypes.func.isRequired,\n};\n\nOutgoingFileMessage.defaultProps = {\n  message: {},\n};\n\nIncomingFileMessage.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n};\n\nIncomingFileMessage.defaultProps = {\n  message: {},\n};\n\nconst MessageSwitch = ({\n  message,\n  isByMe,\n  showRemove,\n  status,\n}) => (\n  <div className={`sendbird-file-message${isByMe ? '--outgoing' : '--incoming'}`}>\n    {\n      isByMe\n        ? (<OutgoingFileMessage message={message} showRemove={showRemove} status={status} />)\n        : (<IncomingFileMessage message={message} />)\n    }\n  </div>\n);\n\n\nMessageSwitch.propTypes = {\n  message: PropTypes.shape({}),\n  isByMe: PropTypes.bool,\n  showRemove: PropTypes.func,\n  status: PropTypes.string.isRequired,\n};\n\nMessageSwitch.defaultProps = {\n  message: {},\n  isByMe: false,\n  showRemove: noop,\n};\n\nexport default MessageSwitch;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { changeColorToClassName, Colors } from '../../utils/color';\nimport Label, { Typography } from '../Label';\n\nexport default function DateSeparator({\n  className,\n  children,\n  separatorColor,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      className={[...injectingClassName, 'sendbird-separator'].join(' ')}\n    >\n      <div className={[`${changeColorToClassName(separatorColor)}--background-color`, 'sendbird-separator__left'].join(' ')} />\n      <div className=\"sendbird-separator__text\">{children}</div>\n      <div className={[`${changeColorToClassName(separatorColor)}--background-color`, 'sendbird-separator__right'].join(' ')} />\n    </div>\n  );\n}\n\nDateSeparator.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n    PropTypes.element,\n  ]),\n  separatorColor: PropTypes.string,\n};\n\nDateSeparator.defaultProps = {\n  className: '',\n  children: (\n    <Label type={Typography.CAPTION_2} color={Colors.ONBACKGROUND_2}>\n      Date Separator\n    </Label>\n  ),\n  separatorColor: Colors.ONBACKGROUND_4,\n};\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport IconButton from '../IconButton';\nimport Button from '../Button';\nimport { Type, Size } from '../Button/type';\n\nimport Icon, { Types as IconTypes } from '../Icon';\nimport Label, { Typography, Colors, StringSet } from '../Label';\n\n// import IconSend from '../../svgs/icon-send.svg';\n// import IconAttach from '../../svgs/icon-attach.svg';\n\nconst LINE_HEIGHT = 76;\nconst noop = () => { };\n\n// https://stackoverflow.com/questions/17772260/textarea-auto-height\nconst setHeight = (e) => {\n  const elem = e.target;\n  elem.style.height = 'auto';\n  if (elem.scrollHeight > LINE_HEIGHT) {\n    elem.style.height = `${elem.scrollHeight}px`;\n  } else {\n    elem.style.height = '';\n  }\n};\n\nconst handleUploadFile = (callback) => (event) => {\n  if (event.target.files && event.target.files[0]) {\n    callback(event.target.files[0]);\n  }\n};\n\nconst MessageInput = React.forwardRef((props, ref) => {\n  const {\n    isEdit,\n    disabled,\n    value,\n    name,\n    placeholder,\n    maxLength,\n    onFileUpload,\n    onSendMessage,\n    onCancelEdit,\n    onStartTyping,\n  } = props;\n\n  const fileInputRef = useRef(null);\n  const [inputValue, setInputValue] = useState(value);\n\n  return (\n    <form\n      className={`${isEdit ? 'sendbird-message-input__edit' : ''}`}\n    >\n      <div\n        className={`\n          sendbird-message-input\n          ${disabled ? 'sendbird-message-input__disabled' : ''}\n        `}\n      >\n        <textarea\n          disabled={disabled}\n          ref={ref}\n          name={name}\n          value={inputValue}\n          className=\"sendbird-message-input--textarea\"\n          maxLength={maxLength}\n          onKeyDown={() => {\n            onStartTyping();\n          }}\n          onChange={(e) => {\n            setInputValue(e.target.value);\n          }}\n          onInput={setHeight}\n        />\n        {/* placeholder */}\n        {!inputValue && (\n          <Label\n            type={Typography.BODY_1}\n            color={Colors.ONBACKGROUND_3}\n            className=\"sendbird-message-input--placeholder\"\n          >\n            {placeholder || StringSet.CHANNEL__MESSAGE_INPUT__PLACE_HOLDER}\n          </Label>\n        )}\n        {/* upload icon */}\n        {\n          (!isEdit && !inputValue) && (\n            <IconButton\n              className=\"sendbird-message-input--attach\"\n              height=\"32px\"\n              width=\"32px\"\n              onClick={() => {\n                // todo: clear previous input\n                fileInputRef.current.click();\n              }}\n            >\n              <Icon type={IconTypes.ATTACH} width=\"20px\" height=\"20px\" />\n              <input\n                type=\"file\"\n                ref={fileInputRef}\n                onChange={handleUploadFile(onFileUpload)}\n                className=\"sendbird-message-input--attach-input\"\n              />\n            </IconButton>\n          )\n        }\n        {/* send icon */}\n        {\n          (!isEdit && inputValue) && (\n            <IconButton\n              className=\"sendbird-message-input--send\"\n              height=\"32px\"\n              width=\"32px\"\n              onClick={() => {\n                onSendMessage(inputValue);\n                setInputValue('');\n              }}\n            >\n              <Icon type={IconTypes.SEND} width=\"20px\" height=\"20px\" />\n            </IconButton>\n          )\n        }\n      </div>\n      {/* Edit */}\n      {\n        isEdit && (\n          <div className=\"sendbird-message-input--edit-action\">\n            <Button\n              className=\"sendbird-message-input--edit-action__cancel\"\n              type={Type.SECONDARY}\n              size={Size.SMALL}\n              onClick={onCancelEdit}\n            >\n              {StringSet.BUTTON__CANCEL}\n            </Button>\n            <Button\n              className=\"sendbird-message-input--edit-action__save\"\n              type={Type.PRIMARY}\n              size={Size.SMALL}\n              onClick={() => {\n                onSendMessage(name, inputValue, () => {\n                  onCancelEdit();\n                });\n              }}\n            >\n              {StringSet.BUTTON__SAVE}\n            </Button>\n          </div>\n        )\n      }\n    </form>\n  );\n});\n\nMessageInput.propTypes = {\n  placeholder: PropTypes.string,\n  isEdit: PropTypes.bool,\n  name: PropTypes.string,\n  value: PropTypes.string,\n  disabled: PropTypes.bool,\n  maxLength: PropTypes.number,\n  onFileUpload: PropTypes.func,\n  onSendMessage: PropTypes.func.isRequired,\n  onStartTyping: PropTypes.func,\n  onCancelEdit: PropTypes.func,\n};\n\nMessageInput.defaultProps = {\n  value: '',\n  name: 'sendbird-message-input',\n  isEdit: false,\n  disabled: false,\n  placeholder: '',\n  maxLength: 5000,\n  onFileUpload: noop,\n  onCancelEdit: noop,\n  onStartTyping: noop,\n};\n\nexport default MessageInput;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nimport './index.scss';\nimport Avatar from '../Avatar';\nimport Label, { Typography, Colors } from '../Label';\nimport Icon, { Types as IconTypes } from '../Icon';\nimport { MODAL_ROOT } from '../../hooks/useModal/ModalRoot';\n\nimport { isImage, isVideo, unSupported } from './types';\n\nexport const FileViewerComponent = ({\n  profileUrl,\n  nickname,\n  type,\n  url,\n  name,\n  onClose,\n  onDelete,\n  isByMe,\n}) => (\n  <div className=\"sendbird-fileviewer\">\n    <div className=\"sendbird-fileviewer__header\">\n      <div className=\"sendbird-fileviewer__header-left\">\n        <div className=\"sendbird-fileviewer__header-avatar\">\n          <Avatar height=\"32px\" width=\"32px\" src={profileUrl} />\n        </div>\n        <Label\n          className=\"sendbird-fileviewer__header-filename\"\n          type={Typography.H_2}\n          color={Colors.ONBACKGROUND_1}\n        >\n          {name}\n        </Label>\n        <Label\n          className=\"sendbird-fileviewer__header-sendername\"\n          type={Typography.BODY_1}\n          color={Colors.ONBACKGROUND_2}\n        >\n          {nickname}\n        </Label>\n      </div>\n      <div className=\"sendbird-fileviewer__header-right\">\n        {\n          !unSupported(type) && (\n            <div className=\"sendbird-fileviewer__header-actions\">\n              <a\n                href={url}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n                className=\"sendbird-fileviewer__header-download\"\n              >\n                <Icon\n                  type={IconTypes.DOWNLOAD}\n                  height=\"22px\"\n                  width=\"22px\"\n                />\n              </a>\n              {\n                onDelete && isByMe && (\n                  <div className=\"sendbird-fileviewer__header-delete\">\n                    <Icon\n                      type={IconTypes.DELETE}\n                      height=\"22px\"\n                      width=\"22px\"\n                      onClick={onDelete}\n                    />\n                  </div>\n                )\n              }\n            </div>\n          )\n        }\n        <div className=\"sendbird-fileviewer__header-close\">\n          <Icon\n            type={IconTypes.CLOSE}\n            height=\"22px\"\n            width=\"22px\"\n            onClick={onClose}\n          />\n        </div>\n      </div>\n    </div>\n    <div className=\"sendbird-fileviewer__content\">\n      {isVideo(type) && (\n        // eslint-disable-next-line jsx-a11y/media-has-caption\n        <video controls className=\"sendbird-fileviewer__video\">\n          <source src={url} type={type} />\n        </video>\n      )}\n      {\n        isImage(type) && (\n          <img\n            src={url}\n            alt={name}\n            className=\"sendbird-fileviewer__img\"\n          />\n        )\n      }\n      {\n        unSupported(type) && (\n          <div className=\"sendbird-fileviewer__unsupported\">\n            <Label type={Typography.H_1} color={Colors.ONBACKGROUND_1}>\n              Unsupoprted message\n            </Label>\n          </div>\n        )\n      }\n    </div>\n  </div>\n);\n\nFileViewerComponent.propTypes = {\n  profileUrl: PropTypes.string.isRequired,\n  nickname: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  isByMe: PropTypes.bool,\n};\n\nFileViewerComponent.defaultProps = {\n  isByMe: true,\n};\n\nexport default function FileViewer(props) {\n  const {\n    onClose,\n    message,\n    onDelete,\n    isByMe,\n  } = props;\n  const {\n    sender,\n    type,\n    url,\n    name = '',\n  } = message;\n  const { profileUrl, nickname = '' } = sender;\n  return createPortal(\n    (\n      <FileViewerComponent\n        profileUrl={profileUrl}\n        nickname={nickname}\n        type={type}\n        url={url}\n        name={name}\n        onClose={onClose}\n        onDelete={onDelete}\n        isByMe={isByMe}\n      />\n    ),\n    document.getElementById(MODAL_ROOT),\n  );\n}\n\nFileViewer.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  message: PropTypes.shape({\n    sender: PropTypes.shape({\n      profileUrl: PropTypes.string,\n      nickname: PropTypes.string,\n    }),\n    type: PropTypes.string,\n    url: PropTypes.string,\n    name: PropTypes.string,\n  }).isRequired,\n  onDelete: PropTypes.func.isRequired,\n  isByMe: PropTypes.bool,\n};\n\nFileViewer.defaultProps = {\n  isByMe: true,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Modal from '../../../ui/Modal';\nimport { StringSet } from '../../../ui/Label';\n\nconst RemoveMessage = (props) => {\n  const {\n    onCloseModal,\n    onDeleteMessage,\n  } = props;\n  return (\n    <Modal\n      onCancel={onCloseModal}\n      onSubmit={onDeleteMessage}\n      submitText=\"Delete\"\n      titleText={StringSet.MODAL__DELETE_MESSAGE__TITLE}\n    />\n  );\n};\n\nRemoveMessage.propTypes = {\n  onCloseModal: PropTypes.func.isRequired,\n  onDeleteMessage: PropTypes.func.isRequired,\n};\n\nexport default RemoveMessage;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport Message from '../../../ui/Message';\nimport AdminMessage from '../../../ui/AdminMessage';\nimport ThumbnailMessage from '../../../ui/ThumbnailMessage';\nimport FileMessage from '../../../ui/FileMessage';\nimport DateSeparator from '../../../ui/DateSeparator';\nimport Label, { Typography, Colors } from '../../../ui/Label';\nimport MessageInput from '../../../ui/MessageInput';\nimport FileViewer from '../../../ui/FileViewer';\nimport RemoveMessageModal from './RemoveMessage';\n\nimport { isImage, isVideo } from '../../../ui/FileViewer/types';\n\nexport default function MessageHoc({\n  message,\n  userId,\n  hasSeperator,\n  deleteMessage,\n  updateMessage,\n  status,\n}) {\n  const { sender = {} } = message;\n  const [showEdit, setShowEdit] = useState(false);\n  const [showRemove, setShowRemove] = useState(false);\n  const [showFileViewer, setShowFileViewer] = useState(false);\n\n  const isByMe = (userId === sender.userId)\n    || (message.requestState === 'pending')\n    || (message.requestState === 'failed');\n\n  if (showEdit) {\n    return (\n      <MessageInput\n        isEdit\n        name={message.messageId}\n        onSendMessage={updateMessage}\n        onCancelEdit={() => { setShowEdit(false); }}\n        value={message.message}\n      />\n    );\n  }\n  return (\n    <div className=\"sendbird-msg-hoc\">\n      {/* date-seperator */}\n      {\n        hasSeperator && (\n          <DateSeparator>\n            <Label type={Typography.CAPTION_2} color={Colors.ONBACKGROUND_2}>\n              {moment(message.createdAt).format('LL')}\n            </Label>\n          </DateSeparator>\n        )\n      }\n      {/* file message */}\n      {\n        ((message.isFileMessage && message.isFileMessage()) || message.messageType === 'file') && (\n          <>\n            {\n              isImage(message.type) || isVideo(message.type)\n                ? (\n                  <ThumbnailMessage\n                    message={message}\n                    isByMe={isByMe}\n                    showRemove={setShowRemove}\n                    onClick={setShowFileViewer}\n                    status={status}\n                  />\n                )\n                : (\n                  <FileMessage\n                    message={message}\n                    isByMe={isByMe}\n                    showRemove={setShowRemove}\n                    status={status}\n                  />\n                )\n            }\n          </>\n        )\n      }\n      {/* admin message */}\n      {\n        message.isAdminMessage && message.isAdminMessage() && (\n          <AdminMessage message={message} />\n        )\n      }\n      {/* user message */}\n      {\n        ((message.isUserMessage && message.isUserMessage()) || message.messageType === 'user')\n        && (\n          <Message\n            message={message}\n            isByMe={isByMe}\n            showEdit={setShowEdit}\n            showRemove={setShowRemove}\n            status={status}\n          />\n        )\n      }\n      {/* Modal */}\n      {\n        showRemove && (\n          <RemoveMessageModal\n            onCloseModal={() => setShowRemove(false)}\n            onDeleteMessage={() => {\n              deleteMessage(message, () => {\n                setShowRemove(false);\n              });\n            }}\n          />\n        )\n      }\n      {\n        showFileViewer && (\n          <FileViewer\n            onClose={() => setShowFileViewer(false)}\n            message={message}\n            onDelete={() => {\n              deleteMessage(message, () => {\n                setShowFileViewer(false);\n              });\n            }}\n            isByMe={isByMe}\n          />\n        )\n      }\n    </div>\n  );\n}\n\nMessageHoc.propTypes = {\n  userId: PropTypes.string,\n  message: PropTypes.shape({\n    isFileMessage: PropTypes.func,\n    isAdminMessage: PropTypes.func,\n    isUserMessage: PropTypes.func,\n    isDateSeperator: PropTypes.func,\n    messageId: PropTypes.string,\n    type: PropTypes.string,\n    createdAt: PropTypes.string,\n    message: PropTypes.string,\n    requestState: PropTypes.string,\n    messageType: PropTypes.string,\n    sender: PropTypes.shape({ userId: PropTypes.string }),\n  }),\n  hasSeperator: PropTypes.bool,\n  deleteMessage: PropTypes.func.isRequired,\n  updateMessage: PropTypes.func.isRequired,\n  status: PropTypes.string.isRequired,\n};\n\nMessageHoc.defaultProps = {\n  userId: '',\n  message: {},\n  hasSeperator: false,\n};\n","import MessageStatusType from '../../ui/MessageStatus/type';\n\nexport const scrollIntoLast = (selector, intialTry = 0) => {\n  const MAX_TRIES = 10;\n  const currentTry = intialTry;\n  if (currentTry > MAX_TRIES) {\n    return;\n  }\n  try {\n    const nodes = document.querySelectorAll(selector);\n    const last = nodes[nodes.length - 1];\n    last.scrollIntoView();\n  } catch (error) {\n    setTimeout(() => {\n      scrollIntoLast(selector, currentTry + 1);\n    }, 500 * currentTry);\n  }\n};\n\nexport const getParsedStatus = (message, currentGroupChannel) => {\n  if (message.requestState === 'failed') {\n    return MessageStatusType.FAILED;\n  }\n\n  if (message.requestState === 'pending') {\n    return MessageStatusType.PENDING;\n  }\n\n  if (message.requestState === 'succeeded') {\n    if (!currentGroupChannel) {\n      return MessageStatusType.SENT;\n    }\n\n    const unreadCount = currentGroupChannel.getReadReceipt(message);\n    if (unreadCount === 0) {\n      return MessageStatusType.READ;\n    }\n\n    const isDelivered = currentGroupChannel.getDeliveryReceipt(message) === 0;\n    if (isDelivered) {\n      return MessageStatusType.DELIVERED;\n    }\n\n    return MessageStatusType.SENT;\n  }\n\n  return null;\n};\n\nexport default getParsedStatus;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport './conversation-scroll.scss';\nimport * as messageActionTypes from '../dux/actionTypes';\n\nimport MessageHOC from './MessageHOC';\nimport { getParsedStatus } from '../utils';\n\nexport default class ConversationScroll extends Component {\n  onScroll = (e) => {\n    const {\n      scrollRef,\n      hasMore,\n      messagesDispatcher,\n      messageSource,\n    } = this.props;\n\n    const element = e.target;\n    const {\n      scrollTop,\n    } = element;\n    if (scrollTop === 0) {\n      if (!hasMore) {\n        return;\n      }\n      const nodes = scrollRef.current.querySelectorAll('.sendbird-msg');\n      const first = nodes[0];\n      messageSource.load((messages, error) => {\n        if (error) {\n          return;\n        }\n        messagesDispatcher({\n          type: messageActionTypes.GET_PREV_MESSAGES_SUCESS,\n          payload: {\n            messages,\n            hasMore: messageSource.hasMore,\n          },\n        });\n        setTimeout(() => {\n          // https://github.com/scabbiaza/react-scroll-position-on-updating-dom\n          first.scrollIntoView();\n        });\n      });\n    }\n  }\n\n  render() {\n    const {\n      scrollRef,\n      hasMore,\n      initialized,\n      allMessages,\n      userId,\n      deleteMessage,\n      updateMessage,\n      readStatus,\n      currentGroupChannel,\n      renderChatItem,\n    } = this.props;\n    return (\n      <div className=\"sendbird-conversation__messages\">\n        <div\n          ref={scrollRef}\n          className=\"sendbird-conversation__scroll-container\"\n          onScroll={this.onScroll}\n        >\n          <div className=\"sendbird-conversation__padding\">\n            {hasMore && 'LoadMore'}\n          </div>\n          <div>\n            {\n              initialized\n              && allMessages.map(\n                (m, idx) => {\n                  const prev = allMessages[idx - 1];\n                  const prevCreatedAt = prev && prev.createdAt;\n                  const currentCreatedAt = m.createdAt;\n                  // https://stackoverflow.com/a/41855608\n                  const hasSeperator = !(prevCreatedAt && (\n                    moment(currentCreatedAt).isSame(moment(prevCreatedAt), 'day')\n                  ));\n\n                  if (renderChatItem) {\n                    return (\n                      <div key={m.messageId}>\n                        {\n                          renderChatItem({\n                            message: m,\n                            onDeleteMessage: deleteMessage,\n                            onUpdateMessage: updateMessage,\n                          })\n                        }\n                      </div>\n                    );\n                  }\n\n                  return (\n                    <MessageHOC\n                      // show status for pending/failed messages\n                      status={readStatus[m.messageId] || getParsedStatus(m, currentGroupChannel)}\n                      key={m.messageId}\n                      message={m}\n                      userId={userId}\n                      hasSeperator={hasSeperator}\n                      deleteMessage={deleteMessage}\n                      updateMessage={updateMessage}\n                    />\n                  );\n                },\n              )\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nConversationScroll.propTypes = {\n  // https://stackoverflow.com/a/52646941\n  scrollRef: PropTypes.shape({ current: PropTypes.elementType }).isRequired,\n  hasMore: PropTypes.bool,\n  messagesDispatcher: PropTypes.func.isRequired,\n  messageSource: PropTypes.shape({\n    load: PropTypes.func,\n    hasMore: PropTypes.bool,\n  }).isRequired,\n  initialized: PropTypes.bool,\n  userId: PropTypes.string,\n  allMessages: PropTypes.arrayOf(PropTypes.shape({\n    createdAt: PropTypes.string,\n  })).isRequired,\n  deleteMessage: PropTypes.func.isRequired,\n  updateMessage: PropTypes.func.isRequired,\n  readStatus: PropTypes.shape({}).isRequired,\n  currentGroupChannel: PropTypes.shape({}).isRequired,\n  renderChatItem: PropTypes.element,\n};\n\nConversationScroll.defaultProps = {\n  hasMore: false,\n  initialized: false,\n  userId: '',\n  renderChatItem: null,\n};\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { uuidv4 } from '../../../utils/uuid';\nimport Label, { Typography, Colors, StringSet } from '../../../ui/Label';\n\nconst generateName = (members) => {\n  if (!members || members.length === 0) {\n    return '';\n  }\n\n  if (members && members.length === 1) {\n    return `${members[0].nickname} ${StringSet.TYPING_INDICATOR__IS_TYPING}`;\n  }\n\n  if (members && members.length === 2) {\n    return `${members[0].nickname} ${StringSet.TYPING_INDICATOR__AND} ${members[1].nickname} ${StringSet.TYPING_INDICATOR__ARE_TYPING}`;\n  }\n\n  return StringSet.TYPING_INDICATOR__MULTIPLE_TYPING;\n};\n\nfunction TypingIndicator({ channelUrl, sb }) {\n  const [handlerId, setHandlerId] = useState(uuidv4());\n  const [typingMembers, setTypingMembers] = useState([]);\n  useEffect(() => {\n    if (sb && sb.ChannelHandler) {\n      sb.removeChannelHandler(handlerId);\n      const newHandlerId = uuidv4();\n      const handler = new sb.ChannelHandler();\n      handler.onTypingStatusUpdated = (groupChannel) => {\n        const members = groupChannel.getTypingMembers();\n        if (groupChannel.url === channelUrl) {\n          setTypingMembers(members);\n        }\n      };\n      sb.addChannelHandler(newHandlerId, handler);\n      setHandlerId(newHandlerId);\n    }\n\n    return () => {\n      if (sb && sb.removeChannelHandler) {\n        sb.removeChannelHandler(handlerId);\n      }\n    };\n  }, [channelUrl]);\n  return (\n    <Label type={Typography.CAPTION_2} color={Colors.ONBACKGROUND_2}>\n      {generateName(typingMembers)}\n    </Label>\n  );\n}\n\nTypingIndicator.propTypes = {\n  channelUrl: PropTypes.string.isRequired,\n  sb: PropTypes.shape({\n    ChannelHandler: PropTypes.func,\n    removeChannelHandler: PropTypes.func,\n    addChannelHandler: PropTypes.func,\n  }).isRequired,\n};\n\nexport default TypingIndicator;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function AutoRefresh({\n  repeatFunc,\n}) {\n  const [label, setLabel] = useState('');\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (label !== repeatFunc()) {\n        setLabel(repeatFunc());\n      }\n    }, 10000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, []);\n\n  return (<div className=\"sendbird-repeat-text\">{label}</div>);\n}\n\nAutoRefresh.propTypes = {\n  repeatFunc: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Avatar from '../Avatar';\nimport Label, { Typography, Colors } from '../Label';\nimport Icon, { Types } from '../Icon';\nimport IconButton from '../IconButton';\nimport AutoRefresh from '../AutoRefresh';\n\nexport default function ChatHeader({\n  avatar,\n  title,\n  subTitle,\n  getLastSeenAt,\n  isActive,\n  isMuted,\n  onActionClick,\n}) {\n  return (\n    <div className=\"sendbird-chat-header\">\n      <div className=\"sendbird-chat-header__left\">\n        <Avatar\n          className=\"sendbird-chat-header__avatar\"\n          src={avatar}\n          width=\"32px\"\n          height=\"32px\"\n        />\n        <Label\n          className=\"sendbird-chat-header__title\"\n          type={Typography.H_2}\n          color={Colors.ONBACKGROUND_1}\n        >\n          {title}\n        </Label>\n        {\n          (typeof isActive === 'string' && isActive === 'true') || (typeof isActive === 'boolean' && isActive)\n            ? <div className=\"sendbird-chat-header__active\" />\n            : null\n        }\n        <Label\n          className=\"sendbird-chat-header__subtitle\"\n          type={Typography.BODY_1}\n          color={Colors.ONBACKGROUND_2}\n        >\n          {subTitle || <AutoRefresh repeatFunc={getLastSeenAt} />}\n        </Label>\n      </div>\n      <div className=\"sendbird-chat-header__right\">\n        {\n          (typeof isMuted === 'string' && isMuted === 'true') || (typeof isMuted === 'boolean' && isMuted)\n            ? <Icon className=\"sendbird-chat-header__mute\" type={Types.MUTE} width=\"24px\" height=\"24px\" />\n            : null\n        }\n        <IconButton\n          className=\"sendbird-chat-header__info\"\n          width=\"32px\"\n          height=\"32px\"\n          onClick={onActionClick}\n        >\n          <Icon type={Types.INFO} width=\"22px\" height=\"22px\" />\n        </IconButton>\n      </div>\n    </div>\n  );\n}\n\nChatHeader.propTypes = {\n  avatar: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  title: PropTypes.string,\n  getLastSeenAt: PropTypes.func,\n  subTitle: PropTypes.string,\n  isActive: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n  ]),\n  isMuted: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n  ]),\n  onActionClick: PropTypes.func,\n};\n\nChatHeader.defaultProps = {\n  avatar: '',\n  title: '',\n  subTitle: '',\n  getLastSeenAt: () => { },\n  isActive: false,\n  isMuted: false,\n  onActionClick: () => { },\n};\n","import React, {\n  useEffect,\n  useState,\n  useRef,\n  useReducer,\n} from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\nimport * as messageActionTypes from './dux/actionTypes';\nimport messagesInitialState from './dux/initialState';\nimport messagesReducer from './dux/reducers';\nimport eventHandler from './dux/eventListener';\n\nimport ConversationScroll from './components/ConversationScroll';\nimport TypingIndicator from './components/TypingIndicator';\nimport ChatHeader from '../../ui/ChatHeader';\nimport MessageInput from '../../ui/MessageInput';\nimport {\n  getChannelAvatarSource,\n  getChannelTitle,\n  getLastSeenAt,\n} from '../../ui/ChannelPreview/utils';\nimport { uuidv4 } from '../../utils/uuid';\nimport { getParsedStatus, scrollIntoLast } from './utils';\nimport PlaceHolder from '../../ui/PlaceHolder';\nimport PlaceHolderTypes from '../../ui/PlaceHolder/type';\n\nconst noop = () => {};\n\nexport const ConversationPanel = (props) => {\n  const {\n    channelUrl,\n    stores: { sdkStore },\n    config: { userId },\n    renderChatItem,\n    onChatHeaderActionClick,\n  } = props;\n\n  const { sdk } = sdkStore;\n  const sdkInit = sdkStore.initialized;\n\n  const [messagesStore, messagesDispatcher] = useReducer(messagesReducer, messagesInitialState);\n  const [messageSource, setMessageSource] = useState(null);\n  const [invalidChannel, setInvalidChannel] = useState(false);\n  const [channelHandlerId, setChannelHandlerId] = useState(uuidv4());\n  // map to update read status of messages\n  const [readStatus, setReadStatus] = useState({});\n  const [messageReciverId, setMessageReciverId] = useState();\n  const [currentGroupChannel, setCurrentGroupChannel] = useState({});\n  const messageInputRef = useRef(null);\n  const scrollRef = useRef(null);\n\n  const {\n    allMessages,\n    loading,\n    hasMore,\n    initialized,\n  } = messagesStore;\n\n  // to create message-datasource\n  useEffect(() => {\n    messagesDispatcher({\n      type: messageActionTypes.RESET_MESSAGES,\n    });\n    if (!sdkInit) {\n      setMessageSource(null);\n    }\n    if (channelUrl && sdkInit) {\n      messagesDispatcher({\n        type: messageActionTypes.SET_CURRENT_CHANNEL,\n        payload: channelUrl,\n      });\n      // remove previous handler\n      sdk.removeChannelHandler(channelHandlerId);\n      sdk.GroupChannel.getChannel(channelUrl, (groupChannel) => {\n        if (!groupChannel) {\n          setInvalidChannel(true);\n          return;\n        }\n\n        setInvalidChannel(false);\n        setCurrentGroupChannel(groupChannel);\n\n        // for handling read status on the go\n        const handler = new sdk.ChannelHandler();\n        handler.onReadReceiptUpdated = (c) => {\n          if (channelUrl === c.url) {\n            const allReadStatus = allMessages.reduce((accumulator, msg) => {\n              if (msg.messageId !== 0) {\n                return {\n                  ...accumulator,\n                  [msg.messageId]: getParsedStatus(msg, groupChannel),\n                };\n              }\n              return accumulator;\n            }, {});\n            setReadStatus(allReadStatus);\n          }\n        };\n\n        const newHandlerId = uuidv4();\n        sdk.addChannelHandler(newHandlerId, handler);\n        setChannelHandlerId(newHandlerId);\n\n        // this order is important - this mark as read should update the event handler up above\n        groupChannel.markAsRead();\n\n        // There should only be one single instance per channel view.\n        const prevMessageListQuery = groupChannel.createPreviousMessageListQuery();\n        prevMessageListQuery.limit = 30;\n        prevMessageListQuery.reverse = false;\n\n        setMessageSource(prevMessageListQuery);\n\n        messagesDispatcher({\n          type: messageActionTypes.GET_PREV_MESSAGES_START,\n        });\n\n        // Retrieving previous messages.\n        prevMessageListQuery.load((messages, error) => {\n          if (error) {\n            // maybe - add error state\n            return;\n          }\n          messagesDispatcher({\n            type: messageActionTypes.GET_PREV_MESSAGES_SUCESS,\n            payload: {\n              messages,\n              hasMore: prevMessageListQuery.hasMore,\n            },\n          });\n          setTimeout(() => scrollIntoLast('.sendbird-msg-hoc'));\n        });\n      });\n    }\n  }, [channelUrl, sdkInit]);\n\n  // todo: cleanup internal state - this is for removing messages from other person\n  useEffect(() => {\n    setMessageReciverId(uuidv4());\n    if (channelUrl && sdk) {\n      eventHandler({ messagesDispatcher, sdk });\n    }\n    return () => {\n      if (sdk) {\n        sdk.removeChannelHandler(messageReciverId);\n      }\n    };\n  }, [channelUrl, sdkInit]);\n\n  // to create initial read status\n  useEffect(() => {\n    if (allMessages.length > 0) {\n      const allReadStatus = allMessages.reduce((accumulator, msg) => {\n        if (msg.messageId !== 0) {\n          return {\n            ...accumulator,\n            [msg.messageId]: getParsedStatus(msg, currentGroupChannel),\n          };\n        }\n        return accumulator;\n      }, {});\n      setReadStatus(allReadStatus);\n    }\n  }, [allMessages]);\n\n  if (loading) {\n    return (<PlaceHolder type={PlaceHolderTypes.LOADING} />);\n  }\n\n  if (invalidChannel) {\n    return (<PlaceHolder type={PlaceHolderTypes.WRONG} />);\n  }\n  return (\n    <div className=\"sendbird-conversation\">\n      <ChatHeader\n        onActionClick={onChatHeaderActionClick}\n        avatar={getChannelAvatarSource(currentGroupChannel)}\n        title={getChannelTitle(currentGroupChannel)}\n        getLastSeenAt={() => getLastSeenAt(currentGroupChannel)}\n        isActive={false}\n        isMuted={false}\n      />\n      <ConversationScroll\n        scrollRef={scrollRef}\n        hasMore={hasMore}\n        messagesDispatcher={messagesDispatcher}\n        messageSource={messageSource}\n        initialized={initialized}\n        allMessages={allMessages}\n        userId={userId}\n        readStatus={readStatus}\n        currentGroupChannel={currentGroupChannel}\n        renderChatItem={renderChatItem}\n        deleteMessage={(message, cb) => {\n          currentGroupChannel.deleteMessage(message, (err) => {\n            if (cb) {\n              cb(err);\n            }\n            if (!err) {\n              messagesDispatcher({\n                type: messageActionTypes.ON_MESSAGE_DELETED,\n                payload: message.messageId,\n              });\n            }\n          });\n        }}\n        updateMessage={(messageId, text, cb) => {\n          const params = new sdk.UserMessageParams();\n          params.message = text;\n          currentGroupChannel.updateUserMessage(messageId, params, (message, err) => {\n            if (cb) {\n              cb(err, message);\n            }\n            if (!err) {\n              messagesDispatcher({\n                type: messageActionTypes.ON_MESSAGE_UPDATED,\n                payload: message,\n              });\n            }\n          });\n        }}\n      />\n      <div className=\"sendbird-conversation__footer\">\n        <MessageInput\n          ref={messageInputRef}\n          disabled={!initialized}\n          onStartTyping={() => {\n            currentGroupChannel.startTyping();\n          }}\n          onSendMessage={() => {\n            const text = messageInputRef.current.value;\n            const params = new sdk.UserMessageParams();\n            params.message = text;\n            const pendingMsg = currentGroupChannel.sendUserMessage(params, (message, error) => {\n              if (error) {\n                messagesDispatcher({\n                  type: messageActionTypes.SEND_MESSAGEGE_FAILURE,\n                  payload: params,\n                });\n                return;\n              }\n              messagesDispatcher({\n                type: messageActionTypes.SEND_MESSAGEGE_SUCESS,\n                payload: message,\n              });\n            });\n            messagesDispatcher({\n              type: messageActionTypes.SEND_MESSAGEGE_START,\n              payload: pendingMsg,\n            });\n            setTimeout(() => scrollIntoLast('.sendbird-msg-hoc'));\n          }}\n          onFileUpload={(file) => {\n            const params = new sdk.FileMessageParams();\n            params.file = file;\n            const pendingMsg = currentGroupChannel.sendFileMessage(params, (message, error) => {\n              if (error) {\n                messagesDispatcher({\n                  type: messageActionTypes.SEND_MESSAGEGE_FAILURE,\n                  payload: params,\n                });\n                return;\n              }\n              messagesDispatcher({\n                type: messageActionTypes.SEND_MESSAGEGE_SUCESS,\n                payload: message,\n              });\n            });\n            messagesDispatcher({\n              type: messageActionTypes.SEND_MESSAGEGE_START,\n              payload: pendingMsg,\n            });\n            setTimeout(() => scrollIntoLast('.sendbird-msg-hoc'));\n          }}\n        />\n        <div className=\"sendbird-conversation__typing-indicator\">\n          <TypingIndicator channelUrl={channelUrl} sb={sdk} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nConversationPanel.propTypes = {\n  channelUrl: PropTypes.string.isRequired,\n  stores: PropTypes.shape({\n    sdkStore: {\n      initialized: PropTypes.bool,\n    },\n  }).isRequired,\n  dispatchers: PropTypes.shape({\n    messagesDispatcher: PropTypes.func.isRequired,\n    channelsDispatcher: PropTypes.func.isRequired,\n  }).isRequired,\n  config: PropTypes.shape({\n    userId: PropTypes.string.isRequired,\n  }).isRequired,\n  renderChatItem: PropTypes.element,\n  onChatHeaderActionClick: PropTypes.func,\n};\n\nConversationPanel.defaultProps = {\n  renderChatItem: null,\n  onChatHeaderActionClick: noop,\n};\n\nexport default withSendbirdContext(ConversationPanel);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Label from '../Label';\nimport { Typography, Colors } from '../Label/types';\nimport './index.scss';\n\nexport const InputLabel = ({ children }) => (\n  <Label\n    type={Typography.CAPTION_3}\n    color={Colors.ONBACKGROUND_1}\n    className=\"sendbird-input-label\"\n  >\n    {children}\n  </Label>\n);\n\nInputLabel.propTypes = {\n  children: PropTypes.string.isRequired,\n};\n\n// future: add validations? onChange? more props etc etc\nconst Input = React.forwardRef((props, ref) => {\n  const {\n    value,\n    placeHolder,\n    disabled,\n    name,\n  } = props;\n  const [inputValue, setInputValue] = useState(value);\n  return (\n    <div className=\"sendbird-input\">\n      <input\n        ref={ref}\n        name={name}\n        disabled={disabled}\n        value={inputValue}\n        className=\"sendbird-input--input\"\n        onChange={(e) => {\n          setInputValue(e.target.value);\n        }}\n      />\n      {(placeHolder && !inputValue) && (\n        <Label\n          className=\"sendbird-input--placeholder\"\n          type={Typography.BODY_1}\n          color={Colors.ONBACKGROUND_3}\n        >\n          {placeHolder}\n        </Label>\n      )}\n    </div>\n  );\n});\n\nInput.propTypes = {\n  value: PropTypes.string,\n  placeHolder: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n};\n\nInput.defaultProps = {\n  value: '',\n  placeHolder: '',\n  disabled: false,\n};\n\nexport default Input;\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './edit-details.scss';\nimport Modal from '../../../ui/Modal';\nimport Input, { InputLabel } from '../../../ui/Input';\nimport Avatar from '../../../ui/Avatar';\nimport { Type as ButtonType } from '../../../ui/Button/type';\nimport Label, { Typography, StringSet } from '../../../ui/Label';\nimport TextButton from '../../../ui/TextButton';\nimport { Colors } from '../../../utils/color';\n\nconst EditDetails = (props) => {\n  const {\n    onSubmit,\n    onCancel,\n    avatar,\n    title,\n  } = props;\n  const inputRef = useRef(null);\n  const hiddenInputRef = useRef(null);\n  const [currentImg, setCurrentImg] = useState(avatar);\n  return (\n    <Modal\n      titleText={StringSet.MODAL__CHANNEL_INFORMATION__TITLE}\n      submitText={StringSet.BUTTON__SAVE}\n      onCancel={onCancel}\n      onSubmit={() => {\n        onSubmit(currentImg, inputRef.current.value);\n        onCancel();\n      }}\n      type={ButtonType.PRIMARY}\n    >\n      <form className=\"channel-profile-form\">\n        <div className=\"channel-profile-form__img-section\">\n          <InputLabel>\n            {StringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE}\n          </InputLabel>\n          <div className=\"channel-profile-form__avatar\">\n            <Avatar\n              height=\"80px\"\n              width=\"80px\"\n              src={currentImg}\n            />\n          </div>\n          <input\n            ref={hiddenInputRef}\n            type=\"file\"\n            accept=\"image/gif, image/jpeg, image/png\"\n            style={{ display: 'none' }}\n            onChange={(e) => {\n              setCurrentImg(URL.createObjectURL(e.target.files[0]));\n            }}\n          />\n          <TextButton\n            className=\"channel-profile-form__avatar-button\"\n            onClick={() => hiddenInputRef.current.click()}\n            notUnderline\n          >\n            <Label type={Typography.BUTTON_1} color={Colors.PRIMARY}>\n              {StringSet.MODAL__CHANNEL_INFORMATION__UPLOAD}\n            </Label>\n          </TextButton>\n        </div>\n        <div className=\"channel-profile-form__name-section\">\n          <InputLabel>\n            {StringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_NAME}\n          </InputLabel>\n          <Input\n            ref={inputRef}\n            value={title}\n            placeHolder={StringSet.MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER}\n          />\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nEditDetails.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  avatar: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n};\n\nexport default EditDetails;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './channel-profile.scss';\n\nimport Avatar from '../../../ui/Avatar';\nimport Label, { Typography, StringSet } from '../../../ui/Label';\nimport EditDetailsModal from './EditDetails';\nimport TextButton from '../../../ui/TextButton';\nimport { Colors } from '../../../utils/color';\n\nconst ChannelProfile = (props) => {\n  const {\n    avatar,\n    title,\n    onChannelInfoChange,\n  } = props;\n  const [showModal, setShowModal] = useState(false);\n\n  return (\n    <div className=\"sendbird-channel-profile\">\n      <div className=\"sendbird-channel-profile__avatar\">\n        <Avatar src={avatar} />\n      </div>\n      <Label\n        type={Typography.SUBTITLE_2}\n        color={Colors.ONBACKGROUND_1}\n        className=\"sendbird-channel-profile__title\"\n      >\n        {title}\n      </Label>\n      <TextButton className=\"sendbird-channel-profile__edit\" onClick={() => setShowModal(true)} notUnderline>\n        <Label type={Typography.BUTTON_1} color={Colors.PRIMARY}>\n          {StringSet.CHANNEL_SETTING__PROFILE__EDIT}\n        </Label>\n      </TextButton>\n      {\n        showModal && (\n          <EditDetailsModal\n            onCancel={() => setShowModal(false)}\n            onSubmit={onChannelInfoChange}\n            avatar={avatar}\n            title={title}\n          />\n        )\n      }\n    </div>\n  );\n};\n\nChannelProfile.propTypes = {\n  avatar: PropTypes.string,\n  title: PropTypes.string,\n  onChannelInfoChange: PropTypes.func,\n};\n\nChannelProfile.defaultProps = {\n  avatar: '',\n  title: '',\n  onChannelInfoChange: () => { },\n};\n\nexport default ChannelProfile;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Avatar from '../../ui/Avatar';\nimport Label, { StringSet } from '../../ui/Label';\nimport { Typography, Colors } from '../../ui/Label/types';\nimport Modal from '../../ui/Modal';\nimport { Type as ButtonTypes } from '../../ui/Button/type';\nimport Checkbox from '../../ui/Checkbox';\n\nconst InviteMembers = (props) => {\n  const {\n    userId,\n    userQueryCreator,\n    closeModal,\n    onSubmit,\n    submitText,\n    titleText,\n  } = props;\n\n  const [users, setUsers] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState({});\n  const [usersDataSource, setUsersDataSource] = useState({});\n\n  const selectedCount = Object.keys(selectedUsers).length;\n\n  useEffect(() => {\n    const applicationUserListQuery = userQueryCreator();\n    setUsersDataSource(applicationUserListQuery);\n    applicationUserListQuery.next((users_, error) => {\n      if (error) {\n        return;\n      }\n      setUsers(users_);\n    });\n  }, []);\n\n  return (\n    <Modal\n      onCancel={closeModal}\n      onSubmit={() => {\n        onSubmit(Object.keys(selectedUsers));\n        closeModal();\n      }}\n      submitText={submitText}\n      titleText={titleText}\n      type={ButtonTypes.PRIMARY}\n    >\n      <div>\n        <Label\n          color={(selectedCount > 0) ? Colors.PRIMARY : Colors.ONBACKGROUND_3}\n          type={Typography.CAPTION_1}\n        >\n          {`${selectedCount} ${StringSet.MODAL__INVITE_MEMBER__SELECTEC}`}\n        </Label>\n        <div\n          className=\"sendbird-create-channel--scroll\"\n          onScroll={(e) => {\n            const { hasNext } = usersDataSource;\n            const fetchMore = (\n              e.target.clientHeight + e.target.scrollTop === e.target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              usersDataSource.next((usersBatch, error) => {\n                if (error) {\n                  return;\n                }\n                setUsers([\n                  ...users,\n                  ...usersBatch,\n                ]);\n              });\n            }\n          }}\n        >\n          {\n            users.map((user) => (user.userId !== userId) && (\n              <div key={user.userId} className=\"sendbird-create-channel--user-row\">\n                <div className=\"sendbird-create-channel--user-row--avatar\">\n                  <Avatar height=\"40px\" width=\"40px\" src={user.profileUrl} />\n                </div>\n                <div className=\"sendbird-create-channel--user-row--label\">\n                  <Label type={Typography.SUBTITLE_1} color={Colors.ONBACKGROUND_1}>\n                    {user.nickname}\n                  </Label>\n                </div>\n                {/* eslint-disable-next-line jsx-a11y/label-has-associated-control */}\n                <label htmlFor={user.userId} className=\"sendbird-create-channel--user-row--checkbox\">\n                  <Checkbox\n                    id={user.userId}\n                    checked={selectedUsers[user.userId]}\n                    onChange={\n                      (event) => {\n                        const modifiedSelectedUsers = {\n                          ...selectedUsers,\n                          [event.target.id]: event.target.checked,\n                        };\n\n                        if (!event.target.checked) {\n                          delete modifiedSelectedUsers[event.target.id];\n                        }\n\n                        setSelectedUsers(modifiedSelectedUsers);\n                      }\n                    }\n                  />\n                </label>\n              </div>\n            ))\n          }\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nInviteMembers.propTypes = {\n  userId: PropTypes.string.isRequired,\n  userQueryCreator: PropTypes.func.isRequired,\n  closeModal: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  submitText: PropTypes.string,\n  titleText: PropTypes.string,\n};\nInviteMembers.defaultProps = {\n  submitText: 'create',\n  titleText: 'Create new channel',\n};\n\nexport default InviteMembers;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './members-accordion.scss';\n\nimport Button from '../../../ui/Button';\nimport {\n  Type as ButtonTypes,\n  Size as ButtonSizes,\n} from '../../../ui/Button/type';\nimport Avatar from '../../../ui/Avatar';\nimport Label, { StringSet } from '../../../ui/Label';\nimport { Typography, Colors } from '../../../ui/Label/types';\nimport Modal from '../../../ui/Modal';\nimport InviteMembers from '../../InviteMembers';\n\nconst MemebersAccordion = ({\n  members,\n  userQueryCreator,\n  userId,\n  onInviteMemebers,\n}) => {\n  const [showMoreModal, setShowMoreModal] = useState(false);\n  const [showAddUserModal, setShowAddUserModal] = useState(false);\n  return (\n    <div className=\"sendbird-members-accordion\">\n      <div className=\"sendbird-members-accordion__list\">\n        {\n          // display only first five members\n          members.slice(0, 6).map((member) => (\n            <div className=\"sendbird-members-accordion__member\" key={member.userId}>\n              <div className=\"sendbird-members-accordion__member-avatar\">\n                <Avatar height=\"24px\" width=\"24px\" />\n              </div>\n              <Label type={Typography.SUBTITLE_2} color={Colors.ONBACKGROUND_1}>\n                {member.nickname}\n              </Label>\n            </div>\n          ))\n        }\n      </div>\n      <div className=\"sendbird-members-accordion__footer\">\n        <Button\n          type={ButtonTypes.SECONDARY}\n          size={ButtonSizes.SMALL}\n          onClick={() => setShowMoreModal(true)}\n        >\n          <Label type={Typography.BUTTON_1} color={Colors.ONBACKGROUND_1}>\n            {StringSet.CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS}\n          </Label>\n        </Button>\n        {\n          showMoreModal && (\n            <Modal\n              hideFooter\n              onCancel={() => setShowMoreModal(false)}\n              onSubmit={() => { }}\n              titleText={`${members.length} ${StringSet.MODAL__USER_LIST__TITLE}`}\n            >\n              <div className=\"sendbird-more-members__popup-scroll\">\n                {\n                  members.map((m) => (\n                    <div key={m.userId} className=\"sendbird-more-members__popup-member\">\n                      <div className=\"sendbird-more-members__popup-avatar\">\n                        <Avatar src={m.profileUrl} height=\"40px\" width=\"40px\" />\n                      </div>\n                      <Label type={Typography.SUBTITLE_1} Colors={Colors.ONBACKGROUND_1}>\n                        {m.nickname}\n                      </Label>\n                    </div>\n                  ))\n                }\n              </div>\n            </Modal>\n          )\n        }\n        <Button\n          type={ButtonTypes.SECONDARY}\n          size={ButtonSizes.SMALL}\n          onClick={() => setShowAddUserModal(true)}\n        >\n          <Label type={Typography.BUTTON_1} color={Colors.ONBACKGROUND_1}>\n            {StringSet.CHANNEL_SETTING__MEMBERS__INVITE_MEMBER}\n          </Label>\n        </Button>\n        {\n          showAddUserModal && (\n            <InviteMembers\n              titleText={StringSet.MODAL__INVITE_MEMBER__TITLE}\n              submitText={StringSet.BUTTON__OK}\n              closeModal={() => setShowAddUserModal(false)}\n              userId={userId}\n              userQueryCreator={userQueryCreator}\n              onSubmit={onInviteMemebers}\n            />\n          )\n        }\n      </div>\n    </div>\n  );\n};\n\nMemebersAccordion.propTypes = {\n  members: PropTypes.arrayOf(PropTypes.shape({})),\n  userQueryCreator: PropTypes.func.isRequired,\n  onInviteMemebers: PropTypes.func.isRequired,\n  userId: PropTypes.string.isRequired,\n};\n\nMemebersAccordion.defaultProps = {\n  members: [],\n};\n\nexport default MemebersAccordion;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\n\nimport './index.scss';\nimport Label, { StringSet } from '../../ui/Label';\nimport { Typography, Colors } from '../../ui/Label/types';\nimport Icon, { Types as IconTypes } from '../../ui/Icon';\n\nimport ChannelProfile from './components/ChannelProfile';\nimport MemebersAccordion from './components/MemebersAccordion';\nimport LeaveChannelModal from './components/LeaveChannel';\nimport PlaceHolder from '../../ui/PlaceHolder';\nimport PlaceHolderTypes from '../../ui/PlaceHolder/type';\nimport { uuidv4 } from '../../utils/uuid';\n\nfunction ChannelSettings(props) {\n  const {\n    onCloseClick,\n    channelUrl,\n    userListQuery,\n    onChannelModified,\n  } = props;\n\n  const {\n    stores: { sdkStore },\n    config: { userId },\n  } = props;\n\n  const { sdk, initialized } = sdkStore;\n\n  // hack to kepp track of channel updates by triggering useEffect\n  const [channelUpdateId, setChannelUpdateId] = useState(uuidv4());\n  const [channel, setChannel] = useState(null);\n  const [invalidChannel, setInvalidChannel] = useState(false);\n  const [showAccordion, setShowAccordion] = useState(false);\n  const [showLeaveChannelModal, setShowLeaveChannelModal] = useState(false);\n\n  useEffect(() => {\n    if (!channelUrl || !initialized || !sdk) {\n      setInvalidChannel(false);\n    } else {\n      sdk.GroupChannel.getChannel(channelUrl, (groupChannel) => {\n        if (!groupChannel) {\n          setInvalidChannel(true);\n        } else {\n          setInvalidChannel(false);\n          setChannel(groupChannel);\n        }\n      });\n    }\n  }, [channelUrl, initialized, channelUpdateId]);\n\n  if (!channel || invalidChannel) {\n    return (\n      <div className=\"sendbird-channel-settings\">\n        <div className=\"sendbird-channel-settings__header\">\n          <Label type={Typography.H_2} color={Colors.ONBACKGROUND_1}>\n            Channel details\n          </Label>\n          <Icon\n            type={IconTypes.CLOSE}\n            className=\"sendbird-channel-settings__close-icon\"\n            height=\"22px\"\n            width=\"22px\"\n            onClick={() => {\n              onCloseClick();\n            }}\n          />\n        </div>\n        <div>\n          <PlaceHolder type={PlaceHolderTypes.WRONG} />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"sendbird-channel-settings\">\n      <div className=\"sendbird-channel-settings__header\">\n        <Label type={Typography.H_2} color={Colors.ONBACKGROUND_1}>\n          {StringSet.CHANNEL_SETTING__HEADER__TITLE}\n        </Label>\n        <Icon\n          type={IconTypes.CLOSE}\n          className=\"sendbird-channel-settings__close-icon\"\n          height=\"22px\"\n          width=\"22px\"\n          onClick={() => {\n            onCloseClick();\n          }}\n        />\n      </div>\n      <div>\n        <ChannelProfile\n          avatar={channel.coverUrl}\n          title={channel.name}\n          onChannelInfoChange={(currentImg, currentTitle) => {\n            channel.updateChannel(currentTitle, currentImg, channel.data, (response) => {\n              onChannelModified(response);\n              setChannelUpdateId(uuidv4());\n            });\n          }}\n        />\n      </div>\n      <div\n        role=\"switch\"\n        aria-checked={showAccordion}\n        tabIndex={0}\n        onKeyDown={() => setShowAccordion(!showAccordion)}\n        className=\"sendbird-channel-settings__panel-item\"\n        onClick={() => setShowAccordion(!showAccordion)}\n      >\n        <Icon\n          type={IconTypes.MEMBERS}\n          className=\"sendbird-channel-settings__panel-icon-left\"\n          height=\"24px\"\n          width=\"24px\"\n        />\n        <Label\n          type={Typography.SUBTITLE_1}\n          color={Colors.ONBACKGROUND_1}\n        >\n          {`${StringSet.CHANNEL_SETTING__MEMBERS__TITLE} (${channel.members.length})`}\n        </Label>\n        <Icon\n          type={IconTypes.SHEVRON_RIGHT}\n          className={`\n            sendbird-channel-settings__panel-icon-right\n            sendbird-channel-settings__panel-icon--chevron\n            ${showAccordion ? 'sendbird-channel-settings__panel-icon--open' : ''}\n          `}\n          height=\"24px\"\n          width=\"24px\"\n        />\n      </div>\n      {\n        showAccordion && (\n          <MemebersAccordion\n            // eslint-disable-next-line\n            userQueryCreator={\n              (userListQuery && typeof userListQuery === 'function')\n                ? userListQuery\n                : sdk.createApplicationUserListQuery.bind(sdk)\n            }\n            userId={userId}\n            members={channel.members}\n            onInviteMemebers={(selectedMemebers) => {\n              channel.inviteWithUserIds(selectedMemebers, (response, error) => {\n                if (!error) {\n                  onChannelModified(response);\n                  setChannelUpdateId(uuidv4());\n                }\n              });\n            }}\n          />\n        )\n      }\n      <div\n        className=\"sendbird-channel-settings__panel-item\"\n        role=\"button\"\n        tabIndex={0}\n        onKeyDown={() => setShowLeaveChannelModal(true)}\n        onClick={() => setShowLeaveChannelModal(true)}\n      >\n        <Icon\n          type={IconTypes.LEAVE}\n          className={`\n            sendbird-channel-settings__panel-icon-left\n            sendbird-channel-settings__panel-icon__leave\n          `}\n          height=\"24px\"\n          width=\"24px\"\n        />\n        <Label\n          type={Typography.SUBTITLE_1}\n          color={Colors.ONBACKGROUND_1}\n        >\n          {StringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE}\n        </Label>\n      </div>\n      {\n        showLeaveChannelModal && (\n          <LeaveChannelModal\n            onCloseModal={() => setShowLeaveChannelModal(false)}\n            onLeaveChannel={() => {\n              channel.leave((_, error) => {\n                if (!error) {\n                  onCloseClick();\n                }\n              });\n            }}\n          />\n        )\n      }\n    </div>\n  );\n}\n\nChannelSettings.propTypes = {\n  onCloseClick: PropTypes.func,\n  onChannelModified: PropTypes.func,\n  channelUrl: PropTypes.string.isRequired,\n  // from withSendbirdContext\n  stores: PropTypes.shape({\n    sdkStore: {\n      sdk: PropTypes.shape({}),\n    },\n  }).isRequired,\n  config: PropTypes.shape({\n    userId: PropTypes.string,\n  }).isRequired,\n  userListQuery: PropTypes.func.isRequired,\n};\n\nChannelSettings.defaultProps = {\n  onCloseClick: () => {},\n  onChannelModified: () => {},\n};\n\nexport default withSendbirdContext(ChannelSettings);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Sendbird from '../../lib/Sendbird';\n\nimport ChannelList from '../ChannelList';\nimport Conversation from '../Conversation';\nimport ChannelSettings from '../ChannelSettings';\nimport ModalRoot from '../../hooks/useModal/ModalRoot';\nimport { MenuRoot } from '../../ui/ContextMenu';\n\nimport './index.scss';\n\nexport default function App(props) {\n  const {\n    appId,\n    userId,\n    accessToken,\n    theme,\n    userListQuery,\n    nickname,\n  } = props;\n  const [currentChannelUrl, setCurrentChannelUrl] = useState(null);\n  const [showSettings, setShowSettings] = useState(false);\n  return (\n    <Sendbird\n      appId={appId}\n      userId={userId}\n      accessToken={accessToken}\n      theme={theme}\n      nickname={nickname}\n    >\n      <div className=\"sendbird-app__wrap\">\n        <div className=\"sendbird-app__channellist-wrap\">\n          <ChannelList\n            userListQuery={userListQuery}\n            onChannelSelect={(channel) => {\n              if (channel && channel.url) {\n                setCurrentChannelUrl(channel.url);\n              }\n            }}\n          />\n        </div>\n        <div className=\"sendbird-app__conversation-wrap\">\n          <Conversation\n            channelUrl={currentChannelUrl}\n            onChatHeaderActionClick={() => { setShowSettings(true); }}\n          />\n        </div>\n      </div>\n      {showSettings && (\n        <div className=\"sendbird-app__settingspanel-wrap\">\n          <ChannelSettings\n            channelUrl={currentChannelUrl}\n            onCloseClick={() => { setShowSettings(false); }}\n          />\n        </div>\n      )}\n      <ModalRoot />\n      <MenuRoot />\n    </Sendbird>\n  );\n}\n\nApp.propTypes = {\n  appId: PropTypes.string.isRequired,\n  userId: PropTypes.string.isRequired,\n  accessToken: PropTypes.string,\n  theme: PropTypes.string,\n  userListQuery: PropTypes.func.isRequired,\n  nickname: PropTypes.string,\n};\n\nApp.defaultProps = {\n  accessToken: '',\n  theme: 'light',\n  nickname: '',\n};\n","// SendBird disconnect. Invalidates currentUser\n// eslint-disable-next-line max-len\nexport const getConnect = (store) => (userId, accessToken) => new Promise((resolve, reject) => {\n  const { stores = {} } = store;\n  const { sdkStore = {} } = stores;\n  const { sdk } = sdkStore;\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  if (!accessToken) {\n    sdk.connect(userId, (response, error) => {\n      if (error) {\n        reject(error);\n      } else {\n        resolve(response);\n      }\n    });\n  } else {\n    sdk.connect(userId, accessToken, (response, error) => {\n      if (error) {\n        reject(error);\n      } else {\n        resolve(response);\n      }\n    });\n  }\n});\n\n// SendBird disconnect. Invalidates currentUser\nexport const getDisconnect = (store) => () => new Promise((resolve, reject) => {\n  const { stores = {} } = store;\n  const { sdkStore = {} } = stores;\n  const { sdk } = sdkStore;\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  sdk.disconnect((response, error) => {\n    if (error) {\n      reject(error);\n    } else {\n      resolve(response);\n    }\n  });\n});\n\n// Using the updateCurrentUserInfo() method\n// you can update a user's nickname and profile image with a URL\n// eslint-disable-next-line max-len\nexport const getUpdateUserInfo = (store) => (nickName, profileUrl) => new Promise((resolve, reject) => {\n  const { stores = {} } = store;\n  const { sdkStore = {} } = stores;\n  const { sdk } = sdkStore;\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  sdk.updateCurrentUserInfo(nickName, profileUrl, (response, error) => {\n    if (error) {\n      reject(error);\n    } else {\n      resolve(response);\n    }\n  });\n});\n\nexport default {\n  getConnect,\n  getDisconnect,\n  getUpdateUserInfo,\n};\n","// helpers\nimport { MenuRoot } from './ui/ContextMenu';\nimport ModalRoot from './hooks/useModal/ModalRoot';\n\n// sendbird provider component to handle sdk connection and data\nimport SendbirdProvider from './lib/Sendbird';\n\n// complete app component - If user wants an out of the box solution\nimport App from './smart-components/App/index';\n\n// Individual smart components\n// - say user want to show only a specific channel use <Conversation {channelUrl} />\nimport ChannelList from './smart-components/ChannelList';\nimport Channel from './smart-components/Conversation';\nimport ChannelSetting from './smart-components/ChannelSettings';\n\n// HOC for using ui-kit state\n// withBird(MyCustomComponent) will give the sendbird state as props to MyCustomComponent\nimport withSendbird from './lib/SendbirdSdkContext';\nimport sendbirdSelectors from './lib/selectors';\n\nexport default {\n  MenuRoot,\n  ModalRoot,\n  SendbirdProvider,\n  App,\n  ChannelList,\n  Channel,\n  ChannelSetting,\n  withSendbird,\n  sendbirdSelectors,\n};\n"],"names":["Typography","H_1","H_2","SUBTITLE_1","SUBTITLE_2","BODY_1","BODY_2","BUTTON_1","BUTTON_2","CAPTION_1","CAPTION_2","CAPTION_3","Colors","ONBACKGROUND_1","ONBACKGROUND_2","ONBACKGROUND_3","ONCONTENT_1","PRIMARY","ERROR","changeTypographyToClassName","type","changeColorToClassName","color","getStringSet","lang","stringSet","en","CHANNEL_LIST__TITLE","CHANNEL__MESSAGE_INPUT__PLACE_HOLDER","CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE","CHANNEL__MESSAGE_LIST__NOTIFICATION__ON","CHANNEL_SETTING__HEADER__TITLE","CHANNEL_SETTING__PROFILE__EDIT","CHANNEL_SETTING__MEMBERS__TITLE","CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS","CHANNEL_SETTING__MEMBERS__INVITE_MEMBER","CHANNEL_SETTING__LEAVE_CHANNEL__TITLE","BUTTON__CANCEL","BUTTON__DELETE","BUTTON__SAVE","BUTTON__OK","BUTTON__CLOSE","BADGE__OVER","MODAL__DELETE_MESSAGE__TITLE","MODAL__CHANNEL_INFORMATION__TITLE","MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE","MODAL__CHANNEL_INFORMATION__UPLOAD","MODAL__CHANNEL_INFORMATION__CHANNEL_NAME","MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER","MODAL__INVITE_MEMBER__TITLE","MODAL__INVITE_MEMBER__SELECTEC","MODAL__CREATE_CHANNEL__TITLE","MODAL__CREATE_CHANNEL__SELECTED","MODAL__USER_LIST__TITLE","TYPING_INDICATOR__IS_TYPING","TYPING_INDICATOR__AND","TYPING_INDICATOR__ARE_TYPING","TYPING_INDICATOR__MULTIPLE_TYPING","MESSAGE_STATUS__SENDING_FAILED","MESSAGE_STATUS__TRY_AGAIN","MESSAGE_STATUS__OR","MESSAGE_STATUS__DELETE","PLACE_HOLDER__NO_CHANNEL","PLACE_HOLDER__WRONG","PLACE_HOLDER__RETRY_TO_CONNECT","StringSet","Label","children","className","injectingClassName","Array","isArray","join","propTypes","PropTypes","oneOf","Object","keys","oneOfType","string","number","element","isRequired","arrayOf","defaultProps","MenuItem","onClick","e","keyCode","func","MenuRoot","MenuItems","props","closeDropdown","menuRef","handleClickOutside","event","current","contains","target","setState","document","addEventListener","state","removeEventListener","parentRef","parentRect","getBoundingClientRect","x","y","menuStyle","top","left","window","innerWidth","innerHeight","rect","height","width","React","createRef","setupEvents","getMenuPosition","cleanUpEvents","createPortal","display","position","Math","round","getElementById","Component","shape","instanceOf","Element","ContextMenu","useState","showMenu","setShowMenu","menuTrigger","menuItems","MODAL_ROOT","SendbirdSdkContext","createContext","withSendbirdContext","OriginalComponent","mapStoreToProps","ContextAwareComponent","context","console","warn","mergedProps","componentName","displayName","name","INIT_SDK","SET_SDK_LOADING","INIT_USER","UPDATE_USER_INFO","connectToSDK","dispatchers","userId","appId","sdkStore","nickname","sdkDispatcher","userDispatcher","payload","disconnect","sdk","Sb","connect","user","error","paylod","updateCurrentUserInfo","profileUrl","namedUser","err","reducer","action","sdkActions","loading","initialized","actions","sb","Sendbird","accessToken","theme","useReducer","sdkReducers","sdkInitialState","userReducers","userInitialState","userStore","useEffect","appentElemWithId","id","elem","createElement","setAttribute","body","querySelector","appendChild","modalRoot","menuRoot","stores","config","RESET_CHANNEL_LIST","CREATE_CHANNEL","LEAVE_CHANNEL_SUCCESS","SET_CURRENT_CHANNEL","SHOW_CHANNEL_SETTINGS","HIDE_CHANNEL_SETTINGS","FETCH_CHANNELS_START","FETCH_CHANNELS_SUCCESS","FETCH_CHANNELS_FAILURE","INIT_CHANNELS_START","INIT_CHANNELS_SUCCESS","INIT_CHANNELS_FAILURE","ON_USER_JOINED","ON_CHANNEL_DELETED","ON_USER_LEFT","ON_CHANNEL_CHANGED","ON_READ_RECEIPT_UPDATED","ON_DELIVERY_RECEIPT_UPDATED","allChannels","currentChannel","showSettings","initialState","length","url","currentChannels","map","c","filteredChannels","filter","find","channel","newAllChannels","myMemberState","uuidv4","replace","r","random","v","toString","Img","src","alt","AvatarInner","slice","i","Avatar","Badge","count","maxLevel","maximumNumber","parseInt","repeat","getChannelAvatarSource","coverUrl","members","getChannelTitle","prettyDate","date","Moment","fromNow","getLastSeenAt","getReadStatus","readStatus","keysOfReadStatus","reduce","latest","key","last_seen_at","getTotalMembers","memberCount","getLastMessage","lastMessage","message","getChannelUnreadMessageCount","unreadMessageCount","ChannelPreview","isActive","ChannelAction","tabIndex","utils","bool","IconButton","forwardRef","ref","disabled","ChannelHeader","title","iconButton","Types","LOADING","NO_CHANNELS","WRONG","ModalHeader","ModalClose","ModalFooter","Modal","isOpen","useModal","setOpen","open","useCallback","close","ModalWrapper","ModalComponents","Type","SECONDARY","DANGER","DISABLED","Size","BIG","SMALL","changeTypeToClassName","changeSizeToClassName","size","Button","injectingClassNames","ATTACH","ADD","ARROW_LEFT","CAMERA","MORE","MUTE","CHECKBOX","CHECKBOX_OFF","CLOSE","COPY","CHAT","CREATE","DELETE","DUMMY","EDIT","ERROR_FILLED","DELIVERED","DOCUMENT","DOWNLOAD","FILE_AUDIO","FILE_DOCUMENT","GIF","INFO","LEAVE","NEW_MESSAGE","MEMBERS","NOTIFICATIONS","PHOTO","PLAY","PLUS","READ","REFRESH","SEND","SENT","SHEVRON_RIGHT","SPINNER","USER","changeTypeToIconComponent","Icon","style","createChannel","selectedUsers","Promise","resolve","reject","GroupChannel","createChannelWithUserIds","groupChannel","getUsers","setUsers","callback","setUsersDataSource","userListQuery","applicationUserListQuery","createApplicationUserListQuery","next","users","Checkbox","checked","onChange","isChecked","setCheck","AddChannel","channelListDispatcher","openModal","closeModal","setSelectedUsers","usersDataSource","selectedCount","hasNext","fetchMore","clientHeight","scrollTop","scrollHeight","usersBatch","modifiedSelectedUsers","then","titleText","ModalBody","onSubmit","onCancel","submitText","ButtonTypes","hideFooter","IconTypes","LeaveChannel","onCloseModal","onLeaveChannel","ChannelPreviewAction","useRef","showModal","setShowModal","stopPropagation","toggleDropdown","LeaveChannelModal","Loader","ONBACKGROUND_4","PlaceHolder","retryToConnect","PlaceHolderTypes","ChannelsPlaceholder","Placeholder","createEventHandler","sdkChannelHandlerId","ChannelHandler","onChannelChanged","channelActions","onChannelDeleted","channelUrl","onUserJoined","onUserLeft","onReadStatus","onDeliveryReceiptUpdated","addChannelHandler","setupChannelList","setChannelSource","onChannelSelect","channelListQuery","createMyGroupChannelListQuery","includeEmpty","order","limit","channelList","noop","ChannelList","renderChannelPreview","sdkIntialized","channelListReducers","channelListInitialState","channelListStore","channelSource","setSdkChannelHandlerId","removeChannelHandler","channelListActions","getChannel","idx","cb","leave","response","PlaceholderTypes","RESET_MESSAGES","GET_PREV_MESSAGES_START","GET_PREV_MESSAGES_SUCESS","SEND_MESSAGEGE_START","SEND_MESSAGEGE_SUCESS","SEND_MESSAGEGE_FAILURE","ON_MESSAGE_RECEIVED","ON_MESSAGE_UPDATED","ON_MESSAGE_DELETED","allMessages","hasMore","actionTypes","messages","m","reqId","failed","messageId","messagesDispatcher","uniqueId","onMessageReceived","messageActions","onMessageUpdated","_","onMessageDeleted","getMessageCreatedAt","createdAt","format","getSenderName","sender","friendName","getSenderProfileUrl","MessageStatusType","PENDING","FAILED","MessageStatus","status","onClickEvents","label","icon","objectOf","array","object","copyToClipboard","text","clipboardData","setData","queryCommandSupported","textarea","textContent","select","execCommand","ex","removeChild","OutgoingUserMessage","showEdit","showRemove","IncomingUserMessage","Message","isByMe","push","AdminMessage","messageType","SUPPORTED_MIMES","IMAGE","VIDEO","isImage","includes","isVideo","unSupported","ThumbnailMessage","imgLoaded","setImgLoaded","TextButton","notUnderline","truncate","fullStr","strLen","separator","sepLen","charsToShow","frontChars","ceil","backChars","floor","substr","MAX_TRUNCATE_LENGTH","checkFileType","fileUrl","result","imageFile","audioFile","test","OutgoingFileMessage","openFileUrl","IncomingFileMessage","MessageSwitch","DateSeparator","separatorColor","LINE_HEIGHT","setHeight","handleUploadFile","files","MessageInput","isEdit","value","placeholder","maxLength","onFileUpload","onSendMessage","onCancelEdit","onStartTyping","fileInputRef","inputValue","setInputValue","click","FileViewerComponent","onClose","onDelete","FileViewer","RemoveMessage","onDeleteMessage","MessageHoc","hasSeperator","deleteMessage","updateMessage","setShowEdit","setShowRemove","showFileViewer","setShowFileViewer","requestState","moment","isFileMessage","FileMessage","isAdminMessage","isUserMessage","RemoveMessageModal","isDateSeperator","scrollIntoLast","selector","intialTry","MAX_TRIES","currentTry","nodes","querySelectorAll","last","scrollIntoView","setTimeout","getParsedStatus","currentGroupChannel","unreadCount","getReadReceipt","isDelivered","getDeliveryReceipt","ConversationScroll","scrollRef","messageSource","first","load","messageActionTypes","renderChatItem","onScroll","prev","prevCreatedAt","currentCreatedAt","isSame","onUpdateMessage","MessageHOC","elementType","generateName","TypingIndicator","handlerId","setHandlerId","typingMembers","setTypingMembers","newHandlerId","handler","onTypingStatusUpdated","getTypingMembers","AutoRefresh","repeatFunc","setLabel","interval","setInterval","clearInterval","ChatHeader","avatar","subTitle","isMuted","onActionClick","ConversationPanel","onChatHeaderActionClick","sdkInit","messagesReducer","messagesInitialState","messagesStore","setMessageSource","invalidChannel","setInvalidChannel","channelHandlerId","setChannelHandlerId","setReadStatus","messageReciverId","setMessageReciverId","setCurrentGroupChannel","messageInputRef","onReadReceiptUpdated","allReadStatus","accumulator","msg","markAsRead","prevMessageListQuery","createPreviousMessageListQuery","reverse","eventHandler","params","UserMessageParams","updateUserMessage","startTyping","pendingMsg","sendUserMessage","file","FileMessageParams","sendFileMessage","channelsDispatcher","InputLabel","Input","placeHolder","EditDetails","inputRef","hiddenInputRef","currentImg","setCurrentImg","ButtonType","URL","createObjectURL","ChannelProfile","onChannelInfoChange","EditDetailsModal","InviteMembers","userQueryCreator","users_","MemebersAccordion","onInviteMemebers","showMoreModal","setShowMoreModal","showAddUserModal","setShowAddUserModal","member","ButtonSizes","ChannelSettings","onCloseClick","onChannelModified","channelUpdateId","setChannelUpdateId","setChannel","showAccordion","setShowAccordion","showLeaveChannelModal","setShowLeaveChannelModal","currentTitle","updateChannel","data","bind","selectedMemebers","inviteWithUserIds","App","currentChannelUrl","setCurrentChannelUrl","setShowSettings","Conversation","getConnect","store","Error","getDisconnect","getUpdateUserInfo","nickName","ModalRoot","SendbirdProvider","Channel","ChannelSetting","withSendbird","sendbirdSelectors"],"mappings":"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"}